(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/7vu":function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.date {\r\n    min-width: 111px !important;\n}\r\n",""])},0:function(e,t,a){a("Vtdi"),e.exports=a("q+Kr")},"1MaI":function(e,t,a){"use strict";var n=a("HP+Z");a.n(n).a},"1RJk":function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n#icon[data-v-bbe0a46e] {\n    margin: 15px auto !important;\n    text-align: center;\n}\n",""])},"26q3":function(e,t,a){"use strict";a.r(t);var n=a("o0o1"),r=a.n(n),s=a("41Hj"),o=a("L2JU"),i=a("vDqi"),l=a.n(i),c=a("Obrr"),d=a("X9p1"),u=a("IF94"),m=a("uIXr"),b=a("YZfj"),v=a("GUe+"),p=a("JtJI"),f=a("KaE5"),_=a("1uQM");function g(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function h(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){g(s,n,r,o,i,"next",e)}function i(e){g(s,n,r,o,i,"throw",e)}o(void 0)}))}}function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){w(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var x={directives:{"b-toggle":c.e},components:{BAlert:d.a,BCard:u.a,BCardHeader:m.a,BCardBody:b.a,BButton:v.a,BPagination:p.a,BTable:f.a,BCardText:_.a,"v-user-panel":s.d},data:function(){return{canAxios:!1,ban:!1,user_status:!1,programStatus:null,bannerInfo:[],loadProgress:null,buttons:{upload:!1,save:!1,delete:!1},id_org:null,csrf:document.getElementsByName("csrf-token")[0].content,text:"dfs",prevTable:{curPage:1,perPage:5},resTable:{curPage:1,perPage:5},dku_status:{color:"secondary",label:""}}},methods:k(k({},Object(o.b)(["requestPageData","requestUser"])),{},{getApprove:function(){var e=this;l.a.get("/program/is-approve").then((function(t){e.programStatus=0!==t.data.p_status,e.ban=0!==t.data.ban,e.user_status=0!==t.data.user_status}))},approveModal:function(){var e=this;this.canAxios=!1,this.$bvModal.msgBoxConfirm("Редактирование программы модернизации ифраструктуры будет временно заблокировано",{title:"Подтверждение действий.",okTitle:"Да",okVariant:"danger",cancelTitle:"Нет",centered:!0}).then((function(t){e.canAxios=t,e.setApprove()}))},setApprove:function(){var e=this;this.canAxios&&l.a.post("/program/approve",null,{headers:{"X-CSRF-Token":this.csrf}}).then((function(t){e.programStatus=t.data.programStatus,t.data.status||e.errorReport(t.data.msg)}))},onRowClick:function(e){e.id&&(window.location.href="/program/object/view/".concat(e.id))},rowCount:function(e){var t,a;return"resTable"===e&&(null===(t=this.reservedObjects)||void 0===t?void 0:t.items)?this.reservedObjects.items.length>this.resTable.perPage:!("prevTable"!==e||!(null===(a=this.priorityObjects)||void 0===a?void 0:a.items))&&this.priorityObjects.items.length>this.prevTable.perPage},fileInput:function(){var e=document.querySelector("#file_input_pdf_main"),t=e.files[0];this.checkExt(t.type)?(this.setBanner("primary","Файл ".concat(t.name," загружается ").concat(this.loadProgress,"%")),this.uploadFileToYii(t),e.value=null):e.value=null},uploadFileToYii:function(e){var t=this;return h(r.a.mark((function a(){var n;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(n=new FormData).append("progFile",e),a.next=4,l.a.post("/program/add-doc/".concat(t.id_org),n,{headers:{"X-CSRF-Token":t.csrf,"Content-Type":"multipart/form-data;"},onUploadProgress:function(e){t.loadProgress=Math.round(e.loaded/e.total*100)}}).then((function(e){e.data?(t.setBanner("success","Файл загружен успешно"),t.buttons.save=!0,t.buttons.delete=!0,t.buttons.upload=!1):t.setBanner("danger","При загрузке файла произошла ошибка, напишите в службу поддержки")}));case 4:case"end":return a.stop()}}),a)})))()},checkExt:function(e){return"application/pdf"===e||(this.setBanner("danger","Файл не является документом pdf!"),!1)},setBanner:function(e,t){var a=this;this.bannerInfo.unshift({show:!0,variant:e,message:t}),setTimeout((function(){a.resetBanners()}),1400)},resetBanners:function(){this.bannerInfo.pop()},deleteFileFromYii:function(){var e=this;l.a.post("/program/delete-doc/".concat(this.id_org),null,{headers:{"X-CSRF-Token":this.csrf}}).then((function(t){t.data?(e.setBanner("success","Файл удален успешно"),e.buttons.save=!1,e.buttons.delete=!1,e.buttons.upload=!0):e.setBanner("danger","При удалении файла произошла ошибка, напишите в службу поддержки")}))},getFileStatus:function(){var e=this;l.a.post("/program/check-doc/".concat(this.id_org),null,{headers:{"X-CSRF-Token":this.csrf}}).then((function(t){t.data?(e.buttons.save=!0,e.buttons.delete=!0):e.buttons.upload=!0}))},errorReport:function(e){this.$bvModal.msgBoxOk(e,{title:"Ошибка!",size:"sm",buttonSize:"sm",okVariant:"outline-success",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0})}}),mounted:function(){var e=this;return h(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.requestPageData({pageName:"programView"}),t.next=3,e.getApprove();case 3:return t.next=5,e.requestUser();case 5:"not"==(a=e.getUser.organization.dku_status)?(e.dku_status.label="В обработке",e.dku_status.color="secondary"):"approved"==a?(e.dku_status.label="Рассмотрено ДКУ",e.dku_status.color="success"):"rejected"==a&&(e.dku_status.label="Резерв",e.dku_status.color="warning"),e.id_org=e.getUser.organization.id,e.getFileStatus();case 9:case"end":return t.stop()}}),t)})))()},computed:k(k({},Object(o.c)(["getUser","getPageData"])),{},{objects:function(){return this.getPageData&&this.getPageData.objects},fieldsObjects:function(){return this.getPageData&&this.getPageData.fieldsObjects},priorityObjects:function(){return this.getPageData&&this.getPageData.priorityObjects},reservedObjects:function(){return this.getPageData&&this.getPageData.reservedObjects},target:function(){return this.getPageData&&this.getPageData.target},rowsPrev:function(){return this.getPageData.priorityObjects&&this.getPageData.priorityObjects.items.length},resPrev:function(){return this.getPageData.reservedObjects&&this.getPageData.reservedObjects.items.length}})},C=(a("Fe9v"),a("Jbt+"),a("KHd+")),O=Object(C.a)(x,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"dev_programme"}},[a("div",{directives:[{name:"can",rawName:"v-can:root",arg:"root"}]}),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-alert",{directives:[{name:"show",rawName:"v-show",value:!e.user_status,expression:"!user_status"}],attrs:{show:"",variant:"danger"}},[e._v("\n                Уважаемые пользователи! Просим Вас "),a("a",{staticClass:"btn btn-link",attrs:{href:"/organization/user-info/"+e.id_org}},[e._v("заполнить форму")]),e._v(", предоставив контактные данные сотрудников организации.\n            ")])],1),e._v(" "),a("div",{staticClass:"col-12"}),e._v(" "),a("div",{staticClass:"col-6"},[a("b-table",{attrs:{fields:[{key:"id",label:"№"},{key:"label",label:"Показатель"},{key:"value",label:"Значение"}],items:[{id:"1",label:"Полное наименование организации",value:e.getUser&&e.getUser.organization&&e.getUser.organization.name},{id:"2",label:"Сокращенное наименование организации",value:e.getUser&&e.getUser.organization&&e.getUser.organization.short_name}],small:"",bordered:""}}),e._v(" "),a("b-button",{staticClass:"btn btn-sm",staticStyle:{float:"right"},attrs:{href:"/organization/info"}},[e._v("Подробнее")])],1),e._v(" "),a("div",{staticClass:"col-4 offset-2"},[a("v-user-panel"),e._v(" "),a("h5",{staticStyle:{"margin-top":"5px"}},[e._v("Текущий статус ДКУ: "),a("label",{class:"text-"+e.dku_status.color},[e._v(e._s(e.dku_status.label))])])],1)]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("b-button",{directives:[{name:"can",rawName:"v-can:root,faiv_user,user",arg:"root,faiv_user,user"},{name:"show",rawName:"v-show",value:!e.programStatus&&!e.ban&&e.user_status,expression:"!programStatus && !ban && user_status"}],attrs:{variant:"info",href:"object/create"}},[e._v("Добавить объект кап. ремонта")]),e._v(" "),a("b-button",{directives:[{name:"can",rawName:"v-can:root,user",arg:"root,user"},{name:"show",rawName:"v-show",value:!e.programStatus&&!e.ban&&e.user_status,expression:"!programStatus && !ban && user_status"}],attrs:{variant:"info",href:"atz"}},[e._v("Добавить мероприятия по АТЗ")])],1),e._v(" "),a("div",{staticClass:"col-6"})]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"row"},[a("b-card",{attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",[a("b-icon-gear-wide-connected"),e._v("Объекты требующие капитального ремонта ")],1)]),e._v(" "),a("b-card-body",[a("b-card-text",[e._v("Приоритетные объекты")]),e._v(" "),a("b-table",{staticClass:"text-center",attrs:{"per-page":e.prevTable.perPage,"current-page":e.prevTable.curPage,"tbody-tr-class":"hover",items:e.priorityObjects&&e.priorityObjects.items,fields:e.fieldsObjects&&e.fieldsObjects.fields,small:"",bordered:"",hover:""},on:{"row-clicked":e.onRowClick}}),e._v(" "),a("b-pagination",{directives:[{name:"show",rawName:"v-show",value:e.rowCount("prevTable"),expression:"rowCount('prevTable')"}],attrs:{"per-page":e.prevTable.perPage,"total-rows":e.rowsPrev},model:{value:e.prevTable.curPage,callback:function(t){e.$set(e.prevTable,"curPage",t)},expression:"prevTable.curPage"}}),e._v(" "),a("div",{directives:[{name:"can",rawName:"v-can:user",arg:"user"}]},[a("b-card-text",[e._v("Резервные объекты")]),e._v(" "),a("b-table",{staticClass:"text-center",attrs:{"per-page":e.resTable.perPage,"current-page":e.resTable.curPage,"tbody-tr-class":"hover",items:e.reservedObjects&&e.reservedObjects.items,fields:e.fieldsObjects&&e.fieldsObjects.fields,small:"",bordered:"",hover:""},on:{"row-clicked":e.onRowClick}}),e._v(" "),a("b-pagination",{directives:[{name:"show",rawName:"v-show",value:e.rowCount("resTable"),expression:"rowCount('resTable')"}],attrs:{"per-page":e.resTable.perPage,"total-rows":e.resPrev},model:{value:e.resTable.curPage,callback:function(t){e.$set(e.resTable,"curPage",t)},expression:"resTable.curPage"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"mt-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},e._l(e.bannerInfo,(function(t,n){return a("b-alert",{key:n,attrs:{show:t.show,variant:t.variant,dismissible:"",fade:""}},[e._v(e._s(t.message))])})),1)])]),e._v(" "),a("div",{staticClass:"row justify-content-end"},[a("div",[a("a",{directives:[{name:"show",rawName:"v-show",value:!e.programStatus&&!e.ban,expression:"!programStatus && !ban"}],staticClass:"btn btn-secondary btn-sm",attrs:{href:"/program/export"},on:{click:function(t){return e.setSpinner()}}},[e._v("Выгрузить программу")]),e._v(" "),e.buttons.upload?a("label",{directives:[{name:"show",rawName:"v-show",value:!e.programStatus&&!e.ban&&e.user_status,expression:"!programStatus && !ban && user_status"}],staticClass:"btn btn-info btn-sm mt-2",attrs:{for:"file_input_pdf_main"}},[e._v("Загрузить PDF")]):e._e(),e._v(" "),a("input",{directives:[{name:"show",rawName:"v-show",value:!e.programStatus&&!e.ban&&e.user_status,expression:"!programStatus && !ban && user_status"}],staticClass:"hidden-file-input",attrs:{type:"file",id:"file_input_pdf_main"},on:{input:function(t){return e.fileInput()}}}),e._v(" "),e.buttons.delete&&e.user_status?a("b-button",{directives:[{name:"show",rawName:"v-show",value:!e.programStatus,expression:"!programStatus"}],staticClass:"btn btn-sm btn-danger",on:{click:function(t){return e.deleteFileFromYii()}}},[e._v("Удалить PDF")]):e._e(),e._v(" "),e.buttons.save?a("a",{staticClass:"btn btn-success btn-sm",attrs:{href:"/program/download-doc/"+e.id_org}},[e._v("Скачать PDF")]):e._e(),e._v(" "),a("b-button",{directives:[{name:"show",rawName:"v-show",value:!e.programStatus&&!e.ban&&e.user_status,expression:"!programStatus && !ban && user_status"}],staticClass:"btn btn-sm",on:{click:e.approveModal}},[e._v("Отправить на согласование")])],1)])])}),[],!1,null,"6e653f94",null);t.default=O.exports},"2Mqq":function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.extra-table-class {\r\n    vertical-align: middle !important;\r\n    text-align: center;\n}\n.vertical-align-centre-extra-table {\r\n    vertical-align: middle !important;\n}\n.overflow {\r\n    overflow: hidden;\n}\n.normal-font-weight-for-table {\r\n    font-weight: normal !important;\n}\n.cell-center-for-table {\r\n    vertical-align: middle !important;\r\n    text-align: center !important;\n}\r\n",""])},"41Hj":function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return F})),a.d(t,"c",(function(){return U})),a.d(t,"b",(function(){return Y}));var n=a("L2JU");function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var i={name:"userPanel",data:function(){return{user:{}}},computed:s({},Object(n.c)(["getUser"])),methods:s({},Object(n.b)(["requestUser"])),mounted:function(){this.requestUser()}},l=(a("ZDVc"),a("KHd+")),c=Object(l.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user_panel"},[a("div",{staticClass:"card squash"},[a("h3",{staticClass:"card-header",attrs:{id:"user_card_title"}},[e._v("\n            Информация по учетной записи пользователя\n        ")]),e._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"text-center card-text"},[a("span",[e._v(e._s(e.getUser.organization?e.getUser.organization.name:""))])]),e._v(" "),a("div",{staticClass:"text-center card-text  font-weight-bold"},[a("span",[e._v(e._s(e.getUser.fio))])]),e._v(" "),a("div",{staticClass:"text-center card-text"},[a("span",[e._v(e._s(e.getUser.position))])])])])])}),[],!1,null,"2ff1064e",null).exports,d=a("o0o1"),u=a.n(d),m=a("vDqi"),b=a.n(m),v=a("Obrr"),p=a("X9p1"),f=a("AeMN"),_=a("xD+F"),g=a("WEOK"),h=a("IF94"),y=a("uIXr"),k=a("YZfj"),w=a("GUe+"),x=a("MTVL"),C=a("0kd/"),O=a("giZP"),j=a("nH37");function P(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function D(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){P(s,n,r,o,i,"next",e)}function i(e){P(s,n,r,o,i,"throw",e)}o(void 0)}))}}function B(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return E(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,i=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){i=!0,s=e},f:function(){try{o||null==a.return||a.return()}finally{if(i)throw s}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var S={name:"CommentComponent",props:["obj_id"],directives:{"b-toggle":v.e},components:{BAlert:p.a,BSpinner:f.a,BFormFile:_.a,BCollapse:g.a,BCard:h.a,BCardHeader:y.a,BCardBody:k.a,BButton:w.a,BListGroup:x.a,BListGroupItem:C.a,BFormGroup:O.a,BFormTextarea:j.a},watch:{files:function(){if(this.files){var e,t=B(this.files);try{for(t.s();!(e=t.n()).done;){var a=e.value;this.types.includes(a.type)||(this.files=null)}}catch(e){t.e(e)}finally{t.f()}}}},data:function(){return{csrf:document.getElementsByName("csrf-token")[0].content,types:["application/pdf","application/doc","application/doch","image/jpeg","image/jpg","image/png"],files:null,bannerInfo:[],sending:!1,newComment:"",allComments:[]}},computed:{restWords:function(){return 255-(this.newComment.length||0)}},mounted:function(){var e=this;return D(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.obj_id;case 2:return t.next=4,e.getUser();case 4:return t.next=6,e.refreshComments();case 6:case"end":return t.stop()}}),t)})))()},methods:{setBanner:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;this.bannerInfo.unshift({show:!0,variant:e,message:t}),setTimeout((function(){a.bannerInfo.pop()}),n)},downloadFile:function(e,t){b.a.get("/api/file/download/".concat(e),{params:{fileName:t},headers:{"Content-Type":"application/json"},responseType:"arraybuffer"}).then((function(e){var a=e.headers["content-type"],n=new Blob([e.data],{type:a}),r=document.createElement("a");r.href=window.URL.createObjectURL(n),r.download=t,r.click()}))},getUser:function(){var e=this;return D(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",b.a.get("/api/comment/user").then((function(t){e.user_id=t.data})));case 1:case"end":return t.stop()}}),t)})))()},refreshComments:function(){var e=this;return D(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",b.a.get("/api/v2/comments/all/".concat(e.obj_id)).then((function(t){e.allComments=t.data})));case 1:case"end":return t.stop()}}),t)})))()},deleteComment:function(e){var t=this;return D(u.a.mark((function a(){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",b.a.post("/api/v2/comments/".concat(e,"/delete"),null,{headers:{"X-CSRF-Token":t.csrf}}).then((function(){t.refreshComments()})));case 1:case"end":return a.stop()}}),a)})))()},addNewComment:function(){var e=this;return D(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.newComment.length){t.next=2;break}return t.abrupt("return",e.setBanner("danger","Сначала ведите текст комментария!"));case 2:e.sending=!0,e.refreshComments(),(a=new FormData).append("id_obj",e.obj_id),a.append("message",e.newComment),a.append("id_user",e.user_id),b.a.post("/api/v2/comments/save",a,{headers:{"X-CSRF-Token":e.csrf}}).then(function(){var t=D(u.a.mark((function t(a){var n,r,s,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.data,!e.files){t.next=19;break}r=B(e.files),t.prev=3,r.s();case 5:if((s=r.n()).done){t.next=11;break}return o=s.value,t.next=9,e.sendFile(o,n);case 9:t.next=5;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),r.e(t.t0);case 16:return t.prev=16,r.f(),t.finish(16);case 19:e.refreshComments(),e.sending=!1,e.newComment="",e.files=null;case 23:case"end":return t.stop()}}),t,null,[[3,13,16,19]])})));return function(e){return t.apply(this,arguments)}}());case 9:case"end":return t.stop()}}),t)})))()},sendFile:function(e,t){var a=this;return D(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(r=new FormData).append("file",e),n.abrupt("return",b.a.post("/api/fileUpload/".concat(a.obj_id,"/").concat(t),r,{headers:{"X-CSRF-Token":a.csrf,"Content-Type":"multipart/form-data;"}}));case 3:case"end":return n.stop()}}),n)})))()}}},F=(a("wfNH"),Object(l.a)(S,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",{staticClass:"mt-3",attrs:{"no-body":""}},[a("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion1",modifiers:{accordion1:!0}}],staticClass:"p-1 toggle_button",attrs:{"header-tag":"header",role:"tab"}},[a("span",[a("b-icon",{staticClass:"mr-2 ml-1",attrs:{icon:"chat",scale:"1.5"}}),e._v("\n            Комментарии\n        ")],1)]),e._v(" "),a("b-collapse",{attrs:{id:"accordion1",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("div",[e.allComments.length?a("div",[a("transition-group",{attrs:{name:"slide-fade"}},e._l(e.allComments,(function(t,n){return a("b-list-group",{key:"key-"+n},["mgsu"===t.user_role?a("b-list-group-item",{staticClass:"flex-column align-items-start bg-light mt-2"},[a("div",{staticClass:"d-flex w-100 justify-content-between"},[a("h5",{staticClass:"mb-1 font-weight-bold text-warning",attrs:{id:"user_"+t.id_user}},[e._v("Минобрнауки России (эксперт)")]),e._v(" "),a("small",[e._v(e._s(t.created_at))])]),e._v(" "),a("p",{staticClass:"mb-1 font-italic"},[e._v(e._s(t.message))]),e._v(" "),t.files.length?a("div",{staticClass:"mt-2"},[a("div",{staticClass:"font-weight-bold"},[e._v("\n                                        Прикрепленные файлы:\n                                    ")]),e._v(" "),e._l(t.files,(function(t,n){return a("div",{key:n,staticClass:"ml-3"},[a("a",{attrs:{href:"#"+t.id_obj+"_"+t.id},on:{click:function(a){return e.downloadFile(t.id_obj+"_"+t.id,t.file_name+"."+t.file_ext)}}},[e._v("\n                                            "+e._s(t.file_name+"."+t.file_ext)+"\n                                        ")])])}))],2):e._e(),e._v(" "),a("small"),e._v(" "),e.user_id===t.id_user?a("div",{staticClass:"d-flex justify-content-end"},[a("b-button",{attrs:{variant:"outline-danger",size:"sm"},on:{click:function(a){return e.deleteComment(t.id)}}},[e._v("Удалить")])],1):e._e()]):"dep"===t.user_role?a("b-list-group-item",{staticClass:"flex-column align-items-start bg-light mt-2"},[a("div",{staticClass:"d-flex w-100 justify-content-between"},[a("h5",{staticClass:"mb-1 font-weight-bold text-warning",attrs:{id:"user_"+t.id_user}},[e._v("Минобрнауки России (ДЭП)")]),e._v(" "),a("small",[e._v(e._s(t.created_at))])]),e._v(" "),a("p",{staticClass:"mb-1 font-italic"},[e._v(e._s(t.message))]),e._v(" "),t.files.length?a("div",{staticClass:"mt-2"},[a("div",{staticClass:"font-weight-bold"},[e._v("\n                                        Прикрепленные файлы:\n                                    ")]),e._v(" "),e._l(t.files,(function(t,n){return a("div",{key:n,staticClass:"ml-3"},[a("a",{attrs:{href:"#"+t.id_obj+"_"+t.id},on:{click:function(a){return e.downloadFile(t.id_obj+"_"+t.id,t.file_name+"."+t.file_ext)}}},[e._v("\n                                            "+e._s(t.file_name+"."+t.file_ext)+"\n                                        ")])])}))],2):e._e(),e._v(" "),a("small"),e._v(" "),e.user_id===t.id_user?a("div",{staticClass:"d-flex justify-content-end"},[a("b-button",{attrs:{variant:"outline-danger",size:"sm"},on:{click:function(a){return e.deleteComment(t.id)}}},[e._v("Удалить")])],1):e._e()]):a("b-list-group-item",{staticClass:"flex-column align-items-start mt-2"},[a("div",[a("div",{staticClass:"d-flex w-100 justify-content-between"},[a("h5",{staticClass:"mb-1 font-weight-light",attrs:{id:"user_"+t.id_user}},[e._v(e._s(t.username))]),e._v(" "),a("small",[e._v(e._s(t.created_at))])]),e._v(" "),a("p",{staticClass:"mb-1"},[e._v(e._s(t.message))]),e._v(" "),t.files.length?a("div",{staticClass:"mt-2"},[a("div",{staticClass:"font-weight-bold"},[e._v("\n                                            Прикрепленные файлы:\n                                        ")]),e._v(" "),e._l(t.files,(function(t,n){return a("div",{key:n,staticClass:"ml-3"},[a("a",{staticClass:"text-decorate",attrs:{href:"#"+t.id_obj+"_"+t.id},on:{click:function(a){return e.downloadFile(t.id_obj+"_"+t.id,t.file_name+"."+t.file_ext)}}},[e._v("\n                                                "+e._s(t.file_name+"."+t.file_ext)+"\n                                            ")])])}))],2):e._e(),e._v(" "),a("small"),e._v(" "),e.user_id===t.id_user?a("div",{staticClass:"d-flex justify-content-end"},[a("b-button",{attrs:{variant:"outline-danger",size:"sm"},on:{click:function(a){return e.deleteComment(t.id)}}},[e._v("Удалить")])],1):e._e()])])],1)})),1)],1):a("b-list-group",[a("b-list-group-item",{staticClass:"flex-column align-items-start"},[a("div",{staticClass:"d-flex w-100 justify-content-between"},[a("h5",{staticClass:"mb-1 font-weight-light"},[e._v("Комментариев к этому объекту пока нет")])]),e._v(" "),a("small",[e._v("Но вы можете их добавить")])])],1)],1),e._v(" "),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-12"},e._l(e.bannerInfo,(function(t,n){return a("b-alert",{key:n,attrs:{show:t.show,variant:t.variant,dismissible:"",fade:""}},[e._v(e._s(t.message))])})),1)]),e._v(" "),a("div",[a("b-form-group",{staticClass:"mb-0",attrs:{"label-for":"textarea-lazy",description:"Слов осталось: "+e.restWords}},[a("b-form-textarea",{attrs:{placeholder:"Новый комментарий...",rows:"2","max-rows":"6",maxlength:"255"},model:{value:e.newComment,callback:function(t){e.newComment=t},expression:"newComment"}})],1),e._v(" "),a("div",{staticClass:"d-flex justify-content-end"},[a("b-form-file",{staticClass:"col-6 mr-3",attrs:{multiple:"",placeholder:"Файл...","browse-text":"Выбрать",accept:".jpg, .jpeg, .doc, .doch, .xls, .pdf, .png"},model:{value:e.files,callback:function(t){e.files=t},expression:"files"}}),e._v(" "),a("b-button",{attrs:{disabled:e.sending,variant:"outline-primary"},on:{click:function(t){return e.addNewComment()}}},[e.sending?a("b-spinner",{attrs:{small:""}}):a("span",[e._v("Добавить")])],1)],1)],1)])],1)],1)}),[],!1,null,null,null).exports),N=a("KaE5"),I=a("JtJI");function T(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(Object(a),!0).forEach((function(t){q(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function q(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var R={components:{BTable:N.a,BCard:h.a,BPagination:I.a},props:["id_org"],data:function(){return{curPage:1,perPage:1,fields:[{key:"name",label:"ФИО"},{key:"role",label:"Роль"},{key:"position",label:"Должность"},{key:"phone",label:"Телефон"},{key:"email",label:"email"}],items:[]}},computed:$($({},Object(n.c)(["getUser"])),{},{count:function(){return this.items.length}}),watch:{getUser:function(){var e=this,t=this.id_org||this.getUser.organization.id;b.a.get("/api/getUsersInfo/".concat(t)).then((function(t){e.items=t.data}))}},methods:$({},Object(n.b)(["requestUser"])),mounted:function(){var e,t=this;return(e=u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.requestUser();case 2:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){T(s,n,r,o,i,"next",e)}function i(e){T(s,n,r,o,i,"throw",e)}o(void 0)}))})()}},U=Object(l.a)(R,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"user-info-view"}},[a("b-card",{attrs:{header:"Контактная информация"}},[a("b-table",{attrs:{id:"user-ifo-table",stacked:"",fields:e.fields,"current-page":e.curPage,items:e.items,"per-page":e.perPage}}),e._v(" "),a("b-pagination",{attrs:{"total-rows":e.count,"per-page":e.perPage,"aria-controls":"user-ifo-table"},model:{value:e.curPage,callback:function(t){e.curPage=t},expression:"curPage"}})],1)],1)}),[],!1,null,"08c228a3",null).exports,A=a("B1l5"),M=a("Ki4g"),L=a("bPaI"),H=a("R5cT"),X=a("zMAm"),J=a("XhI9"),V=a("g2Gq");function K(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return G(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function W(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}var Z={directives:{BToggle:v.e},components:{BTable:N.a,BIcon:A.a,BSpinner:f.a,BTr:M.a,BTh:L.a,BFormInput:H.a,BCard:h.a,BCardBody:k.a,BCardHeader:y.a,BCollapse:g.a,BInputGroupAppend:X.a,BInputGroup:J.a,BFormSelect:V.a,BButton:w.a},mounted:function(){var e,t=this;return(e=u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getObjects();case 2:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){W(s,n,r,o,i,"next",e)}function i(e){W(s,n,r,o,i,"throw",e)}o(void 0)}))})()},data:function(){return{fields:[{key:"id_org",label:"ID ВУЗа",sortable:!0},{key:"region",label:"Субъект",sortable:!0},{key:"org_name",label:"Наименование ВУЗа",sortable:!0},{key:"pdf_export",label:"Выгрузка PDF",sortable:!0},{key:"program_status",label:"Статус программы",sortable:!0},{key:"obs_limits",label:"Общие лимиты",sortable:!0},{key:"obs_reserv",label:"Общий резерв (рассчитывается, когда ДЭП и ДКУ присвоили статус рассмотрено)",sortable:!0},{key:"pred_zakl",label:"Предварительное отклонение от лимитов",sortable:!0},{key:"kap_rem",label:"Объем бюджетного финансирования кап.ремонт по программе",sortable:!0},{key:"obj_all",label:"Объектов всего",sortable:!0},{key:"abj_obr",label:"Объектов в обработке",sortable:!0,variant:"secondary"},{key:"abj_prog",label:"Объектов на доработке",sortable:!0,variant:"warning"},{key:"abj_nappr",label:"Объектов не рекомендовано к согласованию",sortable:!0,variant:"danger"},{key:"abj_appr",label:"Объектов рекомендовано к согласованию",sortable:!0,variant:"success"},{key:"abj_dep",label:"Объектов рассмотрено ДЭП",sortable:!0},{key:"cost_pr",label:"Объем бюджетного финансирования по приоритетным объектам рекомендованным к согласованию",sortable:!0},{key:"cost_res",label:"Объем бюджетного финансирования по резервным объектам рекомендованным к согласованию",sortable:!0},{key:"cost_depPr",label:"Объем бюджетного финансирования по объектам рассмотренным ДЭП",sortable:!0},{key:"cost_depRes",label:"Объем бюджетного финансирования по объектам рассмотренным ДЭП(резерв)",sortable:!0},{key:"dep_status",label:"Статус программы (ДЭП)",sortable:!0},{key:"atz_nb",label:"Объем бюджетного финансирования АТЗ, не более",sortable:!0},{key:"atz",label:"Объем бюджетного финансирования АТЗ по программе",sortable:!0},{key:"atz_bud_fin",label:"Согласованный объем бюджетного финансирования АТЗ",sortable:!0},{key:"dku_status",label:"Статус программы (ДКУ)",sortable:!0}],items:[],filters:{id_org:null,region:null,org_name:null,file_exist:null}}},methods:{getObjects:function(){var e=this;b.a.get("/shit-table/data",{params:{filter:JSON.stringify(this.filters)}}).then((function(t){var a,n=0,r=0,s=0,o=0;(e.items=[],t.data.program)?(t.data.program.forEach((function(e){n+=parseFloat(e.pred_zakl),r+=parseFloat(e.atz_nb),s+=parseFloat(e.atz),o+=parseFloat(e.atz_bud_fin)})),e.items.push({obs_limits:"ИТОГО",pred_zakl:n,atz_nb:r.toFixed(3),atz:s.toFixed(3),atz_bud_fin:o.toFixed(3)}),(a=e.items).push.apply(a,K(t.data.program))):e.items.push({pred_zakl:0})}))},toObjects:function(e){window.location="/organization/list/".concat(e[0].id_org)}},watch:{filters:{handler:function(){this.getObjects()},deep:!0}}},Y=(a("9fTI"),Object(l.a)(Z,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"org-shit-table"}},[a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle.filters",modifiers:{filters:!0}}],staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",{staticClass:"toggle_button"},[a("b-icon",{staticClass:"mr-2 ml-1",attrs:{icon:"filter",scale:"1.5"}}),e._v("Фильтры")],1)]),e._v(" "),a("b-collapse",{attrs:{id:"filters",accordion:"filters",role:"tabpanel"}},[a("b-card-body",[a("b-input-group",{staticClass:"mb-2",attrs:{prepend:"ID"}},[a("b-form-input",{attrs:{type:"number"},model:{value:e.filters.id_org,callback:function(t){e.$set(e.filters,"id_org",t)},expression:"filters.id_org"}}),e._v(" "),a("b-input-group-append",[a("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){e.filters.id_org=null}}},[a("b-icon",{attrs:{icon:"backspace",variant:"danger",scale:"1.2"}})],1)],1)],1),e._v(" "),a("b-input-group",{staticClass:"mb-2",attrs:{prepend:"Субъект"}},[a("b-form-input",{model:{value:e.filters.region,callback:function(t){e.$set(e.filters,"region",t)},expression:"filters.region"}}),e._v(" "),a("b-input-group-append",[a("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){e.filters.region=null}}},[a("b-icon",{attrs:{icon:"backspace",variant:"danger",scale:"1.2"}})],1)],1)],1),e._v(" "),a("b-input-group",{staticClass:"mb-2",attrs:{prepend:"Вуз"}},[a("b-form-input",{model:{value:e.filters.org_name,callback:function(t){e.$set(e.filters,"org_name",t)},expression:"filters.org_name"}}),e._v(" "),a("b-input-group-append",[a("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){e.filters.org_name=null}}},[a("b-icon",{attrs:{icon:"backspace",variant:"danger",scale:"1.2"}})],1)],1)],1),e._v(" "),a("b-input-group",{staticClass:"mb-2",attrs:{prepend:"Выгрузка PDF"}},[a("b-form-select",{attrs:{options:[{value:1,text:"Выгружено"},{value:0,text:"Не выгружено"}]},model:{value:e.filters.file_exist,callback:function(t){e.$set(e.filters,"file_exist",t)},expression:"filters.file_exist"}}),e._v(" "),a("b-input-group-append",[a("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){e.filters.file_exist=null}}},[a("b-icon",{attrs:{icon:"backspace",variant:"danger",scale:"1.2"}})],1)],1)],1)],1)],1)],1),e._v(" "),e.items.length?e._e():a("div",{staticClass:"text-center"},[e._v("\n        Данные загружаются, подождите\n        "),a("b-spinner",{attrs:{variant:"primary"}})],1),e._v(" "),a("br"),e._v(" "),a("b-table",{staticStyle:{"font-size":"10px","min-height":"550px"},attrs:{"sticky-header":"",selectable:"",hover:"",small:"",bordered:"","select-mode":"single",items:e.items,fields:e.fields},on:{"row-selected":e.toObjects},scopedSlots:e._u([{key:"cell(pdf_export)",fn:function(t){return[a("div",{attrs:{id:"icon"}},[t.item.pdf_export?a("a",{staticStyle:{display:"block"},attrs:{href:"/program/download-doc/"+t.item.id_org}},[a("b-icon",{attrs:{icon:"file-earmark-arrow-down",scale:"4",variant:"success"}})],1):e._e()])]}},{key:"cell(pred_zakl)",fn:function(t){return[a("span",[e._v(e._s(t.item.pred_zakl.toFixed(3)))])]}}])})],1)}),[],!1,null,"bbe0a46e",null).exports)},"5/74":function(e,t,a){var n=a("eIbr");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},"5kpx":function(e,t,a){"use strict";var n=a("DhZu");a.n(n).a},"9fTI":function(e,t,a){"use strict";var n=a("o0mV");a.n(n).a},"A0++":function(e,t,a){"use strict";var n=a("ttdk");a.n(n).a},AYgK:function(e,t,a){"use strict";a.r(t);var n=a("41Hj"),r=a("Snq/"),s=a.n(r),o=a("L2JU"),i=a("R5cT"),l=a("KaE5"),c={name:"Svedenia",mounted:function(){var e=this;Array.isArray(window.MODEL.svedenia)&&window.MODEL.svedenia.forEach((function(t,a){e.sved.is_nessesary[a]=t.is_nessesary,e.sved.begin_date[a]=t.date_event_start,e.sved.final_date[a]=t.date_event_end,e.sved.realization_cost[a]=t.cost_real,e.sved.kap_cost[a]=t.sum_bud_fin,e.sved.finanse[a]=t.fin_vnebud_ist}))},components:{BFormInput:i.a,BTable:l.a,"v-select":s.a},methods:{setFloat:function(e,t,a){-1!=e.search(".")&&e.replace(".",","),this.sved[a][t]=parseFloat(e).toFixed(3)},getSved:function(){return this.sved}},props:{modelName:String},computed:{test:function(){var e=this;return function(t){var a;return null===(a=e.masObj[t])||void 0===a?void 0:a.finance}},rc_full:function(){var e=0;for(var t in this.sved.realization_cost)e+=1*parseFloat(this.sved.realization_cost[t]).toFixed(3)||0;return e.toFixed(3)},kap_full:function(){var e=0;for(var t in this.sved.kap_cost)e+=1*parseFloat(this.sved.kap_cost[t]).toFixed(3)||0;return e.toFixed(3)},finanse_sum:function(){var e=0;for(var t in this.sved.finanse)e+=1*parseFloat(this.sved.finanse[t]).toFixed(3)||0;return e.toFixed(3)}},data:function(){return{fields:[{key:"index",label:"№"},{key:"stage",label:"Этап"},{key:"is_nessesary",label:"Необходимость выполнения"},{key:"begin_date",label:"Дата начала",tdClass:"date vertical-align-extra-table"},{key:"final_date",label:"Дата окончания",tdClass:"date vertical-align-extra-table"},{key:"rc",label:"Стоимость реализации (тыс.руб)",tdClass:"vertical-align-extra-table"},{key:"kap_cost",label:"Сумма бюджетного финансирования на проведение кап.ремонта (тыс.руб)",tdClass:"vertical-align-extra-table"},{key:"finanse",label:"Софинансирование из внебюджетных источников (тыс.руб)",tdClass:"vertical-align-extra-table"}],stages:[{stage:"Проведение тендера и заключение договора на выполнение обследования",rc:!1,kap_cost:!1,finanse:!1},{stage:"Выполнение обследования, подготовка и утверждение дефектного акта",rc:!0,kap_cost:!1,finanse:!0},{stage:"Утверждение задания на проектирование",rc:!1,kap_cost:!1,finanse:!1},{stage:"Проведение тендера и заключение договора на подготовку проектно-сметной документации",rc:!1,kap_cost:!1,finanse:!1},{stage:"Подготовка проектно-сметной документации",rc:!0,kap_cost:!0,finanse:!0},{stage:"Прохождение экспертизы проектно-сметной документации",rc:!0,kap_cost:!0,finanse:!0},{stage:"Проведение тендера и заключение договора на выполнение строительно-монтажных работ",rc:!1,kap_cost:!1,finanse:!1},{stage:"Выполнение строительно-монтажных работ",rc:!0,kap_cost:!0,finanse:!0}],sved:{is_nessesary:[],begin_date:[],final_date:[],realization_cost:[],kap_cost:[],finanse:[]},masObj:[{is_nessesary:!0,begin_date:void 0,final_date:void 0,realization_cost:void 0,kap_cost:void 0,finanse:void 0}]}}},d=(a("dsre"),a("1MaI"),a("KHd+")),u=Object(d.a)(c,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hidden-val-for-table"},[a("b-table",{attrs:{bordered:"","foot-clone":"",hover:"","caption-top":"",fields:e.fields,items:e.stages},scopedSlots:e._u([{key:"cell(index)",fn:function(t){return[e._v("\n            "+e._s(t.index+1)+"\n        ")]}},{key:"cell(is_nessesary)",fn:function(t){return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sved.is_nessesary[t.index],expression:"sved.is_nessesary[row.index]"}],attrs:{type:"hidden",name:e.modelName+"["+t.index+"][is_nessesary]"},domProps:{value:e.sved.is_nessesary[t.index]},on:{input:function(a){a.target.composing||e.$set(e.sved.is_nessesary,t.index,a.target.value)}}}),e._v(" "),a("v-select",{staticClass:"mt-5",attrs:{label:"type",options:[{id:1,type:"Да"},{id:0,type:"Нет"}],reduce:function(e){return e.id}},model:{value:e.sved.is_nessesary[t.index],callback:function(a){e.$set(e.sved.is_nessesary,t.index,a)},expression:"sved.is_nessesary[row.index]"}})]}},{key:"cell(begin_date)",fn:function(t){return[a("b-form-input",{attrs:{type:"date",name:e.modelName+"["+t.index+"][date_event_start]"},model:{value:e.sved.begin_date[t.index],callback:function(a){e.$set(e.sved.begin_date,t.index,a)},expression:"sved.begin_date[row.index]"}})]}},{key:"cell(final_date)",fn:function(t){return[a("b-form-input",{attrs:{type:"date",name:e.modelName+"["+t.index+"][date_event_end]"},model:{value:e.sved.final_date[t.index],callback:function(a){e.$set(e.sved.final_date,t.index,a)},expression:"sved.final_date[row.index]"}})]}},{key:"cell(rc)",fn:function(t){return[t.value?a("b-form-input",{attrs:{placeholder:"Цена",step:"0.001",type:"number",name:e.modelName+"["+t.index+"][cost_real]"},on:{change:function(a){return e.setFloat(a,t.index,"realization_cost")}},model:{value:e.sved.realization_cost[t.index],callback:function(a){e.$set(e.sved.realization_cost,t.index,a)},expression:"sved.realization_cost[row.index]"}}):a("label",[e._v("-")])]}},{key:"cell(kap_cost)",fn:function(t){return[t.value?a("b-form-input",{attrs:{placeholder:"Цена",step:"0.001",type:"number",name:e.modelName+"["+t.index+"][sum_bud_fin]"},on:{change:function(a){return e.setFloat(a,t.index,"kap_cost")}},model:{value:e.sved.kap_cost[t.index],callback:function(a){e.$set(e.sved.kap_cost,t.index,a)},expression:"sved.kap_cost[row.index]"}}):a("label",[e._v("-")])]}},{key:"cell(finanse)",fn:function(t){return[t.value?a("b-form-input",{attrs:{placeholder:"Цена",step:"0.001",type:"number",name:e.modelName+"["+t.index+"][fin_vnebud_ist]"},on:{change:function(a){return e.setFloat(a,t.index,"finanse")}},model:{value:e.sved.finanse[t.index],callback:function(a){e.$set(e.sved.finanse,t.index,a)},expression:"sved.finanse[row.index]"}}):a("label",[e._v("-")])]}},{key:"foot(stage)",fn:function(){return[a("span",{staticClass:"font-weight-bold"},[e._v("ИТОГО:")])]},proxy:!0},{key:"foot(is_nessesary)",fn:function(){return[a("span",{staticClass:"font-weight-bold"})]},proxy:!0},{key:"foot(begin_date)",fn:function(){return[a("span",{staticClass:"font-weight-bold"})]},proxy:!0},{key:"foot(final_date)",fn:function(){return[a("span",{staticClass:"font-weight-bold"})]},proxy:!0},{key:"foot(rc)",fn:function(){return[a("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.rc_full))])]},proxy:!0},{key:"foot(kap_cost)",fn:function(){return[a("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.kap_full))])]},proxy:!0},{key:"foot(finanse)",fn:function(){return[a("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.finanse_sum))])]},proxy:!0}])})],1)}),[],!1,null,null,null).exports,m=a("Obrr"),b=a("w+YJ"),v=a("Hrou"),p=a("C9gC"),f=a("Ki4g"),_=a("bPaI"),g=a("okd0"),h={directives:{"b-toggle":m.e},components:{BFormCheckbox:b.a,BFormInput:i.a,BTableSimple:v.a,BThead:p.a,BTr:f.a,BTh:_.a,BTbody:g.a},props:{modelName:String},methods:{onInput:function(e){this.items[e].obosnovanie.length>=255&&this.reportErrors("Достигнуто максимальное количество символов (255 символов)")},onInputTwo:function(e){this.itemsTwo[e].obosnovanie.length>=255&&this.reportErrors("Достигнуто максимальное количество символов (255 символов)")},reportErrors:function(e){this.$bvModal.msgBoxOk(e,{title:"Ошибка!",size:"sm",buttonSize:"sm",okVariant:"outline-success",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0})}},mounted:function(){function e(e,t,a){var n;return e.forEach((function(e){e[t]==a&&(n=e)})),n}this.items.forEach((function(t,a){var n=e(window.MODEL.necessary,"element",a);t.nalichie=null==n?void 0:n.nalichie,t.material=null==n?void 0:n.material,t.srok_eks=null==n?void 0:n.srok_eks,t.kap_remont=null==n?void 0:n.kap_remont,t.obosnovanie=null==n?void 0:n.obosnovanie})),this.itemsTwo.forEach((function(t,a){var n=e(window.MODEL.necessary,"element",a+17);t.nalichie=null==n?void 0:n.nalichie,t.srok_eks=null==n?void 0:n.srok_eks,t.kap_remont=null==n?void 0:n.kap_remont,t.obosnovanie=null==n?void 0:n.obosnovanie}))},data:function(){return{items:[{label:"Фундаменты",nalichie:null,material:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:0},{label:"Отмостка",nalichie:null,material:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:1},{label:"Стены",nalichie:null,material:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:2},{label:"Колонны",nalichie:null,material:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:3},{label:"Перегородки",nalichie:null,material:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:4},{label:"Крыша",nalichie:null,material:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:5},{label:"Кровля",nalichie:null,material:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:6},{label:"Перекрытия",nalichie:null,material:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:7},{label:"Полы",nalichie:null,material:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:8},{label:"Окна",nalichie:null,material:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:9},{label:"Двери",nalichie:null,material:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:10},{label:"Ворота",nalichie:null,material:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:11},{label:"Лестницы",nalichie:null,material:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:12},{label:"Крыльца",nalichie:null,material:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:13},{label:"Балконы/Лоджии",nalichie:null,material:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:14},{label:"Внутренняя отделка",nalichie:null,material:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:15},{label:"Наружняя отделка",nalichie:null,material:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:16}],itemsTwo:[{label:"Система электроснабжения",nalichie:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:17},{label:"Система водоснабжения",nalichie:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:18},{label:"Система водоотведения",nalichie:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:19},{label:"Система газоснабжения",nalichie:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:20},{label:"Система кондиционирования воздуха",nalichie:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:21},{label:"Система вентиляции",nalichie:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:22},{label:"Система отопления",nalichie:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:23},{label:"Система диспетчеризации",nalichie:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:24},{label:"Радиофикация",nalichie:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:25},{label:"Телевидение эфирное",nalichie:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:26},{label:"Система видеонаблюдения",nalichie:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:27},{label:"Система интернет и телефонии",nalichie:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:28},{label:"Система контроля управления доступом",nalichie:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:29},{label:"Пожарная сигнализация",nalichie:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:30},{label:"Охранная сигнализация",nalichie:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:31},{label:"Мусоропроводы",nalichie:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:32},{label:"Лифты",nalichie:null,srok_eks:null,kap_remont:null,obosnovanie:null,element:33}]}}},y=(a("RCEs"),Object(d.a)(h,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"overflow"},[a("b-table-simple",{attrs:{bordered:"",hover:""}},[a("b-thead",[a("b-tr",[a("b-th",[e._v("Строительные конструкции замена и (или) восстановление\n                    которых планируются при капитальном ремонте")]),e._v(" "),a("b-th",[e._v("Наличие на объекте")]),e._v(" "),a("b-th",[e._v("Материал конструкции")]),e._v(" "),a("b-th",[e._v("Срок эксплуатации с момента строительства или\n                    предыдущего капитального ремонта")]),e._v(" "),a("b-th",[e._v("Требуется капитальный ремонт")]),e._v(" "),a("b-th",[e._v("Обоснование необходимости")])],1)],1),e._v(" "),a("b-tbody",e._l(e.items,(function(t,n){return a("b-tr",{key:n},[t.nalichie?a("input",{directives:[{name:"model",rawName:"v-model",value:t.element,expression:"item.element"}],attrs:{type:"hidden",name:e.modelName+"["+n+"][element]"},domProps:{value:t.element},on:{input:function(a){a.target.composing||e.$set(t,"element",a.target.value)}}}):e._e(),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-table cell-center-for-table"},[a("label",[e._v(e._s(t.label))])]),e._v(" "),a("b-th",{staticClass:"cell-center-for-table"},[a("b-form-checkbox",{attrs:{value:"1",type:"checkbox",name:e.modelName+"["+n+"][nalichie]"},model:{value:t.nalichie,callback:function(a){e.$set(t,"nalichie",a)},expression:"item.nalichie"}})],1),e._v(" "),a("b-th",{staticClass:"cell-center-for-table"},[t.nalichie?a("b-form-input",{attrs:{name:e.modelName+"["+n+"][material]",placeholder:"Материалы",type:"text"},model:{value:t.material,callback:function(a){e.$set(t,"material",a)},expression:"item.material"}}):e._e()],1),e._v(" "),a("b-th",{staticClass:"cell-center-for-table"},[t.nalichie?a("b-form-input",{attrs:{name:e.modelName+"["+n+"][srok_eks]",type:"text",placeholder:"Срок"},model:{value:t.srok_eks,callback:function(a){e.$set(t,"srok_eks",a)},expression:"item.srok_eks"}}):e._e()],1),e._v(" "),a("b-th",{staticClass:"cell-center-for-table"},[t.nalichie?a("b-form-checkbox",{attrs:{value:"1",name:e.modelName+"["+n+"][kap_remont]",type:"checkbox"},model:{value:t.kap_remont,callback:function(a){e.$set(t,"kap_remont",a)},expression:"item.kap_remont"}}):e._e()],1),e._v(" "),a("b-th",{staticClass:"cell-center-for-table"},[t.nalichie&&t.kap_remont?a("b-form-input",{attrs:{name:e.modelName+"["+n+"][obosnovanie]",type:"text",placeholder:"Обоснование",maxlength:"255"},on:{input:function(t){return e.onInput(n)}},model:{value:t.obosnovanie,callback:function(a){e.$set(t,"obosnovanie",a)},expression:"item.obosnovanie"}}):e._e()],1)],1)})),1)],1),e._v(" "),a("b-table-simple",{attrs:{bordered:"",hover:""}},[a("b-thead",[a("b-tr",[a("b-th",[e._v("Системы инженерно-технического обеспечения замена и\n                    (или) восстановление которых планируются при капитальном\n                    ремонте")]),e._v(" "),a("b-th",[e._v("Наличие на объекте")]),e._v(" "),a("b-th",[e._v("Срок эксплуатации с момента строительства или\n                    предыдущего капитального ремонта")]),e._v(" "),a("b-th",[e._v("Требуется капитальный ремонт")]),e._v(" "),a("b-th",[e._v("Обоснование необходимости")])],1)],1),e._v(" "),a("b-tbody",e._l(e.itemsTwo,(function(t,n){return a("b-tr",{key:n},[t.nalichie?a("input",{directives:[{name:"model",rawName:"v-model",value:t.element,expression:"item.element"}],attrs:{type:"hidden",name:e.modelName+"["+(n+17)+"][element]"},domProps:{value:t.element},on:{input:function(a){a.target.composing||e.$set(t,"element",a.target.value)}}}):e._e(),e._v(" "),t.nalichie?a("input",{directives:[{name:"model",rawName:"v-model",value:t.material,expression:"item.material"}],attrs:{type:"hidden",name:e.modelName+"["+(n+17)+"][material]"},domProps:{value:t.material},on:{input:function(a){a.target.composing||e.$set(t,"material",a.target.value)}}}):e._e(),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-table cell-center-for-table"},[a("label",[e._v(e._s(t.label))])]),e._v(" "),a("b-th",{staticClass:"cell-center-for-table"},[a("b-form-checkbox",{attrs:{type:"checkbox",value:"1",name:e.modelName+"["+(n+17)+"][nalichie]"},model:{value:t.nalichie,callback:function(a){e.$set(t,"nalichie",a)},expression:"item.nalichie"}})],1),e._v(" "),a("b-th",{staticClass:"cell-center-for-table"},[t.nalichie?a("b-form-input",{attrs:{name:e.modelName+"["+(n+17)+"][srok_eks]",type:"text",placeholder:"Срок"},model:{value:t.srok_eks,callback:function(a){e.$set(t,"srok_eks",a)},expression:"item.srok_eks"}}):e._e()],1),e._v(" "),a("b-th",{staticClass:"cell-center-for-table"},[t.nalichie?a("b-form-checkbox",{attrs:{value:"1",name:e.modelName+"["+(n+17)+"][kap_remont]",type:"checkbox"},model:{value:t.kap_remont,callback:function(a){e.$set(t,"kap_remont",a)},expression:"item.kap_remont"}}):e._e()],1),e._v(" "),a("b-th",{staticClass:"cell-center-for-table"},[t.nalichie&&t.kap_remont?a("b-form-input",{attrs:{name:e.modelName+"["+(n+17)+"][obosnovanie]",type:"text",placeholder:"Обоснование",maxlength:"255"},on:{input:function(t){return e.onInputTwo(n)}},model:{value:t.obosnovanie,callback:function(a){e.$set(t,"obosnovanie",a)},expression:"item.obosnovanie"}}):e._e()],1)],1)})),1)],1)],1)}),[],!1,null,null,null).exports),k=a("CAmi"),w=a("J2ht"),x={directives:{"b-toggle":m.e},components:{BFormInput:i.a,BTableSimple:v.a,BThead:p.a,BTr:f.a,BTh:_.a,BTd:k.a,BTbody:g.a,BTfoot:w.a},props:{modelName:String},mounted:function(){var e=this;window.MODEL.riscs[0]&&this.items.pop(),window.MODEL.riscs.forEach((function(t,a){a?e.items.push({types:t.types,poison:t.poison,protect:t.protect}):e.items[0]={types:t.types,poison:t.poison,protect:t.protect}}))},data:function(){return{items:[{types:null,poison:null,protect:null}]}},methods:{addNewRow:function(){this.items.push({types:null,poison:null,protect:null})},deleteLastRow:function(){this.items.pop()}}},C=Object(d.a)(x,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-table-simple",{attrs:{bordered:"",hover:""}},[a("b-thead",[a("b-tr",[a("b-th",[e._v("Виды рисков")]),e._v(" "),a("b-th",[e._v("Отрицательные влияния")]),e._v(" "),a("b-th",[e._v("Способы защиты")])],1)],1),e._v(" "),a("b-tbody",e._l(e.items,(function(t,n){return a("b-tr",{key:n},[a("b-th",[a("b-form-input",{attrs:{type:"text",name:e.modelName+"["+n+"][types]"},model:{value:t.types,callback:function(a){e.$set(t,"types",a)},expression:"item.types"}})],1),e._v(" "),a("b-th",[a("b-form-input",{attrs:{type:"text",name:e.modelName+"["+n+"][poison]"},model:{value:t.poison,callback:function(a){e.$set(t,"poison",a)},expression:"item.poison"}})],1),e._v(" "),a("b-th",[a("b-form-input",{attrs:{type:"text",name:e.modelName+"["+n+"][protect]"},model:{value:t.protect,callback:function(a){e.$set(t,"protect",a)},expression:"item.protect"}})],1)],1)})),1),e._v(" "),a("b-tfoot",[a("b-tr",[e.items.length>1?a("b-td",{staticClass:"text-right text-danger",attrs:{colspan:"2",variant:"secondary"},on:{click:function(t){return e.deleteLastRow()}}},[e._v("\n                    Удалить строку\n                ")]):e._e(),e._v(" "),a("b-td",{staticClass:"text-right text-info",attrs:{colspan:"3",variant:"secondary"},on:{click:function(t){return e.addNewRow()}}},[e._v("\n                    Добавить строку\n                ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports,O=a("g2Gq"),j={directives:{"b-toggle":m.e},components:{BFormInput:i.a,BTableSimple:v.a,BThead:p.a,BTr:f.a,BTh:_.a,BTd:k.a,BTbody:g.a,BTfoot:w.a,"b-select":O.a},props:{modelName:String},data:function(){return{dataFirst:[{aim:"Проведение капитального ремонта, общая площадь",plan:null,changes:"кв.м"},{aim:"Вовлечение в хозяйственную деятельность за счет проведенного капитального ремонта, общая площадь",plan:null,changes:"кв.м"},{aim:"Снижение затрат на эксплуатацию",plan:0,changes:"",var:!0},{aim:"Повышение энергоэффективности",plan:0,changes:"",var:!0},{aim:"Восстановление (ремонт, реставрация, за исключением реконструкции) объектов культурного наследия",plan:0,changes:"",var:!0},{aim:null,plan:null,changes:null}]}},mounted:function(){var e,t=this;(null===(e=window.MODEL.waited)||void 0===e?void 0:e.length)&&window.MODEL.waited.forEach((function(e,a){a<5?t.dataFirst[e.element]&&(t.dataFirst[e.element].plan=e.plan):t.dataFirst[e.element]?t.dataFirst[e.element]={aim:e.aim,plan:e.plan,changes:e.changes}:t.dataFirst.push({aim:e.aim,plan:e.plan,changes:e.changes})}))},methods:{addNewRow:function(){this.dataFirst.push({aim:null,plan:null,changes:null})},deleteLastRow:function(){this.dataFirst.pop()}}},P=(a("fOmC"),Object(d.a)(j,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-table-simple",{attrs:{bordered:"",hover:""}},[a("b-thead",[a("b-tr",[a("b-th",[e._v("Цели и задачи")]),e._v(" "),a("b-th",[e._v("Планируемый показатель")]),e._v(" "),a("b-th",[e._v("Единица измерения")])],1)],1),e._v(" "),a("b-tbody",e._l(e.dataFirst,(function(t,n){return a("b-tr",{key:n},[a("b-th",{staticClass:"font-normal-first-colomn"},[n<5?a("label",[e._v(e._s(t.aim))]):a("b-form-input",{attrs:{type:"text",name:e.modelName+"["+n+"][aim]"},model:{value:t.aim,callback:function(a){e.$set(t,"aim",a)},expression:"item.aim"}})],1),e._v(" "),a("b-th",[t.var?a("div",[a("b-form-input",{staticStyle:{display:"none"},attrs:{name:e.modelName+"["+n+"][plan]"},model:{value:t.plan,callback:function(a){e.$set(t,"plan",a)},expression:"item.plan"}}),e._v(" "),t.var?a("b-select",{attrs:{options:[{value:0,text:"нет"},{value:1,text:"да"}]},model:{value:t.plan,callback:function(a){e.$set(t,"plan",a)},expression:"item.plan"}}):e._e()],1):a("b-form-input",{attrs:{type:"text",name:e.modelName+"["+n+"][plan]"},model:{value:t.plan,callback:function(a){e.$set(t,"plan",a)},expression:"item.plan"}})],1),e._v(" "),a("b-th",{staticClass:"font-normal-first-colomn"},[n<5?a("label",[e._v(e._s(t.changes))]):a("b-form-input",{attrs:{type:"text",name:e.modelName+"["+n+"][changes]"},model:{value:t.changes,callback:function(a){e.$set(t,"changes",a)},expression:"item.changes"}})],1)],1)})),1),e._v(" "),a("b-tfoot",[a("b-tr",[e.dataFirst.length>6?a("b-td",{staticClass:"text-right text-danger",attrs:{colspan:"2",variant:"secondary"},on:{click:function(t){return e.deleteLastRow()}}},[e._v("\n                    Удалить строку\n                ")]):e._e(),e._v(" "),a("b-td",{staticClass:"text-right text-info",attrs:{colspan:"3",variant:"secondary"},on:{click:function(t){return e.addNewRow()}}},[e._v("\n                    Добавить строку\n                ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports),D=a("o0o1"),B=a.n(D),E=a("vDqi"),S=a.n(E);function F(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return N(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,i=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){i=!0,s=e},f:function(){try{o||null==a.return||a.return()}finally{if(i)throw s}}}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function I(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function T(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){I(s,n,r,o,i,"next",e)}function i(e){I(s,n,r,o,i,"throw",e)}o(void 0)}))}}var z={directives:{"b-toggle":m.e},components:{BFormInput:i.a,BTableSimple:v.a,BThead:p.a,BTr:f.a,BTh:_.a,BTd:k.a,BTbody:g.a,BTfoot:w.a},data:function(){return{csrf:document.getElementsByName("csrf-token")[0].content,items:[{descriptor:"inv_card",fileName:null,label:"Инвентарные карточки учета основных средств на объект недвижимого имущества и на земельный участок под указанным объектом",necessary:!0},{descriptor:"reestr_vip",fileName:null,label:"Выписка из реестра федерального имущества на объект федерального имущества и на земельный участок под указанным объектом",necessary:!0},{descriptor:"pravust",fileName:null,label:"Правоустанавливающие и (или) правоудостоверяющие документы на объект недвижимого имущества и на земельный участок под указанным объектом",necessary:!0},{descriptor:"tex_kad_docs",fileName:null,label:"Документы технического и кадастрового учета на объект недвижимого имущества",necessary:!0},{descriptor:"sit_plan",fileName:null,label:"Ситуационный план с указанием границ земельного участка, объекта недвижимого имущества и иных объектов (включая незавершенные строительные объекты), принадлежащих третьим лицам, расположенных на указанном земельном участке",necessary:!0},{descriptor:"tex_acts",fileName:null,label:"Акт технического осмотра объекта капитального строительства (документ, содержащий сведения о результатах обследования объекта капитального строительства, техническом состоянии строительных конструкций и инженерного оборудования такого объекта и количественной оценке фактических показателей качества строительных конструкций и инженерного оборудования по состоянию на дату обследования, для определения состава, объёмов и сроков работ по капитальному ремонту объекта капитального строительства)"},{descriptor:"def_ved",fileName:null,label:"Дефектная ведомость (первичный учётный документ, подготовленный в соответствии с требованиями законодательства Российской Федерации о бухгалтерском учёте по результатам обследования технического состояния объекта капитального строительства и содержащий перечень дефектов строительных конструкций и инженерного оборудования объекта капитального строительства с указанием качественных и количественных характеристик таких дефектов)"},{descriptor:"obj_photos",fileName:null,label:"Фотографии объекта, предполагаемого к проведению капитального ремонта (подписанные по 2 шт. на листе А4, но не более 10 шт. на объект недвижимости)",necessary:!0},{descriptor:"predpis",fileName:null,label:"Предписания надзорных органов (при наличии)"},{descriptor:"proekti",fileName:null,label:"Задание на проектирование (корректировку проектной документации), составленное в соответствии с рекомендациями Минстроя РФ (в случае разработки/корректировки проектной документации и/или направления данной документации на экспертизу)"}],allDescriptors:["inv_card","reestr_vip","pravust","tex_kad_docs","sit_plan","tex_acts","tex_acts","def_ved","obj_photos","predpis","proekti"],loadProgress:null,loadingFileName:null,loadedFilesOnServer:[],selectedFiles:[],uploadSuccess:!0,update:!1,objectId:null}},mounted:function(){-1!==this.$route.path.indexOf("/program/object/update")&&(this.update=!0,this.objectId=this.$route.params.id,this.getLoadedFiles(this.objectId))},methods:{getLoadedFiles:function(e){var t=this;return T(B.a.mark((function a(){return B.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,S.a.get("/program/object/files/".concat(e)).then((function(e){var a;(null===(a=e.data)||void 0===a?void 0:a.length)&&e.data.forEach((function(e){t.loadedFilesOnServer.push(e),t.setFileName(e)}))}));case 2:case"end":return a.stop()}}),a)})))()},setFileName:function(e){var t=this;this.items.map((function(a,n){a.descriptor===e.descriptor&&(t.items[n].fileName=e.name+".pdf")})),e.descriptor.indexOf("others_")||this.items.push({descriptor:e.descriptor,fileName:e.name+".pdf",label:e.label,other:!0})},addNewRow:function(){this.items.push({descriptor:"others_"+(this.items.length-10),fileName:null,label:null,other:!0})},deleteLastRow:function(){var e=this.items.length-1;null!=this.items[e].label&&this.removeFileFromYii(this.objectId,this.items[e].descriptor,e),this.items.pop(),this.selectedFiles.length&&this.fileRemove(e)},fileInput:function(e){var t=document.querySelector("#file_input_".concat(e)),a=t.files[0];this.checkFileExt(a.type)&&this.checkFileSize(a.size)&&!this.isUniqueName(a.name)?(this.selectedFiles.push({id:e,descriptor:this.items[e].descriptor,name:this.items[e].label,file:a}),this.items[e].fileName=a.name):t.value=null},fileRemove:function(e,t){var a=this.getSelectedFileKey(e);null!=this.items[e].fileName&&null==a?this.removeFileFromYii(this.objectId,t,e):null==this.items[e].fileName&&null==a?this.errorMessage("Сначала выберите файлы!"):null!=this.items[e].fileName&&null!=a&&(this.selectedFiles.splice(a,1),this.items[e].fileName=null,document.querySelector("#file_input_"+e).value=null)},isUniqueName:function(e){var t,a=F(this.items);try{for(a.s();!(t=a.n()).done;){if(t.value.fileName===e)return this.errorMessage("Файл с таким названием уже существует!"),!0}}catch(e){a.e(e)}finally{a.f()}return!1},checkFileExt:function(e){return"application/pdf"===e||(this.errorMessage("Файл не является документом pdf!"),!1)},checkFileSize:function(e){return!(parseInt(e)>20971520)||(this.errorMessage("Файл больше 20МБ!"),!1)},checkFileName:function(e){var t,a=F(this.items);try{for(a.s();!(t=a.n()).done;){if(t.value.fileName===e)return this.errorMessage("Файл с таким названием уже существует!"),!0}}catch(e){a.e(e)}finally{a.f()}return!1},getSelectedFileKey:function(e){var t=this.selectedFiles.map((function(t,a){return t.id===e?a:null})).filter((function(e){return null!==e}))[0];return null!=t?t:null},getSavedDocuments:function(){return this.selectedFiles},sendFile:function(e){var t=this;return T(B.a.mark((function a(){var n,r,s,o;return B.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.id,!t.selectedFiles.length){a.next=19;break}r=F(t.selectedFiles),a.prev=3,r.s();case 5:if((s=r.n()).done){a.next=11;break}return o=s.value,a.next=9,t.uploadFile(o,n);case 9:a.next=5;break;case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(3),r.e(a.t0);case 16:return a.prev=16,r.f(),a.finish(16);case 19:t.uploadSuccess&&(window.location.href="/program/object/view/".concat(n));case 20:case"end":return a.stop()}}),a,null,[[3,13,16,19]])})))()},removeFileFromYii:function(e,t,a){var n=this;return T(B.a.mark((function r(){return B.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,S.a.get("/program/object/delete-docs/".concat(e),{params:{descriptor:t}}).then((function(e){n.items[a].fileName=null}));case 2:case"end":return r.stop()}}),r)})))()},uploadFile:function(e,t){var a=this;return T(B.a.mark((function n(){var r,s;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new FormData,e.descriptor.indexOf("others_")||(s=document.getElementsByName("".concat(a.modelName,"[").concat(e.descriptor,"]label"))[0],r.append("descriptor",e.descriptor),r.append("label",s.value)),r.append("".concat(e.descriptor),e.file),a.loadingFileName=e.file.name,n.next=6,S.a.post("/program/object/add-docs/".concat(t),r,{headers:{"X-CSRF-Token":a.csrf,"Content-Type":"multipart/form-data;"},onUploadProgress:function(e){a.loadProgress=Math.round(e.loaded/e.total*100)}}).then((function(e){a.uploadSuccess&=!!e.data})).catch((function(e){a.uploadSuccess=!1}));case 6:case"end":return n.stop()}}),n)})))()},errorMessage:function(e){this.$bvModal.msgBoxOk(e,{title:"Ошибка!",size:"sm",buttonSize:"sm",okVariant:"outline-success",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0})}},props:{modelName:String}},$=(a("XILE"),Object(d.a)(z,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"overflow"},[a("b-table-simple",{attrs:{bordered:"",hover:""}},[a("b-thead",[a("b-tr",[a("b-th",[e._v("Документы")]),e._v(" "),a("b-th",[e._v("Загрузка")]),e._v(" "),a("b-th",[e._v("Удалить")])],1)],1),e._v(" "),a("b-tbody",e._l(e.items,(function(t,n){return a("b-tr",{key:n},[a("b-th",{staticClass:"cell-center-for-table normal-font-weight-for-table"},[t.other?a("b-form-input",{attrs:{name:e.modelName+"["+t.descriptor+"]label",placeholder:"Название документа...",type:"text"},model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"item.label"}}):a("label",[e._v(e._s(t.label)+"\n                        "),t.necessary?a("label",{staticClass:"text-success"},[e._v("\n                            (Обязательно)\n                        ")]):e._e()])],1),e._v(" "),a("b-th",{staticClass:"no-cell-border vertical-align-centre-extra-table normal-font-weight-for-table"},[a("input",{ref:"file"+n,refInFor:!0,staticClass:"hidden-file-input",attrs:{type:"file",name:e.modelName+"["+t.descriptor+"]file",id:"file_input_"+n},on:{input:function(t){return e.fileInput(n)}}}),e._v(" "),t.fileName?a("label",{staticClass:"normal-font-size-for-cell-file-name"},[e._v(e._s(t.fileName))]):a("div",{staticClass:"cell-center-for-items"},[a("div",{staticClass:"arrow"},[a("label",{staticClass:"label",attrs:{for:"file_input_"+n}},[a("span",{staticClass:"title"},[a("span",{staticClass:"scope-to-animate"}),e._v(" "),a("span",{staticClass:"scope-to-animate"}),e._v(" "),a("span",{staticClass:"scope-to-animate"}),e._v(" "),a("span",{staticClass:"scope-to-animate"})])])])])]),e._v(" "),a("b-th",{staticClass:"no-cell-border vertical-align-centre-extra-table"},[a("div",{staticClass:"cell-center-for-items"},[a("div",{staticClass:"cross"},[a("label",{staticClass:"label",on:{click:function(a){return e.fileRemove(n,t.descriptor)}}},[a("span",{staticClass:"title"},[a("span",{staticClass:"cross-to-animate"}),e._v(" "),a("span",{staticClass:"cross-to-animate"})])])])])])],1)})),1),e._v(" "),a("b-tfoot",[a("b-tr",[e.items.length>10?a("b-td",{staticClass:"text-right text-danger",attrs:{colspan:"1",variant:"secondary"},on:{click:function(t){return e.deleteLastRow()}}},[e._v("\n                    Удалить документ\n                ")]):e._e(),e._v(" "),a("b-td",{staticClass:"text-right text-info",attrs:{colspan:"3",variant:"secondary"},on:{click:function(t){return e.addNewRow()}}},[e._v("\n                    Добавить документ\n                ")])],1)],1)],1),e._v(" "),e.loadProgress?a("label",[e._v("Файл "+e._s(e.loadingFileName)+" загружен на "+e._s(e.loadProgress)+"%")]):e._e()],1)}),[],!1,null,null,null).exports),q=a("X9p1"),R=a("WEOK"),U=a("IF94"),A=a("uIXr"),M=a("YZfj"),L=a("Ed67"),H=a("giZP"),X=a("GUe+");function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(Object(a),!0).forEach((function(t){K(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function K(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var G={name:"programForm",directives:{"b-toggle":m.e},components:{BAlert:q.a,BCollapse:R.a,BCard:U.a,BCardHeader:A.a,BCardBody:M.a,BForm:L.a,BFormGroup:H.a,BFormInput:i.a,BButton:X.a,"v-svedenia":u,"v-user-panel":n.d,"v-select2":s.a,"v-necessary":y,"v-waited":P,"v-riscs":C,"v-uploads":$,"b-select":O.a},computed:V(V({},Object(o.c)(["getPageData","getCities","getRegions"])),{},{kad_number_validator:function(){return/\d+:\d+:\d+:\d+/.test(this.formData.kad_number)},con_year_validator:function(){return/^[1-2][0-9]\d{2}/.test(this.formData.year)},exp_year_validator:function(){return/^[1-2][0-9]\d{2}/.test(this.formData.exploit_year)},wear_validator:function(){return this.formData.wear>=0&&this.formData.wear<=100}}),data:function(){var e,t,a,n,r,s,o,i,l,c,d,u,m,b,v,p,f,_,g,h,y,k,w,x,C,O,j;return{permission:window.Permission,bannerInfo:[],csrf:document.getElementsByName("csrf-token")[0].content,formData:{id_org:(null===(e=window.MODEL.base)||void 0===e?void 0:e.id_org)||null,status:(null===(t=window.MODEL.base)||void 0===t?void 0:t.status)||null,object_opis:(null===(a=window.MODEL.base)||void 0===a?void 0:a.object_opis)||null,last_exploit_year:(null===(n=window.MODEL.base)||void 0===n?void 0:n.last_exploit_year)||null,type_remont:(null===(r=window.MODEL.base)||void 0===r?void 0:r.type_remont)||0,address:(null===(s=window.MODEL.base)||void 0===s?void 0:s.address)||null,type:(null===(o=window.MODEL.base)||void 0===o?void 0:o.type)||0,name:(null===(i=window.MODEL.base)||void 0===i?void 0:i.name)||null,id_region:(null===(l=window.MODEL.base)||void 0===l?void 0:l.id_region)||null,id_priority:(null===(c=window.MODEL.base)||void 0===c?void 0:c.id_priority)||null,id_city:(null===(d=window.MODEL.base)||void 0===d?void 0:d.id_city)||null,kad_number:(null===(u=window.MODEL.base)||void 0===u?void 0:u.kad_number)||null,year:(null===(m=window.MODEL.base)||void 0===m?void 0:m.year)||0,exploit_year:(null===(b=window.MODEL.base)||void 0===b?void 0:b.exploit_year)||0,wear:(null===(v=window.MODEL.base)||void 0===v?void 0:v.wear)||null,exist_pred_nadz_orgs:(null===(p=window.MODEL.base)||void 0===p?void 0:p.exist_pred_nadz_orgs)||null,osn_isp_zdan:(null===(f=window.MODEL.base)||void 0===f?void 0:f.osn_isp_zdan)||null,regulation:(null===(_=window.MODEL.base)||void 0===_?void 0:_.regulation)||null,assignment:(null===(g=window.MODEL.base)||void 0===g?void 0:g.assignment)||null,prav_sob:(null===(h=window.MODEL.base)||void 0===h?void 0:h.prav_sob)||null,square:(null===(y=window.MODEL.base)||void 0===y?void 0:y.square)||null,square_kap:(null===(k=window.MODEL.base)||void 0===k?void 0:k.square_kap)||null,isp_v_ust_dey:(null===(w=window.MODEL.base)||void 0===w?void 0:w.isp_v_ust_dey)||null,n_isp_v_ust_dey:(null===(x=window.MODEL.base)||void 0===x?void 0:x.n_isp_v_ust_dey)||null,square_ar:(null===(C=window.MODEL.base)||void 0===C?void 0:C.square_ar)||null,note:(null===(O=window.MODEL.base)||void 0===O?void 0:O.note)||null,prav_oper_upr:(null===(j=window.MODEL.base)||void 0===j?void 0:j.prav_oper_upr)||null},errors:{}}},methods:V(V({checkFOIV:function(){return!("faiv_admin"===this.permission||"faiv_user"===this.permission)},setBanner:function(e,t){var a=this;this.bannerInfo.unshift({show:!0,variant:e,message:t}),setTimeout((function(){a.resetBanners()}),6500)},resetBanners:function(){this.bannerInfo.pop()}},Object(o.b)(["requestPageData","requestCity"])),{},{setSelected:function(e){this.formData.id_priority=e},setFloat:function(e,t){-1!=e.search(".")&&e.replace(".",","),this.formData[t]=parseFloat(e).toFixed(3)},feedback:function(e,t,a){var n=this.formData[t];return a||null!=n&&!(this.errors.hasOwnProperty(e)&&this.errors[e].hasOwnProperty(t))},onSubmit:function(e){var t=this;e.preventDefault();var a=document.getElementById("object_form"),n=new FormData(a);S.a.post(this.$route.path,n,{headers:{"X-CSRF-Token":this.csrf}}).then((function(e){if(e.data.ProgramObjects){var a=e.data.ProgramObjects;for(var n in a)t.setBanner("danger",a[n][0])}else{var r;(null===(r=e.data)||void 0===r?void 0:r.id)&&t.$refs.files.sendFile({id:e.data.id}),t.errors=e.data}}))},errorReport:function(e){this.$bvModal.msgBoxOk(e,{title:"Ошибка!",size:"sm",buttonSize:"sm",okVariant:"outline-success",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0})},onReset:function(){this.formData.id_region=0,this.formData.id_city=0,this.formData.kad_number="",this.formData.year=0,this.formData.exploit_year=0,this.formData.wear=0,this.formData.exist_pred_nadz_orgs="",this.formData.osn_isp_zdan="",this.formData.assignment="",this.formData.prav_sob="",this.formData.note="",this.formData.square=0,this.formData.square_kap=0,this.formData.isp_v_ust_dey=0,this.formData.n_isp_v_ust_dey=0,this.formData.square_ar=0},onChangeRegion:function(e){var t=e.id;this.requestCity({id:t})}}),mounted:function(){this.requestPageData({pageName:"objectCreate"}),this.formData.id_region&&this.requestCity({id:this.formData.id_region}),this.permission=window.Permission}},W=(a("5kpx"),Object(d.a)(G,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"program_object_form"},[a("b-form",{attrs:{enctype:"multipart/form-data",id:"object_form",method:"post"},on:{submit:e.onSubmit,reset:e.onReset}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("v-user-panel")],1)]),e._v(" "),a("div",{staticClass:"mt-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},e._l(e.bannerInfo,(function(t,n){return a("b-alert",{key:n,attrs:{show:t.show,variant:t.variant,dismissible:"",fade:""}},[e._v(e._s(t.message))])})),1)])]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.csrf,expression:"csrf"}],attrs:{id:"hidden",name:"_csrf",type:"hidden"},domProps:{value:e.csrf},on:{input:function(t){t.target.composing||(e.csrf=t.target.value)}}}),e._v(" "),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-12"},[a("b-form-group",{attrs:{label:"Название объекта","label-for":"name","invalid-feedback":e.feedback("ProgramObjects","name","Название объекта должно быть заполнено"),"valid-feedback":e.feedback("ProgramObjects","name"," "),state:e.feedback("ProgramObjects","name")}},[a("b-form-input",{attrs:{placeholder:"Название...",id:"name",name:"ProgramObjects[name]"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Краткое описание планируемых работ по объекту","label-for":"object_opis","invalid-feedback":e.feedback("ProgramObjects","object_opis","Краткое описание планируемых работ по объекту должно быть заполнено"),"valid-feedback":e.feedback("ProgramObjects","object_opis"," "),state:e.feedback("ProgramObjects","object_opis")}},[a("b-form-input",{attrs:{placeholder:"краткое описание планируемых работ по объекту...",id:"object_opis",name:"ProgramObjects[object_opis]"},model:{value:e.formData.object_opis,callback:function(t){e.$set(e.formData,"object_opis",t)},expression:"formData.object_opis"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Адрес объекта","label-for":"address","invalid-feedback":e.feedback("ProgramObjects","address","адрес объекта должно быть заполнено"),"valid-feedback":e.feedback("ProgramObjects","address"," "),state:e.feedback("ProgramObjects","address")}},[a("b-form-input",{attrs:{placeholder:"адрес...",id:"address",name:"ProgramObjects[address]"},model:{value:e.formData.address,callback:function(t){e.$set(e.formData,"address",t)},expression:"formData.address"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Вид ремонта","label-for":"type_remont","invalid-feedback":e.feedback("ProgramObjects","type_remont","Заполните вид ремонта"),"valid-feedback":e.feedback("ProgramObjects","type_remont"," "),state:e.feedback("ProgramObjects","type_remont")}},[a("b-form-input",{staticStyle:{display:"none"},attrs:{id:"type_remont",name:"ProgramObjects[type_remont]"},model:{value:e.formData.type_remont,callback:function(t){e.$set(e.formData,"type_remont",t)},expression:"formData.type_remont"}}),e._v(" "),a("b-select",{attrs:{options:[{value:0,text:"Комплексный"},{value:1,text:"Выборочный"}]},model:{value:e.formData.type_remont,callback:function(t){e.$set(e.formData,"type_remont",t)},expression:"formData.type_remont"}})],1),e._v(" "),a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],staticClass:"toggle_button"},[a("b-icon-gear-wide-connected"),e._v("\n                            Характеристика объекта\n                        ")],1)]),e._v(" "),a("b-collapse",{attrs:{id:"accordion-1",accordion:"my-accordion",role:"tabpanel",visible:""}},[a("b-card-body",[a("b-form-group",[a("b-form-group",{directives:[{name:"can",rawName:"v-can:root",arg:"root"}],attrs:{label:"Тип объекта","label-for":"type","invalid-feedback":e.feedback("ProgramObjects","type","Тип объекта должен быть заполнен"),"valid-feedback":e.feedback("ProgramObjects","type"," "),state:e.feedback("ProgramObjects","type")}},[a("b-form-input",{staticStyle:{display:"none"},attrs:{id:"type",name:"ProgramObjects[type]"},model:{value:e.formData.type,callback:function(t){e.$set(e.formData,"type",t)},expression:"formData.type"}}),e._v(" "),a("b-select",{attrs:{options:[{value:0,text:"Приоритетный"},{value:1,text:"Резервный"}]},model:{value:e.formData.type,callback:function(t){e.$set(e.formData,"type",t)},expression:"formData.type"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Приоритет","label-for":"id_priority","invalid-feedback":e.feedback("ProgramObjects","id_priority","Приоритет объекта должен быть заполнен"),"valid-feedback":e.feedback("ProgramObjects","id_priority"," "),state:e.feedback("ProgramObjects","id_priority")}},[a("b-form-input",{staticStyle:{display:"none"},attrs:{id:"id_priority",name:"ProgramObjects[id_priority]"},model:{value:e.formData.id_priority,callback:function(t){e.$set(e.formData,"id_priority",t)},expression:"formData.id_priority"}}),e._v(" "),a("b-select",{attrs:{options:[{value:1,text:"1"},{value:2,text:"2"},{value:3,text:"3"}]},model:{value:e.formData.id_priority,callback:function(t){e.$set(e.formData,"id_priority",t)},expression:"formData.id_priority"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Субъект РФ:","label-for":"id_region","invalid-feedback":e.feedback("ProgramObjects","id_region","Регион должен быть заполнен"),"valid-feedback":e.feedback("ProgramObjects","id_region"," "),state:e.feedback("ProgramObjects","id_region")}},[a("b-form-input",{staticStyle:{display:"none"},attrs:{id:"id_region",name:"ProgramObjects[id_region]"},model:{value:e.formData.id_region,callback:function(t){e.$set(e.formData,"id_region",t)},expression:"formData.id_region"}}),e._v(" "),a("v-select2",{attrs:{options:e.getRegions,reduce:function(e){return e.id},label:"region"},on:{input:function(t){return e.onChangeRegion({id:e.formData.id_region})}},model:{value:e.formData.id_region,callback:function(t){e.$set(e.formData,"id_region",t)},expression:"formData.id_region"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Город:","label-for":"id_city","invalid-feedback":e.feedback("ProgramObjects","id_city","Город должен быть заполнен"),"valid-feedback":e.feedback("ProgramObjects","id_city"," "),state:e.feedback("ProgramObjects","id_city")}},[a("b-form-input",{staticStyle:{display:"none"},attrs:{id:"id_city",name:"ProgramObjects[id_city]"},model:{value:e.formData.id_city,callback:function(t){e.$set(e.formData,"id_city",t)},expression:"formData.id_city"}}),e._v(" "),a("v-select2",{attrs:{options:e.getCities||[{city:"Выберите регион",id:null}],reduce:function(e){return e.id},label:"city"},model:{value:e.formData.id_city,callback:function(t){e.$set(e.formData,"id_city",t)},expression:"formData.id_city"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Кадастровый номер:","label-for":"kad_number","invalid-feedback":e.feedback("ProgramObjects","kad_number","Кадастровый номер обязателен для заполнения и должен содержать цифры и :"),"valid-feedback":e.feedback("ProgramObjects","kad_number"," "),state:e.feedback("ProgramObjects","kad_number")&&e.kad_number_validator}},[a("b-form-input",{attrs:{id:"kad_number",name:"ProgramObjects[kad_number]",trim:""},model:{value:e.formData.kad_number,callback:function(t){e.$set(e.formData,"kad_number",t)},expression:"formData.kad_number"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Год постройки здания:","label-for":"year","invalid-feedback":e.feedback("ProgramObjects","year","Введите год:"),"valid-feedback":e.feedback("ProgramObjects","year"," "),state:e.feedback("ProgramObjects","year")&&e.con_year_validator}},[a("b-form-input",{attrs:{id:"year",name:"ProgramObjects[year]",type:"number"},model:{value:e.formData.year,callback:function(t){e.$set(e.formData,"year",t)},expression:"formData.year"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Год ввода здания в эксплуатацию:","label-for":"exploit_year","invalid-feedback":e.feedback("ProgramObjects","exploit_year","Введите год :"),"valid-feedback":e.feedback("ProgramObjects","exploit_year"," "),state:e.feedback("ProgramObjects","exploit_year")&&e.exp_year_validator}},[a("b-form-input",{attrs:{id:"exploit_year",name:"ProgramObjects[exploit_year]",type:"number"},model:{value:e.formData.exploit_year,callback:function(t){e.$set(e.formData,"exploit_year",t)},expression:"formData.exploit_year"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Год проведения последнего капитального ремонта/реконструкции:","label-for":"last_exploit_year","invalid-feedback":e.feedback("ProgramObjects","last_exploit_year","Введите год проведения последнего капитального ремонта/реконструкции :"),"valid-feedback":e.feedback("ProgramObjects","last_exploit_year"," "),state:e.feedback("ProgramObjects","last_exploit_year")&&e.exp_year_validator}},[a("b-form-input",{attrs:{id:"last_exploit_year",name:"ProgramObjects[last_exploit_year]",type:"number"},model:{value:e.formData.last_exploit_year,callback:function(t){e.$set(e.formData,"last_exploit_year",t)},expression:"formData.last_exploit_year"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Наличие предписаний надзорных органов:","label-for":"exist_pred_nadz_orgs","invalid-feedback":e.feedback("ProgramObjects","exist_pred_nadz_orgs","Введите Наличие предписаний надзорных органов :"),"valid-feedback":e.feedback("ProgramObjects","exist_pred_nadz_orgs"," "),state:e.feedback("ProgramObjects","exist_pred_nadz_orgs")}},[a("b-form-input",{staticStyle:{display:"none"},attrs:{id:"exist_pred_nadz_orgs",name:"ProgramObjects[exist_pred_nadz_orgs]"},model:{value:e.formData.exist_pred_nadz_orgs,callback:function(t){e.$set(e.formData,"exist_pred_nadz_orgs",t)},expression:"formData.exist_pred_nadz_orgs"}}),e._v(" "),a("b-select",{attrs:{options:[{value:0,text:"Нет"},{value:1,text:"Да"}]},model:{value:e.formData.exist_pred_nadz_orgs,callback:function(t){e.$set(e.formData,"exist_pred_nadz_orgs",t)},expression:"formData.exist_pred_nadz_orgs"}})],1),e._v(" "),e.formData.exist_pred_nadz_orgs?a("b-form-group",{attrs:{label:"Подробности:","label-for":"regulation","invalid-feedback":e.feedback("ProgramObjects","regulation","Введите подробности"),"valid-feedback":e.feedback("ProgramObjects","regulation"," "),state:e.feedback("ProgramObjects","regulation")}},[a("b-form-input",{attrs:{id:"regulation",name:"ProgramObjects[regulation]"},model:{value:e.formData.regulation,callback:function(t){e.$set(e.formData,"regulation",t)},expression:"formData.regulation"}})],1):e._e(),e._v(" "),a("b-form-group",{attrs:{label:"Износ здания (%):","label-for":"wear","invalid-feedback":e.feedback("ProgramObjects","wear","Износ здания должен быть меньше 0 и больше 100 (%)"),"valid-feedback":e.feedback("ProgramObjects","wear"," "),state:e.feedback("ProgramObjects","wear")&&e.wear_validator}},[a("b-form-input",{staticStyle:{display:"none"},attrs:{id:"wear",min:"0",name:"ProgramObjects[wear]",state:e.wear_validator,type:"number"},model:{value:e.formData.wear,callback:function(t){e.$set(e.formData,"wear",t)},expression:"formData.wear"}}),e._v(" "),a("b-select",{attrs:{options:[{value:0,text:"Менее 20%"},{value:1,text:"От 20% до 50%"},{value:2,text:"От 50% до 70%"},{value:3,text:"От 70% до 90%"},{value:4,text:"Более 90%"}]},model:{value:e.formData.wear,callback:function(t){e.$set(e.formData,"wear",t)},expression:"formData.wear"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Основание для использования здания:","label-for":"osn_isp_zdan","invalid-feedback":e.feedback("ProgramObjects","osn_isp_zdan","Введите Основание для использования здания"),"valid-feedback":e.feedback("ProgramObjects","osn_isp_zdan"," "),state:e.feedback("ProgramObjects","osn_isp_zdan")}},[a("b-form-input",{attrs:{id:"osn_isp_zdan",name:"ProgramObjects[osn_isp_zdan]"},model:{value:e.formData.osn_isp_zdan,callback:function(t){e.$set(e.formData,"osn_isp_zdan",t)},expression:"formData.osn_isp_zdan"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Право оперативного управления (рег. запись, номер):","label-for":"prav_oper_upr","invalid-feedback":e.feedback("ProgramObjects","prav_oper_upr","Введите Право оперативного управления (рег. запись, номер)"),"valid-feedback":e.feedback("ProgramObjects","prav_oper_upr"," "),state:e.feedback("ProgramObjects","prav_oper_upr")}},[a("b-form-input",{attrs:{id:"prav_oper_upr",name:"ProgramObjects[prav_oper_upr]"},model:{value:e.formData.prav_oper_upr,callback:function(t){e.$set(e.formData,"prav_oper_upr",t)},expression:"formData.prav_oper_upr"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Назначение:","label-for":"assignment","invalid-feedback":e.feedback("ProgramObjects","assignment","Введите Назначение"),"valid-feedback":e.feedback("ProgramObjects","assignment"," "),state:e.feedback("ProgramObjects","assignment")}},[a("b-form-input",{attrs:{id:"assignment",name:"ProgramObjects[assignment]"},model:{value:e.formData.assignment,callback:function(t){e.$set(e.formData,"assignment",t)},expression:"formData.assignment"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Право собственности:","label-for":"prav_sob","invalid-feedback":e.feedback("ProgramObjects","prav_sob","Введите Право собственности"),"valid-feedback":e.feedback("ProgramObjects","prav_sob"," "),state:e.feedback("ProgramObjects","prav_sob")}},[a("b-form-input",{staticStyle:{display:"none"},attrs:{id:"prav_sob",name:"ProgramObjects[prav_sob]"},model:{value:e.formData.prav_sob,callback:function(t){e.$set(e.formData,"prav_sob",t)},expression:"formData.prav_sob"}}),e._v(" "),a("b-select",{attrs:{options:[{value:"fast",text:"Оперативное управление"},{value:"others",text:"Другое"}]},model:{value:e.formData.prav_sob,callback:function(t){e.$set(e.formData,"prav_sob",t)},expression:"formData.prav_sob"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Общая площадь здания - всего, кв.м.:","label-for":"square","invalid-feedback":e.feedback("ProgramObjects","square","Введите Общая площадь здания - всего, кв.м."),"valid-feedback":e.feedback("ProgramObjects","square"," "),state:e.feedback("ProgramObjects","square")}},[a("b-form-input",{attrs:{id:"square",name:"ProgramObjects[square]",type:"number",step:"0.001"},on:{change:function(t){return e.setFloat(t,"square")}},model:{value:e.formData.square,callback:function(t){e.$set(e.formData,"square",t)},expression:"formData.square"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Общая площадь здания (помещений), планируемого к капитальному ремонту, кв. м.:","label-for":"square_kap","invalid-feedback":e.feedback("ProgramObjects","square_kap","Введите Общая площадь здания (помещений), планируемого к капитальному ремонту, кв. м."),"valid-feedback":e.feedback("ProgramObjects","square_kap"," "),state:e.feedback("ProgramObjects","square_kap")}},[a("b-form-input",{attrs:{id:"square_kap",name:"ProgramObjects[square_kap]",type:"number",step:"0.001"},on:{change:function(t){return e.setFloat(t,"square_kap")}},model:{value:e.formData.square_kap,callback:function(t){e.$set(e.formData,"square_kap",t)},expression:"formData.square_kap"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Используется в уставной деятельности, кв.м.:","label-for":"isp_v_ust_dey","invalid-feedback":e.feedback("ProgramObjects","isp_v_ust_dey","Введите Используется в уставной деятельности, кв.м."),"valid-feedback":e.feedback("ProgramObjects","isp_v_ust_dey"," "),state:e.feedback("ProgramObjects","isp_v_ust_dey")}},[a("b-form-input",{attrs:{id:"isp_v_ust_dey",name:"ProgramObjects[isp_v_ust_dey]",type:"number",step:"0.001"},on:{change:function(t){return e.setFloat(t,"isp_v_ust_dey")}},model:{value:e.formData.isp_v_ust_dey,callback:function(t){e.$set(e.formData,"isp_v_ust_dey",t)},expression:"formData.isp_v_ust_dey"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Не используется в уставной деятельности, кв.м.:","label-for":"n_isp_v_ust_dey","invalid-feedback":e.feedback("ProgramObjects","n_isp_v_ust_dey","Не используется в уставной деятельности, кв.м."),"valid-feedback":e.feedback("ProgramObjects","n_isp_v_ust_dey"," "),state:e.feedback("ProgramObjects","n_isp_v_ust_dey")}},[a("b-form-input",{attrs:{id:"n_isp_v_ust_dey",name:"ProgramObjects[n_isp_v_ust_dey]",type:"number",step:"0.001"},on:{change:function(t){return e.setFloat(t,"n_isp_v_ust_dey")}},model:{value:e.formData.n_isp_v_ust_dey,callback:function(t){e.$set(e.formData,"n_isp_v_ust_dey",t)},expression:"formData.n_isp_v_ust_dey"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Предоставлено в аренду, кв.м.","label-for":"square_ar","invalid-feedback":e.feedback("ProgramObjects","square_ar","Введите Предоставлено в аренду, кв.м."),"valid-feedback":e.feedback("ProgramObjects","square_ar"," "),state:e.feedback("ProgramObjects","square_ar")}},[a("b-form-input",{attrs:{id:"square_ar",name:"ProgramObjects[square_ar]",type:"number",step:"0.001"},on:{change:function(t){return e.setFloat(t,"square_ar")}},model:{value:e.formData.square_ar,callback:function(t){e.$set(e.formData,"square_ar",t)},expression:"formData.square_ar"}})],1),e._v(" "),a("b-form-group",{attrs:{label:"Примечание:","label-for":"note","invalid-feedback":e.feedback("ProgramObjects","note","Введите Примечание :"),"valid-feedback":e.feedback("ProgramObjects","note"," "),state:e.feedback("ProgramObjects","note")}},[a("b-form-input",{attrs:{id:"note",name:"ProgramObjects[note]"},model:{value:e.formData.note,callback:function(t){e.$set(e.formData,"note",t)},expression:"formData.note"}})],1)],1)],1)],1)],1),e._v(" "),a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-2",modifiers:{"accordion-2":!0}}],staticClass:"toggle_button"},[a("b-icon-gear-wide-connected"),e._v("\n                            Сведения о планируемых мероприятиях")],1)]),e._v(" "),a("b-collapse",{attrs:{id:"accordion-2",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("v-svedenia",{ref:"svedenia",attrs:{"model-name":"ProgObjectsEvents"}})],1)],1)],1),e._v(" "),e.checkFOIV()?a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-3",modifiers:{"accordion-3":!0}}],staticClass:"toggle_button"},[a("b-icon-gear-wide-connected"),e._v("\n                                Обоснование необходимости (целесообразности) планируемых мероприятий")],1)]),e._v(" "),a("b-collapse",{attrs:{id:"accordion-3",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("v-necessary",{ref:"necessary",attrs:{"model-name":"ProObjectsNecessary"}})],1)],1)],1):e._e(),e._v(" "),e.checkFOIV()?a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-4",modifiers:{"accordion-4":!0}}],staticClass:"toggle_button"},[a("b-icon-gear-wide-connected"),e._v("\n                                Ожидаемые результаты")],1)]),e._v(" "),a("b-collapse",{attrs:{id:"accordion-4",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("v-waited",{ref:"waited",attrs:{"model-name":"ProgObjectsWaites"}})],1)],1)],1):e._e(),e._v(" "),e.checkFOIV()?a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-5",modifiers:{"accordion-5":!0}}],staticClass:"toggle_button"},[a("b-icon-gear-wide-connected"),e._v("\n                                Прогнозируемые риски")],1)]),e._v(" "),a("b-collapse",{attrs:{id:"accordion-5",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("v-riscs",{ref:"riscs",attrs:{"model-name":"ProgObjectsRiscs"}})],1)],1)],1):e._e(),e._v(" "),e.checkFOIV()?a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-6",modifiers:{"accordion-6":!0}}],staticClass:"toggle_button"},[a("b-icon-gear-wide-connected"),e._v("\n                                Опись прилагаемых документов")],1)]),e._v(" "),a("b-collapse",{attrs:{id:"accordion-6",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("v-uploads",{ref:"files",attrs:{"model-name":"Files"}})],1)],1)],1):e._e()],1)]),e._v(" "),a("b-button",{attrs:{type:"submit",variant:"info"}},[e._v("Сохранить")]),e._v(" "),a("b-button",{attrs:{type:"reset",variant:"danger"}},[e._v("Сброс")])],1)],1)}),[],!1,null,"d735cd86",null));t.default=W.exports},BNgB:function(e,t,a){"use strict";var n=a("Od1J");a.n(n).a},D8lX:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,'\n.extra-table-class {\r\n    vertical-align: middle !important;\r\n    text-align: center;\n}\n.vertical-align-centre-extra-table {\r\n    vertical-align: middle !important;\n}\n.overflow {\r\n    overflow: hidden;\n}\n.normal-font-weight-for-table {\r\n    font-weight: normal !important;\n}\n.normal-font-size-for-cell-file-name {\r\n    font-size: 13px !important;\n}\n.cell-center-for-table {\r\n    vertical-align: middle !important;\r\n    text-align: center !important;\n}\r\n\r\n/* Анимация инпута файла */\n.cell-center-for-items {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\n}\n.scope-to-animate {\r\n    z-index: 999;\r\n    height: 2px;\r\n    width: 8px;\r\n    background: grey;\r\n    transition: 0.4s ease;\n}\n.scope-to-animate:first-child {\r\n    display: block;\r\n    position: absolute;\r\n    transform: rotate(45deg);\r\n    left: 25%;\r\n    bottom: 35%;\n}\n.scope-to-animate:nth-child(2) {\r\n    display: block;\r\n    position: absolute;\r\n    transform: rotate(-45deg);\r\n    left: 45%;\r\n    bottom: 35%;\n}\n.scope-to-animate:nth-child(3) {\r\n    display: block;\r\n    position: absolute;\r\n    transform: rotate(45deg);\r\n    left: 25%;\r\n    bottom: 54%;\n}\n.scope-to-animate:nth-child(4) {\r\n    display: block;\r\n    position: absolute;\r\n    transform: rotate(-45deg);\r\n    left: 45%;\r\n    bottom: 54%;\n}\n.label:hover .scope-to-animate:nth-child(1) {\r\n    transform: rotate(-135deg);\r\n    background: #5bc0de;\n}\n.label:hover .scope-to-animate:nth-child(2) {\r\n    transform: rotate(135deg);\r\n    background: #5bc0de;\n}\n.label:hover .scope-to-animate:nth-child(3) {\r\n    transform: rotate(225deg);\r\n    background: #5bc0de;\n}\n.label:hover .scope-to-animate:nth-child(4) {\r\n    transform: rotate(-225deg);\r\n    background: #5bc0de;\n}\n.hidden-file-input {\r\n    display: none;\n}\n.label {\r\n    position: relative;\r\n    width: 28px;\n}\n.arrow {\r\n    display: flex;\r\n    align-items: center;\n}\n.arrow input[type="file"] {\r\n    outline: 0;\r\n    opacity: 0;\r\n    pointer-events: none;\r\n    -webkit-user-select: none;\r\n       -moz-user-select: none;\r\n        -ms-user-select: none;\r\n            user-select: none;\n}\n.arrow .label {\r\n    height: 28px;\r\n    border: 1px solid grey;\r\n    border-radius: 5px;\r\n    display: block;\r\n    transition: border 300ms ease;\r\n    cursor: pointer;\r\n    text-align: center;\n}\n.arrow .label i {\r\n    display: block;\r\n    font-size: 42px;\n}\n.arrow .label i,\r\n.example-1 .label .title {\r\n    color: grey;\r\n    transition: 200ms color;\n}\n.arrow .label:hover {\r\n    border: 2px solid #5bc0de;\n}\n.arrow .label:hover i,\r\n.example-1 .label:hover .title {\r\n    color: #5bc0de;\n}\r\n\r\n/* Конец анимации стрелок, начало анимации крестика */\n.cross-to-animate {\r\n    z-index: 999;\r\n    height: 2px;\r\n    width: 15px;\r\n    background: #d9534f;\r\n    transition: 0.4s ease;\n}\n.cross-to-animate:first-child {\r\n    display: block;\r\n    position: absolute;\r\n    transform: rotate(45deg);\r\n    left: 20%;\r\n    bottom: 45%;\n}\n.cross-to-animate:nth-child(2) {\r\n    display: block;\r\n    position: absolute;\r\n    transform: rotate(-45deg);\r\n    left: 22%;\r\n    bottom: 45%;\n}\n.label:hover .cross-to-animate:nth-child(1) {\r\n    transform: rotate(-135deg);\n}\n.label:hover .cross-to-animate:nth-child(2) {\r\n    transform: rotate(135deg);\n}\n.cross {\r\n    display: flex;\r\n    align-items: center;\n}\n.cross .label {\r\n    height: 28px;\r\n    border: 1px solid grey;\r\n    border-radius: 5px;\r\n    display: block;\r\n    transition: border 300ms ease;\r\n    cursor: pointer;\r\n    text-align: center;\n}\n.cross .label i {\r\n    display: block;\r\n    font-size: 42px;\n}\n.cross .label i,\r\n.cross .label .title {\r\n    color: grey;\r\n    transition: 200ms color;\n}\n.cross .label:hover {\r\n    border: 2px solid #d9534f;\n}\r\n\r\n\r\n/* Конец анимации инпута */\r\n',""])},DhZu:function(e,t,a){var n=a("kzLW");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},EOoP:function(e,t,a){var n=a("mAdv");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},Emmt:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.hover {\n    cursor: pointer;\n}\n",""])},Fe9v:function(e,t,a){"use strict";var n=a("OUPM");a.n(n).a},"Gd+A":function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.hidden-overflow[data-v-1535cae1] {\n    overflow: hidden;\n    overflow-x: scroll;\n}\n.normal-font-weight-for-sell[data-v-1535cae1] {\n    font-weight: normal !important;\n}\n.cursor-pointer[data-v-1535cae1] {\n    cursor: pointer;\n}\n",""])},"HP+Z":function(e,t,a){var n=a("Oc96");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},I09t:function(e,t,a){var n=a("WlQO");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},J6fC:function(e,t,a){var n=a("vUfo");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},JWno:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.text-decorate {\n    color: #000 !important;\n}\n.slide-fade-enter-active {\n    transition: all .3s ease;\n}\n.slide-fade-leave-active {\n    transition: all .3s cubic-bezier(1.0, 0.5, 0.8, 1.0);\n}\n.slide-fade-enter, .slide-fade-leave-to {\n    transform: translateX(10px);\n    opacity: 0;\n}\n",""])},"Jbt+":function(e,t,a){"use strict";var n=a("eAVo");a.n(n).a},LNSP:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n",""])},MAdp:function(e,t,a){var n=a("ke0P");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},MEjd:function(e,t,a){"use strict";var n=a("5/74");a.n(n).a},MoLg:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.toggle_button[data-v-6e653f94] {\r\n    display: block;\r\n    cursor: pointer;\n}\n.card-body[data-v-6e653f94] {\r\n    overflow-y: auto;\n}\r\n",""])},OUPM:function(e,t,a){var n=a("tev7");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},Oc96:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.hidden-val-for-table {\r\n    overflow: hidden !important;\r\n    overflow-x: scroll !important;\n}\n.vertical-align-extra-table {\r\n    vertical-align: middle !important;\n}\r\n",""])},Od1J:function(e,t,a){var n=a("pHQF");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},R6BJ:function(e,t,a){var n=a("D8lX");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},RCEs:function(e,t,a){"use strict";var n=a("Zjs1");a.n(n).a},VcTf:function(e,t,a){var n=a("rPt+");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},Vtdi:function(e,t,a){"use strict";a.r(t);var n=a("o0o1"),r=a.n(n),s=a("XuX8"),o=a.n(s),i={name:"app"},l=(a("A0++"),a("KHd+")),c=Object(l.a)(i,(function(){var e=this.$createElement;return(this._self._c||e)("router-view")}),[],!1,null,null,null).exports,d=a("L2JU"),u=a("vDqi"),m=a.n(u);o.a.use(d.a);var b=new d.a.Store({actions:{requestUser:function(e){return m.a.post("/rest/system/get-user").then((function(t){e.commit("updateUser",t.data)})).catch((function(e){console.error(e)}))},requestCurrentOrg:function(e){m.a.post("/rest/organizations/current").then((function(t){e.commit("updateOrg",t.data)})).catch((function(e){console.error(e)}))},requestOrg:function(e,t){var a=t.id;m.a.post("/rest/organizations/by-id",{id:a}).then((function(t){e.commit("updateOrg",t.data)})).catch((function(e){console.error(e)}))},requestPageData:function(e,t){var a=t.pageName;m.a.get("/rest/system/get-page",{params:{pageName:a}}).then((function(t){e.commit("updatePageData",t.data)})).catch((function(e){console.error(e)}))},requestCity:function(e,t){var a=t.id;m.a.get("/rest/cities/by-id",{params:{id:a}}).then((function(t){e.commit("updateCities",t.data)})).catch((function(e){console.error(e)}))}},mutations:{updateUser:function(e,t){e.user=t},updateOrg:function(e,t){e.organization=t},updatePageData:function(e,t){e.pageData=t},updateCities:function(e,t){e.cities=t}},state:{pageData:{},user:{},organization:{},cities:[]},getters:{getUser:function(e){return e.user},getOrg:function(e){return e.organization&&e.organization.org?e.organization.org:null},getRegion:function(e){return e.organization&&e.organization.region?e.organization.region:null},getRegions:function(e){return e.pageData.regionOptions},getPageData:function(e){return e.pageData},getCities:function(e){return e.cities}},modules:{}}),v=a("jE9Z"),p=a("Obrr"),f=a("GUe+"),_=a("Ed67"),g=a("R5cT"),h=a("Hrou"),y=a("C9gC"),k=a("Ki4g"),w=a("bPaI"),x=a("okd0"),C=a("J2ht");function O(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return j(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,i=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){i=!0,s=e},f:function(){try{o||null==a.return||a.return()}finally{if(i)throw s}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var P={directives:{"b-toggle":p.e},components:{BButton:f.a,BForm:_.a,BFormInput:g.a,BTableSimple:h.a,BThead:y.a,BTr:k.a,BTh:w.a,BTbody:x.a,BTfoot:C.a},mounted:function(){var e=this;m.a.get("/rest/system/get-page",{params:{pageName:"atz"}}).then((function(t){t.data.forEach((function(t){e.items[t.elem].cost_b=t.cost_b,e.items[t.elem].cost_v=t.cost_v}))})).catch((function(e){console.error(e)}))},data:function(){return{csrf:document.getElementsByName("csrf-token")[0].content,modelName:"Atz",items:[{cost_b:null,cost_v:null,cost_o:null,label:"Система видеонаблюдения"},{cost_b:null,cost_v:null,cost_o:null,label:"Система оповещения и управления эвакуацией"},{cost_b:null,cost_v:null,cost_o:null,label:"Система освещения"},{cost_b:null,cost_v:null,cost_o:null,label:"Средства охранной сигнализации"},{cost_b:null,cost_v:null,cost_o:null,label:"Средства тревожной сигнализации"},{cost_b:null,cost_v:null,cost_o:null,label:"Средства пожарной сигнализации"},{cost_b:null,cost_v:null,cost_o:null,label:"Средства телефонной связи и радиосвязи"},{cost_b:null,cost_v:null,cost_o:null,label:"Ограждение (в т.ч. ворота, шлагбаумы)"},{cost_b:null,cost_v:null,cost_o:null,label:"СКУД"}]}},computed:{cost_o:function(){var e=this;return function(t){var a=parseFloat(e.items[t].cost_b)||0,n=parseFloat(e.items[t].cost_v)||0;return e.items[t].cost_o=a+n,a+n}},cost_b_full:function(){var e,t=0,a=O(this.items);try{for(a.s();!(e=a.n()).done;){var n=e.value;t+=parseFloat(n.cost_b)||0}}catch(e){a.e(e)}finally{a.f()}return t},cost_v_full:function(){var e,t=0,a=O(this.items);try{for(a.s();!(e=a.n()).done;){var n=e.value;t+=parseFloat(n.cost_v)||0}}catch(e){a.e(e)}finally{a.f()}return t},cost_o_full:function(){var e,t=0,a=O(this.items);try{for(a.s();!(e=a.n()).done;){var n=e.value;t+=parseFloat(n.cost_o)||0}}catch(e){a.e(e)}finally{a.f()}return t}},methods:{clearInputs:function(){var e,t=O(this.items);try{for(t.s();!(e=t.n()).done;){var a=e.value;a.cost_b=null,a.cost_v=null,a.cost_o=null}}catch(e){t.e(e)}finally{t.f()}},sendInfo:function(){var e=new FormData(document.getElementById("atz_form"));m.a.post(this.$route.path,e,{headers:{"X-CSRF-Token":this.csrf,"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){e.data&&location.reload()}))}}},D=(a("bpk3"),Object(l.a)(P,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"overflow"},[a("b-form",{attrs:{id:"atz_form",method:"post"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.csrf,expression:"csrf"}],attrs:{id:"hidden",name:"_csrf",type:"hidden"},domProps:{value:e.csrf},on:{input:function(t){t.target.composing||(e.csrf=t.target.value)}}}),e._v(" "),a("b-table-simple",{attrs:{bordered:"",hover:""}},[a("b-thead",[a("b-tr",[a("b-th",{staticClass:"vertical-align-for-table-cell"},[e._v("Направление расходов")]),e._v(" "),a("b-th",{staticClass:"vertical-align-for-table-cell"},[e._v("Сумма бюджетного финансирования (руб)")]),e._v(" "),a("b-th",{staticClass:"vertical-align-for-table-cell"},[e._v("Сумма внебюджетного финансирования (руб)")]),e._v(" "),a("b-th",{staticClass:"vertical-align-for-table-cell"},[e._v("Сумма общий объем финансирования (руб)")])],1)],1),e._v(" "),a("b-tbody",e._l(e.items,(function(t,n){return a("b-tr",{key:n},[a("b-th",{staticClass:"vertical-align-for-table-cell normal-font-weight-for-cell"},[a("label",[e._v(e._s(t.label))])]),e._v(" "),a("b-th",{staticClass:"vertical-align-for-table-cell normal-font-weight-for-cell"},[a("b-form-input",{attrs:{name:e.modelName+"["+n+"][cost_b]",placeholder:"Цена",min:"0",type:"number"},model:{value:t.cost_b,callback:function(a){e.$set(t,"cost_b",a)},expression:"item.cost_b"}})],1),e._v(" "),a("b-th",{staticClass:"vertical-align-for-table-cell normal-font-weight-for-cell"},[a("b-form-input",{attrs:{name:e.modelName+"["+n+"][cost_v]",placeholder:"Цена",min:"0",type:"number"},model:{value:t.cost_v,callback:function(a){e.$set(t,"cost_v",a)},expression:"item.cost_v"}})],1),e._v(" "),a("b-th",{staticClass:"vertical-align-for-table-cell normal-font-weight-for-cell"},[a("label",[e._v(e._s(e.cost_o(n)))])])],1)})),1),e._v(" "),a("b-tfoot",[a("b-tr",[a("b-th",{staticClass:"vertical-align-for-table-cell text-align-end-for-cell"},[a("label",[e._v("ИТОГО:")])]),e._v(" "),a("b-th",{staticClass:"vertical-align-for-table-cell text-align-end-for-cell"},[a("label",[e._v(e._s(e.cost_b_full))])]),e._v(" "),a("b-th",{staticClass:"vertical-align-for-table-cell text-align-end-for-cell"},[a("label",[e._v(e._s(e.cost_v_full))])]),e._v(" "),a("b-th",{staticClass:"vertical-align-for-table-cell text-align-end-for-cell"},[a("label",[e._v(e._s(e.cost_o_full))])])],1)],1)],1),e._v(" "),a("div",{staticClass:"align-element-right"},[a("b-button",{attrs:{size:"sm",variant:"info"},on:{click:function(t){return e.sendInfo()}}},[e._v("Сохранить")]),e._v(" "),a("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(t){return e.clearInputs()}}},[e._v("Сброс")])],1)],1)],1)}),[],!1,null,null,null).exports),B=a("4jWJ"),E=a("IF94"),S=a("uIXr"),F=a("YZfj"),N=a("JtJI"),I=a("41Hj");function T(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function z(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){T(s,n,r,o,i,"next",e)}function i(e){T(s,n,r,o,i,"throw",e)}o(void 0)}))}}var $={components:{BBreadcrumb:B.a,BCard:E.a,BCardHeader:S.a,BCardBody:F.a,BTableSimple:h.a,BThead:y.a,BTr:k.a,BTh:w.a,BTbody:x.a,BPagination:N.a,UserInfoView:I.c},data:function(){return{permission:window.Permission,programm:{},currentPage:1,perPage:5,csrf:document.getElementsByName("csrf-token")[0].content,org_id:null,items:[],organization:{},prioritet_object:[],rezerv_object:[],info:{budjet:null},infoFromServ:null}},mounted:function(){var e=this;return z(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.org_id=e.$route.params.id,t.next=3,e.getCurentOrg();case 3:case"end":return t.stop()}}),t)})))()},computed:{waited_square:function(){return(1e3*(parseFloat(this.programm.finance_volume)-parseFloat(this.programm.finance_events))/parseFloat(this.programm.cost)).toFixed(2)}},methods:{checkFOIV:function(){return!("faiv_admin"===this.permission||"faiv_user"===this.permission)},getCurentOrg:function(){var e=this;return z(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m.a.post("/api/org-table/".concat(e.org_id),null,{headers:{"X-CSRF-Token":e.csrf}}).then((function(t){e.prioritet_object=t.data.objects.filter((function(e){return"0"==e.type})),e.rezerv_object=t.data.objects.filter((function(e){return"1"==e.type}));var a=0;t.data.objects.forEach((function(e){a+=parseFloat(e.finance_sum)})),e.info.budjet=a,e.infoFromServ=t.data.info,e.organization=t.data.organization,e.items=t.data.objects,e.programm=t.data.programm})));case 1:case"end":return t.stop()}}),t)})))()},getDepStatus:function(e){return"not"===e?"В обработке":"approved"===e?"Рассмотрено ДЭП":2===e?"Резерв":void 0},getIznos:function(e){var t=parseInt(e);return 0===t?"Менее 20%":1===t?"От 20% до 50%":2===t?"От 50% до 70%":3===t?"От 70% до 90%":4===t?"Более 90%":void 0},goToObj:function(e){window.location="/organization/obj/".concat(e)}}},q=(a("nbcP"),Object(l.a)($,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-breadcrumb",{attrs:{items:[{text:"Список организаций",href:"/organization/list"},{text:"Список объектов",href:"/organization/list/"+e.org_id}]}}),e._v(" "),a("b-card",{attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",[a("b-icon",{staticClass:"mr-2 ml-1",attrs:{icon:"bookmark-fill",scale:"1.5"}}),e._v("Подробная информация")],1)]),e._v(" "),a("b-card-body",[a("b-table-simple",{attrs:{bordered:"",small:""}},[a("b-thead",[a("b-tr",[a("b-th",[e._v(e._s(e.organization?e.organization.id:""))]),e._v(" "),a("b-th",[e._v(e._s(e.organization?e.organization.name:""))]),e._v(" "),e.organization?a("b-th",[e.organization.file?a("a",{staticStyle:{display:"block"},attrs:{href:"/program/download-doc/"+e.organization.id}},[a("b-icon",{attrs:{icon:"file-earmark-arrow-down",variant:"success"}})],1):e._e()]):e._e()],1)],1)],1),e._v(" "),a("b-table-simple",{attrs:{bordered:"",hover:""}},[a("b-thead",[a("b-tr",[a("b-th",[e._v("Объем финансового обеспечения на реализацию мероприятий по модернизации инфраструктуры,\n                            включая капитальный ремонт объектов и проведение мероприятий по антитеррористической\n                            защищенности объектов,тыс. рублей")]),e._v(" "),a("b-th",[e._v("Из них на реализацию мероприятий по антитеррористической защищенности, не более,тыс.\n                            рублей")]),e._v(" "),a("b-th",[e._v("Предельная стоимость капитального ремонта 1 кв. м. площади, рублей")]),e._v(" "),a("b-th",[e._v("Ожидаемая площадь капитального ремонта, кв.м.")])],1)],1),e._v(" "),a("b-tbody",[a("b-tr",[a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell cursor-pointer"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(e.programm.finance_volume))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell cursor-pointer"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(e.programm.finance_events))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell cursor-pointer center-text-in-cell"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(e.programm.cost))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell cursor-pointer"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(e.waited_square))])])],1)],1)],1)],1)],1),e._v(" "),a("br"),e._v(" "),a("user-info-view",{attrs:{id_org:e.org_id}}),e._v(" "),a("b-card",{staticClass:"mt-3",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",[a("b-icon",{staticClass:"mr-2 ml-1",attrs:{icon:"bookmark-fill",scale:"1.5"}}),e._v("Информация")],1)]),e._v(" "),a("b-card-body",[a("b-table-simple",{attrs:{bordered:"",hover:""}},[a("b-thead",[a("b-tr",[a("b-th",[e._v("Объем бюджетного финансирования кап.ремонт по программе")]),e._v(" "),a("b-th",[e._v("Объекты: всего/в обработке / возвращено на доработку/не рекомендуется к согласованию/ рекомендуется к согласованию")]),e._v(" "),a("b-th",[e._v("Объем бюджетного финансирования по приоритетным объектам рекомендованным к согласованию")]),e._v(" "),a("b-th",[e._v("Объем бюджетного финансирования по резервным объектам рекомендованным к согласованию")]),e._v(" "),a("b-th",[e._v("Объем бюджетного финансирования по объектам рассмотренным ДЭП")]),e._v(" "),a("b-th",[e._v("Объем бюджетного финансирования по объектам рассмотренным ДЭП (в резерв)")]),e._v(" "),a("b-th",[e._v("Статус программы (ДЭП) ")])],1)],1),e._v(" "),a("b-tbody",[a("b-tr",[a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell cursor-pointer"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(e.info.budjet?e.info.budjet.toFixed(3):0))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell cursor-pointer"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(e.infoFromServ?e.infoFromServ.countAll:0))]),e._v(" "),a("label",{staticClass:"cursor-pointer text-secondary"},[e._v("/ "+e._s(e.infoFromServ?e.infoFromServ.vObr:0))]),e._v(" "),a("label",{staticClass:"cursor-pointer text-warning"},[e._v("/ "+e._s(e.infoFromServ?e.infoFromServ.naDorab:0))]),e._v(" "),a("label",{staticClass:"cursor-pointer text-danger"},[e._v("/ "+e._s(e.infoFromServ?e.infoFromServ.notRecomend:0))]),e._v(" "),a("label",{staticClass:"cursor-pointer text-success"},[e._v("/ "+e._s(e.infoFromServ?e.infoFromServ.recomend:0))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell cursor-pointer"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(e.infoFromServ?e.infoFromServ.pr:0))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell cursor-pointer"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(e.infoFromServ?e.infoFromServ.res:0))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell cursor-pointer"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(e.infoFromServ?e.infoFromServ.dep:0))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell cursor-pointer"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(e.infoFromServ?e.infoFromServ.depr:0))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell cursor-pointer"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(e.infoFromServ?e.infoFromServ.st:"Не рассмотрено"))])])],1)],1)],1)],1)],1),e._v(" "),a("b-card",{staticClass:"mt-4",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",[a("b-icon",{staticClass:"mr-2 ml-1",attrs:{icon:"gear-wide-connected",scale:"1.5"}}),e._v("\n                Объекты требующие капитального ремонта (Приоритетные)\n            ")],1)]),e._v(" "),a("b-card-body",{staticClass:"hidden-overflow"},[a("b-table-simple",{attrs:{bordered:"",hover:""}},[a("b-thead",[a("b-tr",[a("b-th",[e._v("№")]),e._v(" "),a("b-th",[e._v("Объекты")]),e._v(" "),a("b-th",[e._v("Уровень приоритета")]),e._v(" "),a("b-th",[e._v("ID Объекта")]),e._v(" "),a("b-th",[e._v("Сумма бюджетного финансирования на проведение капитального ремонта (тыс. руб.) согласно программы ВУЗа")]),e._v(" "),a("b-th",[e._v("Сумма внебюджетного финансирования на проведение капитального ремонта (тыс. руб.) согласно программы ВУЗа")]),e._v(" "),a("b-th",[e._v("Статус Эксперт")]),e._v(" "),a("b-th",[e._v("Статус ДЭП")])],1)],1),e._v(" "),a("b-tbody",e._l(e.prioritet_object,(function(t,n){return a("b-tr",{key:n,on:{click:function(a){return e.goToObj(t.id)}}},[a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell cursor-pointer"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(n+1))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell cursor-pointer"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(t.name))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell cursor-pointer"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(t.id_priority))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell cursor-pointer"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(t.id))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell cursor-pointer"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(t.finance_sum))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell cursor-pointer center-text-in-cell"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(t.coFinancing))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell cursor-pointer"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(t.status))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell cursor-pointer"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(e.getDepStatus(t.dep_status)))])])],1)})),1)],1),e._v(" "),a("b-pagination",{directives:[{name:"show",rawName:"v-show",value:e.currentPage,expression:"currentPage"}],attrs:{"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1),e._v(" "),e.checkFOIV()?a("b-card",{staticClass:"mt-4",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",[a("b-icon",{staticClass:"mr-2 ml-1",attrs:{icon:"gear-wide-connected",scale:"1.5"}}),e._v("Объекты требующие\n                капитального ремонта (Резервные)\n            ")],1)]),e._v(" "),a("b-card-body",{staticClass:"hidden-overflow"},[a("b-table-simple",{attrs:{bordered:"",hover:""}},[a("b-thead",[a("b-tr",[a("b-th",[e._v("№")]),e._v(" "),a("b-th",[e._v("Объекты")]),e._v(" "),a("b-th",[e._v("Уровень приоритета")]),e._v(" "),a("b-th",[e._v("ID Объекта")]),e._v(" "),a("b-th",[e._v("Сумма бюджетного финансирования на проведение капитального ремонта (тыс. руб.) согласно программы ВУЗа")]),e._v(" "),a("b-th",[e._v("Сумма внебюджетного финансирования на проведение капитального ремонта (тыс. руб.) согласно программы ВУЗа")]),e._v(" "),a("b-th",[e._v("Статус Эксперт")]),e._v(" "),a("b-th",[e._v("Статус ДЭП")])],1)],1),e._v(" "),a("b-tbody",e._l(e.rezerv_object,(function(t,n){return a("b-tr",{key:n,on:{click:function(a){return e.goToObj(t.id)}}},[a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell cursor-pointer"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(n+1))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell cursor-pointer"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(t.name))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell cursor-pointer"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(t.id_priority))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell cursor-pointer"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(t.id))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell cursor-pointer"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(t.finance_sum))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell cursor-pointer center-text-in-cell"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(t.coFinancing))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell cursor-pointer"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(t.status))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell cursor-pointer"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(e.getDepStatus(t.dep_status)))])])],1)})),1)],1),e._v(" "),a("b-pagination",{directives:[{name:"show",rawName:"v-show",value:e.currentPage,expression:"currentPage"}],attrs:{"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1):e._e()],1)}),[],!1,null,"1535cae1",null).exports),R=a("xD+F"),U=a("X9p1"),A=a("WEOK"),M=a("3Zo4"),L=a("nqqA"),H=a("KaE5"),X=a("w+YJ"),J=a("CAmi");function V(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return K(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function G(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function W(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){G(s,n,r,o,i,"next",e)}function i(e){G(s,n,r,o,i,"throw",e)}o(void 0)}))}}function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(a),!0).forEach((function(t){Q(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Q(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ee={directives:{"b-toggle":p.e},components:{"v-comments":I.a,BFormFile:R.a,BAlert:U.a,BBreadcrumb:B.a,BCollapse:A.a,BTableSimple:h.a,BTr:k.a,BTh:w.a,BThead:y.a,BTbody:x.a,BDropdown:M.a,BDropdownItem:L.a,BTable:H.a,BCard:E.a,BButton:f.a,BCardHeader:S.a,BFormCheckbox:X.a,BCardBody:F.a,BTd:J.a,BFormInput:g.a},data:function(){return{bannerInfo:[],canChange:!1,dateStatus:"",status:{label:"",variant:""},permission:window.Permission,realStatus:0,realStatusType:[{variant:"secondary",label:"Серый"},{variant:"warning",label:"Желтый"},{variant:"success",label:"Зеленый"},{variant:"danger",label:"Красный"}],dep_status:{label:null,color:null},dku_status:{label:null,color:null},show:{dep:!1,dku:!1},csrf:document.getElementsByName("csrf-token")[0].content,items:[],real:!1,obj_id:null,org_id:null,docs:[],fromServer:{},s_bud_f:0,r_bud_f:0,svedenia2:[{canDelete:!1,step:0,id_event:null,step_name:"Проведение тендера и заключение договора на выполнение обследования",date_event_start:null,date_event_end:null,cost_real:null,sum_bud_fin:null,access_document:null,fin_vnebud_ist:null,is_nessesary:null,done:!1,doneExpert:!1,file:null,comment:"",commentExpert:"",parent:!0},{canDelete:!1,step:.1,id_event:null,step_name:"Внесение пользователем закупки на обследование объекта в план закупок ",help:"Сканированный план закупок пользователя",date_event_start:null,date_event_end:null,cost_real:null,file:null,sum_bud_fin:null,access_document:null,fin_vnebud_ist:null,is_nessesary:null,done:!1,doneExpert:!1,comment:"",commentExpert:"",parent:!1},{canDelete:!1,step:.2,id_event:null,step_name:"Объявление пользователем аукциона на обследование объекта",date_event_start:null,access_document:null,date_event_end:null,cost_real:null,sum_bud_fin:null,fin_vnebud_ist:null,file:null,is_nessesary:null,done:!1,doneExpert:!1,comment:"",commentExpert:"",parent:!1},{canDelete:!1,step:.3,id_event:null,step_name:"Определение подрядчика по результату аукциона",help:"Протокол результатов проведения аукциона ",date_event_start:null,date_event_end:null,cost_real:null,sum_bud_fin:null,access_document:null,fin_vnebud_ist:null,is_nessesary:null,done:!1,file:null,doneExpert:!1,comment:"",commentExpert:"",parent:!1},{canDelete:!1,step:.4,id_event:null,step_name:"Заключение договора с подрядчиком",help:"Сканированный договор с подрядчиком",date_event_start:null,date_event_end:null,cost_real:null,sum_bud_fin:null,fin_vnebud_ist:null,access_document:null,file:null,is_nessesary:null,done:!1,doneExpert:!1,comment:"",commentExpert:"",parent:!1},{step:.99999999,canDelete:!1,button:!0,button_name:"Добавить"},{canDelete:!1,step:1,id_event:null,step_name:"Выполнение обследования, подготовка и утверждение дефектного акта (дефектной ведомости). ",help:"Отчет об обследовании, дефектный акт",date_event_start:null,date_event_end:null,cost_real:null,access_document:null,file:null,sum_bud_fin:null,fin_vnebud_ist:null,is_nessesary:null,done:!1,doneExpert:!1,comment:"",commentExpert:"",parent:!0},{step:1.9999999,canDelete:!1,button:!0,button_name:"Добавить"},{canDelete:!1,step:2,id_event:null,file:null,step_name:"Утверждение задания на проектирование ",help:"Сканированное задание на проектирование",date_event_start:null,date_event_end:null,cost_real:null,sum_bud_fin:null,access_document:null,fin_vnebud_ist:null,is_nessesary:null,done:!1,doneExpert:!1,comment:"",commentExpert:"",parent:!0},{step:2.9999999,canDelete:!1,button:!0,button_name:"Добавить"},{canDelete:!1,step:3,id_event:null,step_name:"Проведение тендера и заключение договора на подготовку проектно-сметной документации.",date_event_start:null,date_event_end:null,cost_real:null,sum_bud_fin:null,file:null,access_document:null,fin_vnebud_ist:null,is_nessesary:null,done:!1,doneExpert:!1,comment:"",commentExpert:"",parent:!0},{canDelete:!1,step:3.1,id_event:null,step_name:"Внесение пользователем закупки на ПСД",help:"Сканированный план закупок пользователя",date_event_start:null,date_event_end:null,access_document:null,file:null,cost_real:null,sum_bud_fin:null,fin_vnebud_ist:null,is_nessesary:null,done:!1,doneExpert:!1,comment:"",commentExpert:"",parent:!1},{canDelete:!1,step:3.2,id_event:null,step_name:"Объявление пользователем аукциона на ПСД",date_event_start:null,date_event_end:null,cost_real:null,file:null,sum_bud_fin:null,access_document:null,fin_vnebud_ist:null,is_nessesary:null,done:!1,doneExpert:!1,comment:"",commentExpert:"",parent:!1},{canDelete:!1,step:3.3,id_event:null,step_name:"Определение подрядчика по результату аукциона",help:"Протокол результатов проведения аукциона ",date_event_start:null,date_event_end:null,cost_real:null,sum_bud_fin:null,fin_vnebud_ist:null,is_nessesary:null,done:!1,access_document:null,file:null,doneExpert:!1,comment:"",commentExpert:"",parent:!1},{canDelete:!1,step:3.4,id_event:null,step_name:"Заключение договора с подрядчиком",help:"Сканированный договор с подрядчиком",date_event_start:null,date_event_end:null,access_document:null,cost_real:null,sum_bud_fin:null,fin_vnebud_ist:null,is_nessesary:null,file:null,done:!1,doneExpert:!1,comment:"",commentExpert:"",parent:!1},{step:3.999999,canDelete:!1,button:!0,button_name:"Добавить"},{canDelete:!1,step:4,id_event:null,step_name:"Подготовка проектно-сметной документации.",help:"Сканированный акт сдачи-приемки выполненных проектных работ. Проектно-сметная документация",date_event_start:null,date_event_end:null,cost_real:null,sum_bud_fin:null,access_document:null,fin_vnebud_ist:null,is_nessesary:null,file:null,done:!1,doneExpert:!1,comment:"",commentExpert:"",parent:!0},{step:4.99999999999,canDelete:!1,button:!0,button_name:"Добавить"},{canDelete:!1,step:5,id_event:null,step_name:"Прохождение экспертизы проектно-сметной документации.",help:"Заключение экспертизы",date_event_start:null,date_event_end:null,cost_real:null,access_document:null,sum_bud_fin:null,fin_vnebud_ist:null,is_nessesary:null,done:!1,file:null,doneExpert:!1,comment:"",commentExpert:"",parent:!0},{step:5.999999999,canDelete:!1,button:!0,button_name:"Добавить"},{canDelete:!1,step:6,id_event:null,step_name:"Проведение тендера и заключение договора на выполнение строительно-монтажных работ.",date_event_start:null,date_event_end:null,cost_real:null,sum_bud_fin:null,fin_vnebud_ist:null,access_document:null,is_nessesary:null,done:!1,file:null,doneExpert:!1,comment:"",commentExpert:"",parent:!0},{canDelete:!1,step:6.1,id_event:null,step_name:"Внесение пользователем закупки на выполнение СМР в план закупок.",help:"Сканированный план закупок пользователя",date_event_start:null,date_event_end:null,access_document:null,file:null,cost_real:null,sum_bud_fin:null,fin_vnebud_ist:null,is_nessesary:null,done:!1,doneExpert:!1,comment:"",commentExpert:"",parent:!1},{canDelete:!1,step:6.2,id_event:null,step_name:"Объявление аукциона на СМР",date_event_start:null,date_event_end:null,cost_real:null,file:null,sum_bud_fin:null,access_document:null,fin_vnebud_ist:null,is_nessesary:null,done:!1,doneExpert:!1,comment:"",commentExpert:"",parent:!1},{canDelete:!1,step:6.3,id_event:null,step_name:"Определение подрядчика по результату аукциона",help:"Протокол результатов проведения аукциона ",date_event_start:null,date_event_end:null,cost_real:null,sum_bud_fin:null,fin_vnebud_ist:null,is_nessesary:null,done:!1,access_document:null,file:null,doneExpert:!1,comment:"",commentExpert:"",parent:!1},{canDelete:!1,step:6.4,id_event:null,step_name:"Заключение договора с подрядчиком",help:"Сканированный договор с подрядчиком",date_event_start:null,date_event_end:null,access_document:null,cost_real:null,sum_bud_fin:null,fin_vnebud_ist:null,is_nessesary:null,file:null,done:!1,doneExpert:!1,comment:"",commentExpert:"",parent:!1},{step:6.999999,canDelete:!1,button:!0,button_name:"Добавить"},{canDelete:!1,step:7,id_event:null,step_name:"Выполнение строительно-монтажных работ.",help:"Акт сдачи-приемки выполненных СМР. ",date_event_start:null,date_event_end:null,cost_real:null,sum_bud_fin:null,access_document:null,fin_vnebud_ist:null,is_nessesary:null,file:null,done:!1,doneExpert:!1,comment:"",commentExpert:"",parent:!0},{step:7.999999,canDelete:!1,button:!0,button_name:"Добавить"}],svedenia:{labels:["Проведение тендера и заключение договора на выполнение обследования","Выполнение обследования, подготовка и утверждение дефектного акта","Утверждение задания на проектирование","Проведение тендера и заключение договора на подготовку проектно-сметной документации","Подготовка проектно-сметной документации","Прохождение экспертизы проектно-сметной документации","Проведение тендера и заключение договора на выполнение строительно-монтажных работ","Выполнение строительно-монтажных работ"],items:[],fields:[{key:"index",label:"№"},{key:"step",label:"Этап"},{key:"is_nessesary",label:"Необходимость выполнения"},{key:"date_event_start",label:"Дата начала"},{key:"date_event_end",label:"Дата окончания"},{key:"cost_real",label:"Стоимость реализации (тыс.руб)"},{key:"sum_bud_fin",label:"Сумма бюджетного финансирования на проведение кап.ремонта (тыс.руб)"},{key:"fin_vnebud_ist",label:"Софинансирование из внебюджетных источников (тыс.руб)"}]},necessary:{labels:["Фундаменты","Отмостка","Стены ","Колонны","Перегородки","Крыша (покрытия)","Кровля","Перекрытия","Полы","Окна","Двери","Ворота","Лестницы","Крыльца","Балконы/лоджии","Внутренняя отделка","Наружная отделка","Система электроснабжения","Система водоснабжения","Система водоотведения","Система газоснабжения","Система кондиционирования воздуха","Система вентиляции","Система отопления","Система диспетчеризации","Радиофикация","Телевидение эфирное","Система видеонаблюдения","Система интернет и телефонии","Система контроля управления доступом","Пожарная сигнализация","Охранная сигнализация","Мусоропроводы","Лифты"],items:{one:[],two:[]},fields:{one:[{key:"element",label:"Строительные конструкции замена и (или) восстановление которых планируются при капитальном ремонте"},{key:"nalichie",label:"Наличие на объекте"},{key:"material",label:"Материал конструкции"},{key:"srok_eks",label:"Срок эксплуатации с момента строительства или предыдущего капитального ремонта"},{key:"kap_remont",label:"Требуется капитальный ремонт"},{key:"obosnovanie",label:"Обоснование необходимости"}],two:[{key:"element",label:"Строительные конструкции замена и (или) восстановление которых планируются при капитальном ремонте"},{key:"nalichie",label:"Наличие на объекте"},{key:"srok_eks",label:"Срок эксплуатации с момента строительства или предыдущего капитального ремонта"},{key:"kap_remont",label:"Требуется капитальный ремонт"},{key:"obosnovanie",label:"Обоснование необходимости"}]}},waited:{fields:[{key:"aim",label:"Цели и задачи"},{key:"plan",label:"Планируемый показатель"},{key:"changes",label:"Единица измерения"}],items:[]},risks:{fields:[{key:"types",label:"Виды рисков"},{key:"poison",label:"Отрицательные влияния"},{key:"protect",label:"Способы защиты"}],items:[]},sved2Href:[1.2,1.3,4.3,4.2,7.2,7.3],sved2Doc:[1.1,1.4,2,3,1.3,4.3,4.1,4.4,5,6,7.1,7.3,7.4,8]}},computed:Y({},Object(d.c)(["getUser"])),mounted:function(){var e=this;return W(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.obj_id=e.$route.params.id,t.next=3,e.requestUser();case 3:return t.next=5,e.getStatus();case 5:return t.next=7,e.getObject();case 7:return t.next=9,e.createChart();case 9:return e.permission=window.Permission,t.next=12,window.addEventListener("load",e.createChart);case 12:return t.next=14,window.addEventListener("resize",e.createChart);case 14:e.canChange="root"===window.Permission|window.canChange||!1;case 15:case"end":return t.stop()}}),t)})))()},methods:Y(Y({checkFOIV:function(){return!("faiv_admin"===this.permission||"faiv_user"===this.permission)},changeRealStatus:function(e){var t=this;return W(r.a.mark((function a(){var n;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(n=new FormData).append("value","real_status"),n.append("real_status",e),a.next=5,m.a.post("/program/object/set-value/".concat(t.items.id),n,{headers:{"X-CSRF-Token":t.csrf}}).then((function(e){e.data.success||e.data.errors.forEach((function(e){t.setBanner("danger",e)}))}));case 5:t.realStatus=e;case 6:case"end":return a.stop()}}),a)})))()},fileInput:function(e){var t=document.querySelector("#file_input_".concat(e));this.svedenia2[e].file=t.files[0]},debugItem:function(e,t,a){console.group("debugItem"+a),console.log(e),console.log(t),console.log(e.step+1),console.groupEnd()},setStatus:function(e){var t=this,a=new FormData;a.append("value","status"),a.append("status",e),m.a.post("/program/object/set-value/".concat(this.items.id),a,{headers:{"X-CSRF-Token":this.csrf}}).then((function(e){e.data.success||e.data.errors.forEach((function(e){t.setBanner("danger",e)}))}))},ObjectOpis:function(e){var t=this,a=new FormData;a.append("value","object_opis"),a.append("object_opis",this.items.object_opis),m.a.post("/program/object/set-value/".concat(this.items.id),a,{headers:{"X-CSRF-Token":this.csrf}}).then((function(e){e.data.success||e.data.errors.forEach((function(e){t.setBanner("danger",e)}))}))},setChart:function(){var e=this;return W(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],document.querySelectorAll(".chart-bars li").forEach((function(t,n){var r=e.svedenia.items[n],s=null;r&&r.date_event_start&&r.date_event_end&&(s=a[parseInt(r.date_event_start.split("-")[1])]+"-"+a[parseInt(r.date_event_end.split("-")[1])]);t.dataset.duration=s}));case 3:case"end":return t.stop()}}),t)})))()},createChart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"load",t=document.querySelectorAll(".chart-values li"),a=document.querySelectorAll(".chart-bars li"),n=V(t);a.forEach((function(t){var a=t.dataset.duration.split("-"),r=a[0],s=a[1],o=0,i=0;if(r&&r.length&&r.endsWith("½")){var l=n.filter((function(e){return e.textContent==r.slice(0,-1)}));o=l[0].offsetLeft+l[0].offsetWidth/2}else{var c=n.filter((function(e){return e.textContent==r}));c.length&&(o=c[0].offsetLeft)}if(s&&s.length&&s.endsWith("½")){var d=n.filter((function(e){return e.textContent==s.slice(0,-1)}));d&&(i=d[0].offsetLeft+d[0].offsetWidth/2-o)}else{var u=n.filter((function(e){return e.textContent==s}));u.length&&(i=u[0].offsetLeft+u[0].offsetWidth-o)}t.style.left="".concat(o-40,"px"),t.style.width="".concat(i,"px"),t.style.height="20px",e&&"load"===e&&(t.style.backgroundColor=t.dataset.color,t.style.opacity=1)}))}},Object(d.b)(["requestUser"])),{},{sendData:function(e){var t=new FormData;Object.keys(e).forEach((function(a){t.append(a,e[a])})),m.a.post("/program/object/send-event/".concat(this.obj_id),t,{headers:{"X-CSRF-Token":this.csrf}}).then((function(e){return console.log(e.data)}))},addRow:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.svedenia2.splice(e,0,{step:t||Math.round(1e3*(this.svedenia2[e-1].step+.01+Number.EPSILON))/1e3,id_event:null,step_name:"",date_event_start:null,date_event_end:null,cost_real:null,sum_bud_fin:null,access_document:null,fin_vnebud_ist:null,is_nessesary:null,done:!1,doneExpert:!1,comment:"",commentExpert:"",parent:!1,canDelete:!0}),this.sved2Doc.push(t||Math.round(1e3*(this.svedenia2[e-1].step+.01+Number.EPSILON))/1e3+1),this.sved2Href.push(t||Math.round(1e3*(this.svedenia2[e-1].step+.01+Number.EPSILON))/1e3+1)},deleteRow:function(e){this.svedenia2[e-1].canDelete&&this.svedenia2.splice(e-1,1)},actionHendler:function(e){e.preventDefault(),document.querySelector("#user_".concat(window.currentUser))||"dep"===window.Permission?window.location=e.target.href:this.setBanner("danger","Сначала добавте комментарий!")},setBanner:function(e,t){var a=this;this.bannerInfo.unshift({show:!0,variant:e,message:t}),setTimeout((function(){a.resetBanners()}),1500)},resetBanners:function(){this.bannerInfo.pop()},getEl:function(e,t){var a=null;return e.forEach((function(e){if(e.element==t)return a=e,!1})),a},getStatus:function(){var e=this;return W(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m.a.get("/api/get-status/".concat(e.obj_id)).then((function(t){e.status.label=t.data.label,e.realStatus=t.data.real_status;var a=t.data.dep_status;"not"==a?(e.dep_status.label="В обработке",e.dep_status.color="secondary"):"approved"==a?(e.dep_status.label="Рассмотрено ДЭП",e.dep_status.color="success"):"rejected"==a&&(e.dep_status.label="Резерв",e.dep_status.color="warning");var n=t.data.dku_status;"not"==n?(e.dku_status.label="В обработке",e.dku_status.color="secondary"):"approved"==n?(e.dku_status.label="Рассмотрено ДКУ",e.dku_status.color="success"):"rejected"==n&&(e.dku_status.label="Резерв",e.dku_status.color="warning"),2==t.data.id&&(e.show.dep=!0),"approved"==t.data.dep_status&&(e.show.dku=!0);var r="";1==t.data.id?r="secondary":2==t.data.id?r="success":3==t.data.id?r="danger":4==t.data.id&&(r="warning"),e.status.variant=r,e.real=2==t.data.id&&"approved"==a}));case 1:case"end":return t.stop()}}),t)})))()},isFloat:function(e){return!!(e%1)},getObject:function(){var e=this;return W(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.get("/api/get-object/".concat(e.obj_id)).then((function(t){e.fromServer=JSON.parse(t.data),e.items=e.fromServer.object,e.items.org_name=e.fromServer.organization.name,e.docs=e.fromServer.docs,e.org_id=JSON.parse(t.data).org_id;var a=0,n=0,r=0;console.log(e.fromServer),e.fromServer.svedenia.forEach((function(t,s){a+=Number(t.model.cost_real),t.model.done&&(e.s_bud_f+=parseFloat(t.model.cost_real)),n+=Number(t.model.sum_bud_fin),r+=Number(t.model.fin_vnebud_ist),e.svedenia2.forEach((function(e){e.step==t.model.step&&(e.id=t.model.id,e.date_event_start=t.model.date_event_start,e.date_event_end=t.model.date_event_end,e.cost_real=t.model.cost_real,e.access_document=t.model.access_document,e.sum_bud_fin=t.model.sum_bud_fin,e.fin_vnebud_ist=t.model.fin_vnebud_ist,e.id_event=t.model.id,e.done=1==t.model.done,t.file&&(e.file={name:t.file}),e.doneExpert=1==t.model.doneExpert,e.comment=t.model.comment,e.commentExpert=t.model.commentExpert)})),e.svedenia.items.push({index:s+1,step:e.svedenia.labels[s],is_nessesary:t.model.is_nessesary?"Да":"Нет",date_event_start:t.model.date_event_start,date_event_end:t.model.date_event_end,cost_real:t.model.cost_real,sum_bud_fin:t.model.sum_bud_fin,fin_vnebud_ist:t.model.fin_vnebud_ist})})),e.fromServer.svedenia2.sort((function(e,t){return e.model.step-t.model.step})),e.fromServer.svedenia2.forEach((function(t,s){a+=Number(t.model.cost_real),n+=Number(t.model.sum_bud_fin),r+=Number(t.model.fin_vnebud_ist),e.svedenia2.forEach((function(a){if(e.svedenia2.find((function(e){return e.step==t.model.step})))e.isFloat(a.step)&&a.step==t.model.step&&(a.id=t.model.id,a.date_event_start=t.model.date_event_start,a.date_event_end=t.model.date_event_end,a.cost_real=t.model.cost_real,a.sum_bud_fin=t.model.sum_bud_fin,a.fin_vnebud_ist=t.model.fin_vnebud_ist,a.id_event=t.model.id_event,a.done=1==t.model.done,a.access_document=t.model.access_document,a.doneExpert=1==t.model.doneExpert,t.file&&(a.file={name:t.file}),a.comment=t.model.comment,a.commentExpert=t.model.commentExpert);else{for(var n=-1,r=.01;-1===n;)n=e.svedenia2.map((function(e){return e.step})).indexOf(parseFloat(t.model.step)-r),r=Math.round(1e3*(r+.01+Number.EPSILON))/1e3;e.addRow(n,parseFloat(t.model.step));var s=e.svedenia2.find((function(e){return e.step==t.model.step}));s.id=t.model.id,s.step_name=t.model.step_name,s.date_event_start=t.model.date_event_start,s.date_event_end=t.model.date_event_end,s.cost_real=t.model.cost_real,s.sum_bud_fin=t.model.sum_bud_fin,s.fin_vnebud_ist=t.model.fin_vnebud_ist,s.id_event=t.model.id_event,s.done=1==t.model.done,s.access_document=t.model.access_document,s.doneExpert=1==t.model.doneExpert,t.file&&(s.file={name:t.file}),s.comment=t.model.comment,s.commentExpert=t.model.commentExpert}}))})),e.svedenia2.sort((function(e,t){return e.step-t.step})),e.svedenia.items.push({step:"Готово",cost_real:a.toFixed(3),sum_bud_fin:n.toFixed(3),fin_vnebud_ist:r.toFixed(3)}),e.necessary.labels.forEach((function(t,a){var n=e.getEl(e.fromServer.necessary,a);n?a<17?e.necessary.items.one.push({element:t,nalichie:"1"==n.nalichie?"Да":"Нет",material:"1"==n.nalichie?n.material:"",srok_eks:"1"==n.nalichie?n.srok_eks:"",kap_remont:"1"==n.nalichie?n.kap_remont?"Да":"Нет":"",obosnovanie:"1"==n.nalichie&&n.kap_remont?t.obosnovanie:""}):e.necessary.items.two.push({element:t,nalichie:"1"==n.nalichie?"Да":"Нет",srok_eks:"1"==n.nalichie?n.srok_eks:"",kap_remont:"1"==n.nalichie?n.kap_remont?"Да":"Нет":"",obosnovanie:"1"==n.nalichie&&n.kap_remont?n.obosnovanie:""}):a<17?e.necessary.items.one.push({element:t,nalichie:null,material:null,srok_eks:null,kap_remont:null,obosnovanie:null}):e.necessary.items.two.push({element:t,nalichie:null,srok_eks:null,kap_remont:null,obosnovanie:null})}));var s=e.getEl(e.fromServer.waited,0),o=e.getEl(e.fromServer.waited,1),i=e.getEl(e.fromServer.waited,2),l=e.getEl(e.fromServer.waited,3),c=e.getEl(e.fromServer.waited,4);e.waited.items.push({aim:"Проведение капитального ремонта, общая площадь",plan:null==s?void 0:s.plan,changes:"кв.м"},{aim:"Вовлечение в хозяйственную деятельность за счет проведенного капитального ремонта, общая площадь",plan:null==o?void 0:o.plan,changes:"кв.м"},{aim:"Снижение затрат на эксплуатацию",plan:"1"==(null==i?void 0:i.plan)?"Да":"Нет",changes:""},{aim:"Повышение энергоэффективности",plan:"1"==(null==l?void 0:l.plan)?"Да":"Нет",changes:""},{aim:"Восстановление (ремонт, реставрация, за исключением реконструкции) объектов культурного наследия",plan:"1"==(null==c?void 0:c.plan)?"Да":"Нет",changes:""});for(var d=5;d<e.fromServer.waited.length;d++){var u=e.fromServer.waited[d];e.waited.items.push({aim:u.aim,plan:u.plan,changes:u.changes})}e.fromServer.risks&&e.fromServer.risks.forEach((function(t){e.risks.items.push({types:t.types,poison:t.poison,protect:t.protect})}))}));case 2:return e.svedenia2.some((function(t){if(0==t.done&&t.date_event_end)return e.dateStatus=new Date(t.date_event_end).toLocaleDateString(),!0})),t.next=5,e.setChart();case 5:case"end":return t.stop()}}),t)})))()},getIznos:function(e){var t=parseInt(e);return 0===t?"Менее 20%":1===t?"От 20% до 50%":2===t?"От 50% до 70%":3===t?"От 70% до 90%":4===t?"Более 90%":void 0}})},te=(a("BNgB"),Object(l.a)(ee,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-breadcrumb",{directives:[{name:"can",rawName:"v-can:root,mgsu,dep",arg:"root,mgsu,dep"}],attrs:{items:[{text:"Список организаций",href:"/organization/list"},{text:"Список объектов",href:"/organization/list/"+e.org_id},{text:this.items.name}]}}),e._v(" "),a("b-breadcrumb",{directives:[{name:"can",rawName:"v-can:user",arg:"user"}],attrs:{items:[{text:"Главная",href:"/"},{text:"Программа модернизации",href:"/program/view"},{text:this.items.name}]}}),e._v(" "),a("h1",{staticClass:"mt-3"},[e._v(e._s(this.items.name))]),e._v(" "),a("div",[e.canChange?a("a",{staticClass:"btn btn-primary",attrs:{href:"/program/object/update/"+this.items.id}},[e._v("Редактировать ")]):e._e(),e._v(" "),this.real?a("a",{staticClass:"btn btn-success",attrs:{href:"/program/object/set-real/"+this.items.id}},[e._v("Приступить к реализации ")]):e._e()]),e._v(" "),5==this.items.status?a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-2"},[a("h5",[e._v("Текущий статус эксперта МОН: "),a("label",{class:"text-"+e.status.variant},[e._v(e._s(e.status.label))])])]),e._v(" "),a("div",{staticClass:"col-3"},[a("h5",[e._v("Текущий статус ДЭП: "),a("label",{class:"text-"+e.dep_status.color},[e._v(e._s(e.dep_status.label))])])]),e._v(" "),a("div",{staticClass:"col-2"},[a("h5",[e._v("\n                    Дата завершения текущего этапа:\n                    "),a("label",[e._v("\n                        "+e._s(e.dateStatus)+"\n                    ")])])]),e._v(" "),a("div",{staticClass:"col-2"},[a("h5",[e._v("\n                    Текущий статус:\n                    "),a("label",{class:"text-"+e.realStatusType[e.realStatus].variant},[e._v("\n                        "+e._s(e.realStatusType[e.realStatus].label)+"\n                    ")])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-3"},[a("b-dropdown",{directives:[{name:"can",rawName:"v-can:mgsu,root",arg:"mgsu,root"}],staticClass:"m-2",attrs:{right:"",text:"статус эксперта МОН",size:"xs",variant:"info"}},[a("b-dropdown-item",{attrs:{variant:"success"},on:{click:function(t){return e.setStatus(2)}}},[e._v("Рекомендуется к согласованию")]),e._v(" "),a("b-dropdown-item",{attrs:{variant:"danger"},on:{click:function(t){return e.setStatus(3)}}},[e._v("Не рекомендуется к согласованию")]),e._v(" "),a("b-dropdown-item",{attrs:{variant:"warning"},on:{click:function(t){return e.setStatus(4)}}},[e._v("На доработку")]),e._v(" "),a("b-dropdown-item",{attrs:{variant:"info"},on:{click:function(t){return e.setStatus(5)}}},[e._v("В реализации")])],1)],1),e._v(" "),a("div",{staticClass:"col-4"},[a("b-dropdown",{directives:[{name:"can",rawName:"v-can:dep,root",arg:"dep,root"}],staticClass:"m-2",attrs:{right:"",text:"статус ДЭП",variant:"info"}},[a("b-dropdown-item",{attrs:{href:"/api/set-status/approved/dep/"+e.obj_id,variant:"success"},on:{click:e.actionHendler}},[e._v("Рассмотрено ДЭП")]),e._v(" "),a("b-dropdown-item",{attrs:{href:"/api/set-status/rejected/dep/"+e.obj_id,variant:"warning"},on:{click:e.actionHendler}},[e._v("Резерв")])],1)],1),e._v(" "),a("div",{staticClass:"col-4"},[a("b-dropdown",{directives:[{name:"can",rawName:"v-can:root,dep",arg:"root,dep"}],staticClass:"m-2",attrs:{right:"",text:e.realStatusType[e.realStatus].label,variant:e.realStatusType[e.realStatus].variant}},e._l(e.realStatusType,(function(t,n){return a("b-dropdown-item",{key:n,attrs:{variant:t.variant,value:n},on:{click:function(t){return e.changeRealStatus(n)}}},[e._v(e._s(t.label))])})),1)],1)]),e._v(" "),a("label",{attrs:{for:"object_opis"}},[e._v("Краткое описание планируемых работ по объекту")]),e._v(" "),a("b-form-input",{directives:[{name:"can",rawName:"v-can:user,root",arg:"user,root"}],attrs:{id:"object_opis"},on:{input:e.ObjectOpis},model:{value:e.items.object_opis,callback:function(t){e.$set(e.items,"object_opis",t)},expression:"items.object_opis"}}),e._v(" "),a("span",{directives:[{name:"can",rawName:"v-can:root,mgsu",arg:"root,mgsu"}]},[e._v(e._s(e.items.object_opis))])],1):a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("h5",[e._v("Текущий статус эксперта МОН: "),a("label",{class:"text-"+e.status.variant},[e._v(e._s(e.status.label))])])]),e._v(" "),a("div",{staticClass:"col-6"},[a("h5",[e._v("Текущий статус ДЭП: "),a("label",{class:"text-"+e.dep_status.color},[e._v(e._s(e.dep_status.label))])])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-2"},[a("b-dropdown",{directives:[{name:"can",rawName:"v-can:mgsu,root",arg:"mgsu,root"}],staticClass:"m-2",attrs:{right:"",text:"статус эксперта МОН",variant:"info"}},[a("b-dropdown-item",{attrs:{variant:"success"},on:{click:function(t){return e.setStatus(2)}}},[e._v("Рекомендуется к согласованию")]),e._v(" "),a("b-dropdown-item",{attrs:{variant:"danger"},on:{click:function(t){return e.setStatus(3)}}},[e._v("Не рекомендуется к согласованию")]),e._v(" "),a("b-dropdown-item",{attrs:{variant:"warning"},on:{click:function(t){return e.setStatus(4)}}},[e._v("На доработку")]),e._v(" "),e.items.type?a("b-dropdown-item",{attrs:{variant:"info"},on:{click:function(t){return e.setStatus(5)}}},[e._v("В реализации")]):e._e()],1)],1),e._v(" "),a("div",{staticClass:"col-4"},[a("b-dropdown",{directives:[{name:"can",rawName:"v-can:dep,root",arg:"dep,root"}],staticClass:"m-2",attrs:{right:"",text:"статус ДЭП",variant:"info"}},[a("b-dropdown-item",{attrs:{href:"/api/set-status/approved/dep/"+e.obj_id,variant:"success"},on:{click:e.actionHendler}},[e._v("Рассмотрено ДЭП")]),e._v(" "),a("b-dropdown-item",{attrs:{href:"/api/set-status/rejected/dep/"+e.obj_id,variant:"warning"},on:{click:e.actionHendler}},[e._v("Резерв")])],1)],1)]),e._v(" "),a("v-comments",{attrs:{obj_id:e.obj_id}})],1),e._v(" "),a("div",{staticClass:"mt-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},e._l(e.bannerInfo,(function(t,n){return a("b-alert",{key:n,attrs:{show:t.show,variant:t.variant,dismissible:"",fade:""}},[e._v(e._s(t.message))])})),1)])]),e._v(" "),a("b-table-simple",{staticClass:"mt-3",attrs:{bordered:"",hover:""}},[a("b-tbody",[a("b-tr",[a("b-th",{staticClass:"center-text-in-cell"},[a("label",[e._v("ID")])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell"},[a("label",[e._v(e._s(this.items.id))])])],1),e._v(" "),a("b-tr",[a("b-th",{staticClass:"center-text-in-cell"},[a("label",[e._v("ID организации")])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell"},[a("label",[e._v(e._s(e.org_id))])])],1),e._v(" "),a("b-tr",[a("b-th",{staticClass:"center-text-in-cell"},[a("label",[e._v("Наименование организации")])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell"},[a("label",[e._v(e._s(this.items.org_name))])])],1),e._v(" "),a("b-tr",[a("b-th",{staticClass:"center-text-in-cell"},[a("label",[e._v("Наименование")])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell"},[a("label",[e._v(e._s(this.items.name))])])],1),e._v(" "),a("b-tr",[a("b-th",{staticClass:"center-text-in-cell"},[a("label",[e._v("Полный адрес объекта")])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell"},[a("label",[e._v(e._s(this.items.address))])])],1),e._v(" "),a("b-tr",[a("b-th",{staticClass:"center-text-in-cell"},[a("label",[e._v("Назначение")])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell"},[a("label",[e._v(e._s(this.items.assignment))])])],1),e._v(" "),a("b-tr",[a("b-th",{staticClass:"center-text-in-cell"},[a("label",[e._v("Общая площадь здания - всего, кв.м.")])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell"},[a("label",[e._v(e._s(this.items.square))])])],1),e._v(" "),a("b-tr",[a("b-th",{staticClass:"center-text-in-cell"},[a("label",[e._v("Год постройки здания")])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell"},[a("label",[e._v(e._s(this.items.year))])])],1),e._v(" "),a("b-tr",[a("b-th",{staticClass:"center-text-in-cell"},[a("label",[e._v("Износ")])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell"},[a("label",[e._v(e._s(e.getIznos(this.items.wear)))])])],1),e._v(" "),a("b-tr",[a("b-th",{staticClass:"center-text-in-cell"},[a("label",[e._v("Примечание")])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell"},[a("label",[e._v(e._s(this.items.note))])])],1)],1)],1),e._v(" "),5==this.items.status?a("div",[a("v-comments",{attrs:{obj_id:e.obj_id}}),e._v(" "),a("b-card",{staticClass:"mb-1 mt-2",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-s",modifiers:{"accordion-s":!0}}],staticClass:"toggle_button"},[a("b-icon-gear-wide-connected"),e._v("\n                            Согласованный график мероприятий\n                        ")],1)]),e._v(" "),a("b-collapse",{attrs:{id:"accordion-s",accordion:"my-accordion2",role:"tabpanel",visible:""}},[a("b-card-body",{staticStyle:{overflow:"auto"}},[a("div",{staticClass:"wraper-for-chart",staticStyle:{"overflow-x":"scroll"}},[a("div",{staticClass:"chart-wrapper"},[a("div",{staticClass:"charter1"}),e._v(" "),a("div",{staticClass:"charter2"}),e._v(" "),a("ul",{staticClass:"labels-for-chart"},[a("li",[e._v("Проведение тендера и заключение договора на выполнение обследования")]),e._v(" "),a("li",[e._v("Выполнение обследования, подготовка и утверждение дефектного акта (дефектной ведомости)")]),e._v(" "),a("li",[e._v("Утверждение задания на проектирование")]),e._v(" "),a("li",[e._v("Проведение тендера и заключение договора на подготовку проектно-сметной документации")]),e._v(" "),a("li",[e._v("Подготовка проектно-сметной документации")]),e._v(" "),a("li",[e._v("Прохождение экспертизы проектно-сметной документации")]),e._v(" "),a("li",[e._v("Проведение тендера и заключение договора на выполнение строительно-монтажных работ")]),e._v(" "),a("li",[e._v("Выполнение строительно-монтажных работ")])]),e._v(" "),a("ul",{staticClass:"chart-values"},[a("li",[e._v("январь")]),e._v(" "),a("li",[e._v("февраль")]),e._v(" "),a("li",[e._v("март")]),e._v(" "),a("li",[e._v("апрель")]),e._v(" "),a("li",[e._v("май")]),e._v(" "),a("li",[e._v("июнь")]),e._v(" "),a("li",[e._v("июль")]),e._v(" "),a("li",[e._v("август")]),e._v(" "),a("li",[e._v("сентябрь")]),e._v(" "),a("li",[e._v("октябрь")]),e._v(" "),a("li",[e._v("ноябрь")]),e._v(" "),a("li",[e._v("декабрь")])]),e._v(" "),a("ul",{staticClass:"chart-bars"},[a("li",{attrs:{"data-duration":"январь-февраль½","data-color":"#b03532"}}),e._v(" "),a("li",{attrs:{"data-duration":"февраль-июнь","data-color":"#33a8a5"}}),e._v(" "),a("li",{attrs:{"data-duration":"июнь-июль½","data-color":"#30997a"}}),e._v(" "),a("li",{attrs:{"data-duration":"июль½-август","data-color":"#6a478f"}}),e._v(" "),a("li",{attrs:{"data-duration":"август-октябрь","data-color":"#da6f2b"}}),e._v(" "),a("li",{attrs:{"data-duration":"октябрь-ноябрь","data-color":"#3d8bb1"}}),e._v(" "),a("li",{attrs:{"data-duration":"октябрь-декабрь½","data-color":"#e03f3f"}}),e._v(" "),a("li",{attrs:{"data-duration":"декабрь½-декабрь","data-color":"#59a627"}})])])])])],1)],1),e._v(" "),a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-real",modifiers:{"accordion-real":!0}}],staticClass:"toggle_button"},[a("b-icon-gear-wide-connected"),e._v("\n                            Реализация мероприятий")],1)]),e._v(" "),a("b-collapse",{attrs:{id:"accordion-real",accordion:"my-accordion2",role:"tabpanel"}},[a("b-card-body",[a("b-table-simple",{attrs:{bordered:"",small:""}},[a("b-thead",[a("b-th",[e._v("Показатель")]),e._v(" "),a("b-th",[e._v("Значение")])],1),e._v(" "),a("b-tbody",[a("b-tr",[a("b-td",[e._v("Утвержденное бюджетное финансирование работ по объекту")]),e._v(" "),a("b-td",[e._v(e._s(parseFloat(e.fromServer.program.finance_volume)))])],1),e._v(" "),a("b-tr",[a("b-td",[e._v("Сумма освоенных бюджетных средств")]),e._v(" "),a("b-td",[e._v(e._s(e.s_bud_f))])],1),e._v(" "),a("b-tr",[a("b-td",[e._v("Экономия бюджетных средств по объекту")]),e._v(" "),a("b-td",[e._v(e._s(parseFloat(e.fromServer.program.finance_volume)-e.s_bud_f))])],1)],1)],1)],1)],1)],1),e._v(" "),a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-plan",modifiers:{"accordion-plan":!0}}],staticClass:"toggle_button"},[a("b-icon-gear-wide-connected"),e._v("\n                            План-график мероприятий")],1)]),e._v(" "),a("b-collapse",{attrs:{id:"accordion-plan",accordion:"my-accordion2",role:"tabpanel"}},[a("b-card-body",[a("b-table-simple",{staticClass:"mt-3",staticStyle:{"min-height":"1000px"},attrs:{small:"","sticky-header":"",bordered:""}},[a("b-thead",[a("b-tr",[a("b-th"),e._v(" "),a("b-th",[e._v("Этап")]),e._v(" "),a("b-th",[e._v("Дата начала (план.)")]),e._v(" "),a("b-th",[e._v("Дата окончания (план.)")]),e._v(" "),a("b-th",[e._v("Фактическая Стоимость реализации (тыс.руб.)")]),e._v(" "),a("b-th",[e._v("Фактическая Сумма бюджетного финансирования на проведение капитального ремонта (тыс. руб.)")]),e._v(" "),a("b-th",[e._v("Фактическое Софинансирование из внебюджетных источников (тыс. руб.)")]),e._v(" "),a("b-th",[e._v("Отметка о завершении этапа ")]),e._v(" "),a("b-th",[e._v("Подтверждающие документы")]),e._v(" "),a("b-th",[e._v("Комментарий (текстовое поле Заполняет ВУЗ)")]),e._v(" "),a("b-th",[e._v("Отметка Эксперта МОН Принято / не принято")]),e._v(" "),a("b-th",[e._v("Комментарий эксперта МОН )")])],1)],1),e._v(" "),a("b-tbody",e._l(e.svedenia2,(function(t,n){return a("b-tr",{key:n,on:{change:function(a){return e.sendData(t)}}},[t.hasOwnProperty("button")&&t.button?e._e():a("b-td",[e._v("\n                                    "+e._s(t.step+1)+"\n                                ")]),e._v(" "),t.hasOwnProperty("button")&&t.button?e._e():a("b-td",[t.canDelete?a("b-form-input",{directives:[{name:"can",rawName:"v-can:user,root",arg:"user,root"}],model:{value:e.svedenia2[n].step_name,callback:function(t){e.$set(e.svedenia2[n],"step_name",t)},expression:"svedenia2[index].step_name"}}):a("span",[e._v(e._s(t.step_name))])],1),e._v(" "),t.hasOwnProperty("button")&&t.button?e._e():a("b-td",[a("b-form-input",{directives:[{name:"can",rawName:"v-can:user,root",arg:"user,root"}],attrs:{type:"date"},model:{value:e.svedenia2[n].date_event_start,callback:function(t){e.$set(e.svedenia2[n],"date_event_start",t)},expression:"svedenia2[index].date_event_start"}}),e._v(" "),a("span",{directives:[{name:"can",rawName:"v-can:mgsu,dep,dku,dku_user",arg:"mgsu,dep,dku,dku_user"}]},[e._v(e._s(t.date_event_start))])],1),e._v(" "),t.hasOwnProperty("button")&&t.button?e._e():a("b-td",[a("b-form-input",{directives:[{name:"can",rawName:"v-can:user,root",arg:"user,root"}],attrs:{type:"date"},model:{value:e.svedenia2[n].date_event_end,callback:function(t){e.$set(e.svedenia2[n],"date_event_end",t)},expression:"svedenia2[index].date_event_end"}}),e._v(" "),a("span",{directives:[{name:"can",rawName:"v-can:mgsu,dep,dku,dku_user",arg:"mgsu,dep,dku,dku_user"}]},[e._v(e._s(t.date_event_end))])],1),e._v(" "),t.hasOwnProperty("button")&&t.button?e._e():a("b-td",[a("b-form-input",{directives:[{name:"can",rawName:"v-can:user,root",arg:"user,root"}],attrs:{type:"number",step:".01"},model:{value:e.svedenia2[n].cost_real,callback:function(t){e.$set(e.svedenia2[n],"cost_real",t)},expression:"svedenia2[index].cost_real"}}),e._v(" "),a("span",{directives:[{name:"can",rawName:"v-can:mgsu,dep,dku,dku_user",arg:"mgsu,dep,dku,dku_user"}]},[e._v(e._s(t.cost_real))])],1),e._v(" "),t.hasOwnProperty("button")&&t.button?e._e():a("b-td",[a("b-form-input",{directives:[{name:"can",rawName:"v-can:user,root",arg:"user,root"}],attrs:{type:"number",step:".01"},model:{value:e.svedenia2[n].sum_bud_fin,callback:function(t){e.$set(e.svedenia2[n],"sum_bud_fin",t)},expression:"svedenia2[index].sum_bud_fin"}}),e._v(" "),a("span",{directives:[{name:"can",rawName:"v-can:mgsu,dep,dku,dku_user",arg:"mgsu,dep,dku,dku_user"}]},[e._v(e._s(t.sum_bud_fin))])],1),e._v(" "),t.hasOwnProperty("button")&&t.button?e._e():a("b-td",[a("b-form-input",{directives:[{name:"can",rawName:"v-can:user,root",arg:"user,root"}],attrs:{type:"number",step:".01"},model:{value:e.svedenia2[n].fin_vnebud_ist,callback:function(t){e.$set(e.svedenia2[n],"fin_vnebud_ist",t)},expression:"svedenia2[index].fin_vnebud_ist"}}),e._v(" "),a("span",{directives:[{name:"can",rawName:"v-can:mgsu,dep,dku,dku_user",arg:"mgsu,dep,dku,dku_user"}]},[e._v(e._s(t.fin_vnebud_ist))])],1),e._v(" "),t.hasOwnProperty("button")&&t.button?e._e():a("b-td",[a("b-form-checkbox",{directives:[{name:"can",rawName:"v-can:user,root",arg:"user,root"}],model:{value:e.svedenia2[n].done,callback:function(t){e.$set(e.svedenia2[n],"done",t)},expression:"svedenia2[index].done"}}),e._v(" "),a("span",{directives:[{name:"can",rawName:"v-can:mgsu,dep,dku,dku_user",arg:"mgsu,dep,dku,dku_user"}]},[e._v(e._s(t.done?"Да":"Нет"))])],1),e._v(" "),t.hasOwnProperty("button")&&t.button?e._e():a("b-td",[e._v("\n                                    "+e._s(t.help)+"\n                                    "),e.sved2Href.includes(t.step+1)?a("b-form-input",{directives:[{name:"can",rawName:"v-can:user,root",arg:"user,root"}],attrs:{placeholder:"Ссылка на zakupki.gov.ru"},model:{value:e.svedenia2[n].access_document,callback:function(t){e.$set(e.svedenia2[n],"access_document",t)},expression:"svedenia2[index].access_document"}}):e._e(),e._v(" "),e.sved2Doc.includes(t.step+1)?a("div",{directives:[{name:"can",rawName:"v-can:user,root",arg:"user,root"}],staticClass:"fileInput"},[a("div",{staticClass:"cell-center-for-items"},[a("input",{staticClass:"hidden-file-input",attrs:{type:"file",id:"file_input_"+n},on:{change:function(t){return e.fileInput(n)}}}),e._v(" "),a("div",{staticClass:"arrow"},[a("label",{staticClass:"label",attrs:{for:"file_input_"+n}},[a("span",{staticClass:"title"},[a("span",{staticClass:"scope-to-animate"}),e._v(" "),a("span",{staticClass:"scope-to-animate"}),e._v(" "),a("span",{staticClass:"scope-to-animate"}),e._v(" "),a("span",{staticClass:"scope-to-animate"})])])])])]):e._e(),e._v(" "),e.svedenia2[n].file?a("div",[a("a",{attrs:{href:"/program/event/download/"+t.id}},[e._v(e._s(e.svedenia2[n].file.name))])]):e._e(),e._v(" "),e.svedenia2[n].access_document&&"null"!=e.svedenia2[n].access_document?a("a",{directives:[{name:"can",rawName:"v-can:mgsu,dep,dku,dku_user",arg:"mgsu,dep,dku,dku_user"}],attrs:{href:e.svedenia2[n].access_document}},[e._v(e._s(e.svedenia2[n].access_document))]):e._e()],1),e._v(" "),t.hasOwnProperty("button")&&t.button?e._e():a("b-td",[a("b-form-input",{directives:[{name:"can",rawName:"v-can:user,root",arg:"user,root"}],model:{value:e.svedenia2[n].comment,callback:function(t){e.$set(e.svedenia2[n],"comment",t)},expression:"svedenia2[index].comment"}}),e._v(" "),a("span",{directives:[{name:"can",rawName:"v-can:mgsu,dep,dku,dku_user",arg:"mgsu,dep,dku,dku_user"}]},[e._v(e._s(t.comment))])],1),e._v(" "),t.hasOwnProperty("button")&&t.button?e._e():a("b-td",[a("b-form-checkbox",{directives:[{name:"can",rawName:"v-can:root,mgsu,dep",arg:"root,mgsu,dep"}],model:{value:e.svedenia2[n].doneExpert,callback:function(t){e.$set(e.svedenia2[n],"doneExpert",t)},expression:"svedenia2[index].doneExpert"}}),e._v(" "),a("span",{directives:[{name:"can",rawName:"v-can:user",arg:"user"}]},[e._v("\n                                        "+e._s(t.doneExpert?"Да":"Нет")+"\n                                    ")])],1),e._v(" "),t.hasOwnProperty("button")&&t.button?a("div",{directives:[{name:"can",rawName:"v-can:user,root",arg:"user,root"}]},[a("b-td",[a("b-button",{attrs:{variant:"danger"},on:{click:function(t){return e.deleteRow(n)}}},[e._v("Удалить")])],1),e._v(" "),a("b-td",[a("b-button",{attrs:{variant:"info"},on:{click:function(t){return e.addRow(n)}}},[e._v("Добавить")])],1)],1):a("b-td",[a("b-form-input",{directives:[{name:"can",rawName:"v-can:root,mgsu,dep",arg:"root,mgsu,dep"}],model:{value:e.svedenia2[n].commentExpert,callback:function(t){e.$set(e.svedenia2[n],"commentExpert",t)},expression:"svedenia2[index].commentExpert"}}),e._v(" "),a("span",{directives:[{name:"can",rawName:"v-can:user",arg:"user"}]},[e._v("\n                                        "+e._s(t.commentExpert)+"\n                                    ")])],1)],1)})),1)],1)],1)],1)],1),e._v(" "),a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-archive",modifiers:{"accordion-archive":!0}}],staticClass:"toggle_button"},[a("b-icon-gear-wide-connected"),e._v("\n                            Архив\n                        ")],1)]),e._v(" "),a("b-collapse",{attrs:{id:"accordion-archive",accordion:"my-accordion2",role:"tabpanel"}},[a("b-card-body",[a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-2a",modifiers:{"accordion-2a":!0}}],staticClass:"toggle_button"},[a("b-icon-gear-wide-connected"),e._v("\n                            Сведения о планируемых мероприятиях")],1)]),e._v(" "),a("b-collapse",{attrs:{id:"accordion-2a",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("b-table",{attrs:{bordered:"",fields:e.svedenia.fields,items:e.svedenia.items}})],1)],1)],1),e._v(" "),e.checkFOIV()?a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-3a",modifiers:{"accordion-3a":!0}}],staticClass:"toggle_button"},[a("b-icon-gear-wide-connected"),e._v("\n                            Обоснование необходимости (целесообразности) планируемых мероприятий")],1)]),e._v(" "),a("b-collapse",{attrs:{id:"accordion-3a",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("b-table",{attrs:{bordered:"",fields:e.necessary.fields.one,items:e.necessary.items.one}}),e._v(" "),a("b-table",{attrs:{bordered:"",fields:e.necessary.fields.two,items:e.necessary.items.two}})],1)],1)],1):e._e(),e._v(" "),e.checkFOIV()?a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-4a",modifiers:{"accordion-4a":!0}}],staticClass:"toggle_button"},[a("b-icon-gear-wide-connected"),e._v("\n                            Ожидаемые результаты")],1)]),e._v(" "),a("b-collapse",{attrs:{id:"accordion-4a",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("b-table",{attrs:{bordered:"",fields:e.waited.fields,items:e.waited.items}})],1)],1)],1):e._e(),e._v(" "),e.checkFOIV()?a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-5a",modifiers:{"accordion-5a":!0}}],staticClass:"toggle_button"},[a("b-icon-gear-wide-connected"),e._v("\n                            Прогнозируемые риски")],1)]),e._v(" "),a("b-collapse",{attrs:{id:"accordion-5a",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("b-table",{attrs:{bordered:"",fields:e.risks.fields,items:e.risks.items}})],1)],1)],1):e._e(),e._v(" "),e.checkFOIV()?a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",[a("b-icon",{staticClass:"mr-2 ml-1",attrs:{icon:"document-text",scale:"1.5"}}),e._v("Загруженные документы")],1)]),e._v(" "),a("b-card-body",[e.docs.length?a("div",[a("table",{staticClass:"table table-bordered"},[a("thead",[a("tr",[a("th",[e._v("Наименование")]),e._v(" "),a("th",[e._v("Файл")])])]),e._v(" "),e._l(e.docs,(function(t,n){return a("tr",{key:n},[a("td",[e._v(e._s(t.label))]),e._v(" "),a("td",[a("a",{attrs:{href:"/program/object/download-doc/"+e.obj_id+"?id="+t.id}},[e._v(e._s(t.name)+".pdf")])])])}))],2),e._v(" "),a("a",{staticClass:"btn btn-danger",attrs:{target:"_blank",href:"/program/object/zip/"+e.obj_id}},[e._v("Скачать архивом")])]):a("div",[a("label",[e._v("Документы отсутствуют")])])])],1):e._e()],1)],1)],1)],1):a("div",[a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-2b",modifiers:{"accordion-2b":!0}}],staticClass:"toggle_button"},[a("b-icon-gear-wide-connected"),e._v("\n                            Сведения о планируемых мероприятиях")],1)]),e._v(" "),a("b-collapse",{attrs:{id:"accordion-2b",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("b-table",{attrs:{bordered:"",fields:e.svedenia.fields,items:e.svedenia.items}})],1)],1)],1),e._v(" "),e.checkFOIV()?a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-3b",modifiers:{"accordion-3b":!0}}],staticClass:"toggle_button"},[a("b-icon-gear-wide-connected"),e._v("\n                            Обоснование необходимости (целесообразности) планируемых мероприятий")],1)]),e._v(" "),a("b-collapse",{attrs:{id:"accordion-3b",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("b-table",{attrs:{bordered:"",fields:e.necessary.fields.one,items:e.necessary.items.one}}),e._v(" "),a("b-table",{attrs:{bordered:"",fields:e.necessary.fields.two,items:e.necessary.items.two}})],1)],1)],1):e._e(),e._v(" "),e.checkFOIV()?a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-4b",modifiers:{"accordion-4b":!0}}],staticClass:"toggle_button"},[a("b-icon-gear-wide-connected"),e._v("\n                            Ожидаемые результаты")],1)]),e._v(" "),a("b-collapse",{attrs:{id:"accordion-4b",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("b-table",{attrs:{bordered:"",fields:e.waited.fields,items:e.waited.items}})],1)],1)],1):e._e(),e._v(" "),e.checkFOIV()?a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-5b",modifiers:{"accordion-5b":!0}}],staticClass:"toggle_button"},[a("b-icon-gear-wide-connected"),e._v("\n                            Прогнозируемые риски")],1)]),e._v(" "),a("b-collapse",{attrs:{id:"accordion-5b",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("b-table",{attrs:{bordered:"",fields:e.risks.fields,items:e.risks.items}})],1)],1)],1):e._e(),e._v(" "),e.checkFOIV()?a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",[a("b-icon",{staticClass:"mr-2 ml-1",attrs:{icon:"document-text",scale:"1.5"}}),e._v("Загруженные документы")],1)]),e._v(" "),a("b-card-body",[e.docs.length?a("div",[a("table",{staticClass:"table table-bordered"},[a("thead",[a("tr",[a("th",[e._v("Наименование")]),e._v(" "),a("th",[e._v("Файл")])])]),e._v(" "),e._l(e.docs,(function(t,n){return a("tr",{key:n},[a("td",[e._v(e._s(t.label))]),e._v(" "),a("td",[a("a",{attrs:{href:"/program/object/download-doc/"+e.obj_id+"?id="+t.id}},[e._v(e._s(t.name)+".pdf")])])])}))],2),e._v(" "),a("a",{staticClass:"btn btn-danger",attrs:{target:"_blank",href:"/program/object/zip/"+e.obj_id}},[e._v("Скачать архивом")])]):a("div",[a("label",[e._v("Документы отсутствуют")])])])],1):e._e()],1)],1)}),[],!1,null,null,null).exports),ae=a("zMAm"),ne=a("XhI9");function re(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function se(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){re(s,n,r,o,i,"next",e)}function i(e){re(s,n,r,o,i,"throw",e)}o(void 0)}))}}var oe={directives:{"b-toggle":p.e},components:{BButton:f.a,BInputGroupAppend:ae.a,BFormInput:g.a,BInputGroup:ne.a,BCardBody:F.a,BCollapse:A.a,BTableSimple:h.a,BTbody:x.a,BTr:k.a,BTh:w.a,BPagination:N.a,BThead:y.a,BCard:E.a,BCardHeader:S.a},data:function(){return{csrf:document.getElementsByName("csrf-token")[0].content,filters:{id:null,username:null},users:[],showInfo:!1}},mounted:function(){var e=this;return se(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTable();case 2:case"end":return t.stop()}}),t)})))()},methods:{showInfo:function(){var e=document.querySelector("#table"),t=document.querySelector("#info");e.classList.remove("col-12"),e.classList.add("col-6"),t.classList.add("col-6"),this.showInfo=!0},getTable:function(){var e=arguments,t=this;return se(r.a.mark((function a(){var n,s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:0,(s=new FormData).append("filters",JSON.stringify(t.filters)),a.abrupt("return",m.a.post("/faiv-admin/get/users/".concat(n),s,{headers:{"X-CSRF-Token":t.csrf}}).then((function(e){t.users=e.data})));case 4:case"end":return a.stop()}}),a)})))()}},watch:{filters:{handler:function(){this.getTable()},deep:!0}}},ie=(a("MEjd"),Object(l.a)(oe,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-3",modifiers:{"accordion-3":!0}}],staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",{staticClass:"toggle_button"},[a("b-icon",{staticClass:"mr-2 ml-1",attrs:{icon:"filter",scale:"1.5"}}),e._v("\n                Фильтры")],1)]),e._v(" "),a("b-collapse",{attrs:{id:"accordion-3",accordion:"my-accordion",role:"tabpanel",visible:""}},[a("b-card-body",[a("div",[a("b-input-group",{staticClass:"mb-2",attrs:{prepend:"ID"}},[a("b-form-input",{attrs:{type:"number","aria-label":"First name"},model:{value:e.filters.id,callback:function(t){e.$set(e.filters,"id",t)},expression:"filters.id"}}),e._v(" "),a("b-input-group-append",[a("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){e.filters.id=null}}},[a("b-icon",{attrs:{icon:"backspace",variant:"danger",scale:"1.2"}})],1)],1)],1),e._v(" "),a("b-input-group",{staticClass:"mb-2",attrs:{prepend:"username"}},[a("b-form-input",{attrs:{"aria-label":"First name"},model:{value:e.filters.username,callback:function(t){e.$set(e.filters,"username",t)},expression:"filters.username"}}),e._v(" "),a("b-input-group-append",[a("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){e.filters.username=null}}},[a("b-icon",{attrs:{icon:"backspace",variant:"danger",scale:"1.2"}})],1)],1)],1)],1)])],1)],1),e._v(" "),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-12",attrs:{id:"table"}},[a("b-table-simple",{attrs:{bordered:"",hover:""}},[a("b-thead",[a("b-tr",[a("b-th",[e._v("ID")]),e._v(" "),a("b-th",[e._v("Username")]),e._v(" "),a("b-th",[e._v("Организация")])],1)],1),e._v(" "),a("b-tbody",e._l(e.users,(function(t,n){return a("b-tr",{key:n,on:{click:function(t){return e.showInfo()}}},[a("b-th",[a("label",[e._v(e._s(t.id))])]),e._v(" "),a("b-th",[a("label",[e._v(e._s(t.username))])]),e._v(" "),a("b-th",[a("label",[e._v(e._s(t.org))])])],1)})),1),e._v(" "),a("b-tfoot")],1)],1),e._v(" "),e.showInfo?a("div",{staticClass:"col-6",attrs:{id:"info"}},[a("b-card",{attrs:{title:"Card title","sub-title":"Card subtitle"},scopedSlots:e._u([{key:"footer",fn:function(){return[a("b-icon",{staticClass:"icon-hover",attrs:{icon:"chevron-bar-right",scale:"1.5"}})]},proxy:!0}],null,!1,203540592)},[a("b-card-text",[e._v("\n                Some quick example text to build on the "),a("em",[e._v("card title")]),e._v(" and make up the bulk of the card's\n                content.\n            ")]),e._v(" "),e._v(" "),a("a",{staticClass:"card-link",attrs:{href:"#"}},[e._v("Card link")]),e._v(" "),a("b-link",{staticClass:"card-link",attrs:{href:"#"}},[e._v("Another link")])],1)],1):e._e()])],1)}),[],!1,null,null,null).exports),le=a("1uQM");function ce(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(Object(a),!0).forEach((function(t){me(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function me(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var be={directives:{"b-toggle":p.e},components:{BTbody:x.a,BTd:J.a,BTfoot:C.a,BTh:w.a,BThead:y.a,BTr:k.a,BTableSimple:h.a,BAlert:U.a,BCard:E.a,BCardHeader:S.a,BCardBody:F.a,BButton:f.a,BPagination:N.a,BTable:H.a,BCardText:le.a,"v-user-panel":I.d},data:function(){return{bannerInfo:[],id_org:null,csrf:document.getElementsByName("csrf-token")[0].content,items:null}},methods:ue(ue({getTypeRemont:function(e){return"0"==e?"Комплексный":"Выборочный"},getIznos:function(e){var t=parseInt(e);return 0===t?"Менее 20%":1===t?"От 20% до 50%":2===t?"От 50% до 70%":3===t?"От 70% до 90%":4===t?"Более 90%":void 0},getType:function(e){return"1"==e?"Резервный":"Приоритетный"},getObjs:function(){var e=this;return m.a.post("/api/get/program-objects/realized/".concat(this.id_org),null,{headers:{"X-CSRF-Token":this.csrf}}).then((function(t){e.items=t.data,console.log(e.items)}))}},Object(d.b)(["requestPageData","requestUser"])),{},{onRowClick:function(e){e.id&&(window.location.href="/program/object/view/".concat(e.id))},rowCount:function(e){var t,a;return"resTable"===e&&(null===(t=this.reservedObjects)||void 0===t?void 0:t.items)?this.reservedObjects.items.length>this.resTable.perPage:!("prevTable"!==e||!(null===(a=this.priorityObjects)||void 0===a?void 0:a.items))&&this.priorityObjects.items.length>this.prevTable.perPage},checkExt:function(e){return"application/pdf"===e||(this.setBanner("danger","Файл не является документом pdf!"),!1)},setBanner:function(e,t){var a=this;this.bannerInfo.unshift({show:!0,variant:e,message:t}),setTimeout((function(){a.bannerInfo.pop()}),1400)},errorReport:function(e){this.$bvModal.msgBoxOk(e,{title:"Ошибка!",size:"sm",buttonSize:"sm",okVariant:"outline-success",headerClass:"p-2 border-bottom-0",footerClass:"p-2 border-top-0",centered:!0})}}),mounted:function(){var e,t=this;return(e=r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.requestPageData({pageName:"programView"}),e.next=3,t.requestUser();case 3:return t.id_org=t.getUser.organization.id,e.next=6,t.getObjs();case 6:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){ce(s,n,r,o,i,"next",e)}function i(e){ce(s,n,r,o,i,"throw",e)}o(void 0)}))})()},computed:ue(ue({},Object(d.c)(["getUser","getPageData"])),{},{objects:function(){return this.getPageData&&this.getPageData.objects},fieldsObjects:function(){return this.getPageData&&this.getPageData.fieldsObjects},priorityObjects:function(){return this.getPageData&&this.getPageData.priorityObjects},reservedObjects:function(){return this.getPageData&&this.getPageData.reservedObjects},target:function(){return this.getPageData&&this.getPageData.target},rowsPrev:function(){return this.getPageData.priorityObjects&&this.getPageData.priorityObjects.items.length},resPrev:function(){return this.getPageData.reservedObjects&&this.getPageData.reservedObjects.items.length}})},ve=(a("teP7"),a("qrIc"),Object(l.a)(be,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"dev_programme"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("b-table",{attrs:{fields:[{key:"id",label:"№"},{key:"label",label:"Показатель"},{key:"value",label:"Значение"}],items:[{id:"1",label:"Полное наименование организации",value:e.getUser&&e.getUser.organization&&e.getUser.organization.name},{id:"2",label:"Сокращенное наименование организации",value:e.getUser&&e.getUser.organization&&e.getUser.organization.short_name}],small:"",bordered:""}})],1),e._v(" "),a("div",{staticClass:"col-4 offset-2"},[a("v-user-panel")],1)]),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"row"},[a("b-card",{attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",[a("b-icon-gear-wide-connected"),e._v("Объекты в стадии реализации")],1)]),e._v(" "),a("b-card-body",[a("b-table-simple",{attrs:{bordered:"",hover:""}},[a("b-thead",[a("b-tr",[a("b-th",[e._v("№")]),e._v(" "),a("b-th",[e._v("Тип")]),e._v(" "),a("b-th",[e._v("Приоритет")]),e._v(" "),a("b-th",[e._v("Субъект РФ")]),e._v(" "),a("b-th",[e._v("Наименование объекта, требующего кап. ремонт")]),e._v(" "),a("b-th",[e._v("Назначение")]),e._v(" "),a("b-th",[e._v("Площадь кап. ремонта (кв.м)")]),e._v(" "),a("b-th",[e._v("Адрес объекта")]),e._v(" "),a("b-th",[e._v("Год постройки")]),e._v(" "),a("b-th",[e._v("Износ здания (%)")]),e._v(" "),a("b-th",[e._v("Предписание надзорных органов: МЧС, Роспотребнадзор и т.д. (при наличии)")]),e._v(" "),a("b-th",[e._v("Вид планируемого мероприятия")]),e._v(" "),a("b-th",[e._v("Сумма бюджетного финансирования на проведение кап.ремонта (тыс. руб)")]),e._v(" "),a("b-th",[e._v("Софинансирование из внебюджетных источников (тыс. руб)")]),e._v(" "),a("b-th",[e._v("Примечание")])],1)],1),e._v(" "),a("b-tbody",e._l(e.items,(function(t,n){return a("b-tr",{key:n,on:{click:function(a){return e.onRowClick(t)}}},[a("b-th",{staticClass:"normal-text-for-cell"},[e._v(e._s(t.id))]),e._v(" "),a("b-th",{staticClass:"normal-text-for-cell"},[e._v(e._s(e.getType(t.type)))]),e._v(" "),a("b-th",{staticClass:"normal-text-for-cell"},[e._v(e._s(t.id_priority))]),e._v(" "),a("b-th",{staticClass:"normal-text-for-cell"},[e._v(e._s(t.region))]),e._v(" "),a("b-th",{staticClass:"normal-text-for-cell"},[e._v(e._s(t.name))]),e._v(" "),a("b-th",{staticClass:"normal-text-for-cell"},[e._v(e._s(t.assignment))]),e._v(" "),a("b-th",{staticClass:"normal-text-for-cell"},[e._v(e._s(t.square))]),e._v(" "),a("b-th",{staticClass:"normal-text-for-cell"},[e._v(e._s(t.address))]),e._v(" "),a("b-th",{staticClass:"normal-text-for-cell"},[e._v(e._s(t.year))]),e._v(" "),a("b-th",{staticClass:"normal-text-for-cell"},[e._v(e._s(e.getIznos(t.wear)))]),e._v(" "),a("b-th",{staticClass:"normal-text-for-cell"},[e._v(e._s(t.podrobnosti))]),e._v(" "),a("b-th",{staticClass:"normal-text-for-cell"},[e._v(e._s(e.getTypeRemont(t.type_remont)))]),e._v(" "),a("b-th",{staticClass:"normal-text-for-cell"},[e._v(e._s(t.finance))]),e._v(" "),a("b-th",{staticClass:"normal-text-for-cell"},[e._v(e._s(t.coFinanse))]),e._v(" "),a("b-th",{staticClass:"normal-text-for-cell"},[e._v(e._s(t.note))])],1)})),1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"mt-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},e._l(e.bannerInfo,(function(t,n){return a("b-alert",{key:n,attrs:{show:t.show,variant:t.variant,dismissible:"",fade:""}},[e._v(e._s(t.message))])})),1)])])])}),[],!1,null,"37cc2887",null).exports);o.a.use(v.a);var pe=[{path:"/",component:a("crl5").default},{path:"/program",component:a("crl5").default},{path:"/program/view",component:a("26q3").default},{path:"/program/org",component:ve},{path:"/program/object/create",component:a("AYgK").default},{path:"/program/object/update/:id",component:a("AYgK").default},{path:"/organization/info",name:"orgInfo",component:a("Zz9v").default},{path:"/error/browser",name:"error",component:a("wxK1").default},{path:"/error/status907",name:"error907",component:a("cNRs").default},{path:"/program/atz",name:"atz",component:D},{path:"/organization/list",name:"MainCheck",component:a("za17").default},{path:"/organization/list/:id",name:"ObjList",component:q},{path:"/organization/obj/:id",name:"ObjView",component:te},{path:"/program/object/view/:id",name:"ObjView",component:te},{path:"/organization/user-info/:id_org",name:"user-info",component:a("khDq").default},{path:"/admin/faiv",name:ie,component:ie}],fe=new v.a({mode:"history",routes:pe}),_e=a("+qwt"),ge=a.n(_e),he=a("275+"),ye=a("seCU");function ke(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function we(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){ke(s,n,r,o,i,"next",e)}function i(e){ke(s,n,r,o,i,"throw",e)}o(void 0)}))}}o.a.use(he.a),o.a.use(ye.a),o.a.directive("can",{bind:function(e,t,a){var n=t.arg.split(",");setTimeout((function(){if(!n.includes(window.Permission)&&(e.style.display="none",e.childNodes.innerHTML="",a.elm.parentElement.removeChild(a.elm),a.child)){var t=document.getElementById(a.child.controlledBy);t&&t.parentElement.removeChild(t)}}),1)}});var xe=[{name:"Chrome",version:79},{name:"Opera",version:66},{name:"Microsoft Edge",version:0},{name:"Safari",version:11},{name:"Firefox",version:75}];function Ce(){return(Ce=we(r.a.mark((function e(){var t,a,n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,a=m.a.post("/rest/system/get-user").then((function(e){t=e.data})).catch((function(e){console.error(e)})),e.next=4,a;case 4:if(e.sent,n=null,!t.organization){e.next=12;break}return s=m.a.get("/program/is-approve/".concat(t.organization.id)).then((function(e){n="0"==e.data.status907})),e.next=10,s;case 10:return e.sent,e.abrupt("return",n);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}fe.beforeEach((function(e,t,a){if("/error/browser"!==e.path){var n=!1;xe.forEach((function(e){if(e.name===ge.a.name&&ge.a.hasOwnProperty("version")){var t=ge.a.version.split(".")[0];n=t>=e.version}})),n||a({name:"error"})}if("/error/status907"!==e.path&&"/login"!==e.path){(function(){return Ce.apply(this,arguments)})().then((function(e){e||a({name:"error907"})}))}a()})),new o.a({render:function(e){return e(c)},store:b,router:fe}).$mount("#app")},WlQO:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.font-normal-first-colomn {\r\n    font-weight: normal !important;\n}\r\n",""])},XILE:function(e,t,a){"use strict";var n=a("R6BJ");a.n(n).a},ZDVc:function(e,t,a){"use strict";var n=a("J6fC");a.n(n).a},Zjs1:function(e,t,a){var n=a("2Mqq");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},Zz9v:function(e,t,a){"use strict";a.r(t);var n=a("L2JU"),r=a("41Hj"),s=a("Obrr"),o=a("GUe+"),i=a("KaE5");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var u={directives:{"b-toggle":s.e},components:{"b-button":o.a,"b-table":i.a,userPanel:r.d},data:function(){return{canChange:window.canChange}},computed:c({},Object(n.c)(["getPageData","getUser"])),methods:c({link:function(){return window.location.href="/organization/update/".concat(this.getUser.organization.id)}},Object(n.b)(["requestPageData"])),mounted:function(){this.requestPageData({pageName:"orgInfo"})}},m=a("KHd+"),b=Object(m.a)(u,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"org_info"}},[t("div",{staticClass:"container"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-6"},[t("b-table",{staticClass:"text-center",attrs:{small:"",bordered:"",fields:this.getPageData.fields,items:this.getPageData.items}}),this._v(" "),t("b-button",{directives:[{name:"can",rawName:"v-can:user",arg:"user"},{name:"show",rawName:"v-show",value:this.canChange,expression:"canChange"}],attrs:{variant:"info"},on:{click:this.link}},[this._v(" Редактировать ")])],1),this._v(" "),t("div",{staticClass:"col-3 offset-3"},[t("user-panel")],1)])])])}),[],!1,null,"7047af78",null);t.default=b.exports},aFWa:function(e,t,a){var n=a("JWno");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},bpk3:function(e,t,a){"use strict";var n=a("MAdp");a.n(n).a},cNRs:function(e,t,a){"use strict";a.r(t);var n={components:{BModal:a("aqyy").a},mounted:function(){this.$bvModal.msgBoxOk("Уважаемые коллеги! \nВ соответствии с распоряжением Правительства Российской Федерации от 6 апреля 2020 г. № 907-р  педагогические вузы исключены из перечня организаций, подведомственных Министерству науки и высшего образования Российской Федерации и включены в перечень организаций, подведомственных Министерству просвещения Российской Федерации. В связи с чем продолжение реализации программ модернизации инфраструктуры, а также их финансирование не представляется возможным")}},r=a("KHd+"),s=Object(r.a)(n,(function(){var e=this.$createElement;return(this._self._c||e)("div")}),[],!1,null,"2dc81758",null);t.default=s.exports},crl5:function(e,t,a){"use strict";a.r(t);var n=a("o0o1"),r=a.n(n),s=a("41Hj"),o=a("L2JU"),i=a("Obrr"),l=a("R5cT"),c=a("GUe+"),d=a("JtJI"),u=a("KaE5"),m=a("vDqi"),b=a.n(m);function v(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){_(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var g={directives:{"b-toggle":i.e},components:{"v-userPanel":s.d,BFormInput:l.a,BButton:c.a,BPagination:d.a,BTable:u.a,UserInfoView:s.c},data:function(){return{csrf:document.getElementsByName("csrf-token")[0].content,extraBaner:"user"===window.Permission,perPage:5,currentPage:1,id_org:null}},computed:f(f({},Object(o.c)(["getUser","getOrg","getRegion","getPageData"])),{},{rows:function(){return this.getPageData&&this.getPageData.items?this.getPageData.items.length:0},items:function(){return this.getPageData&&this.getPageData.items?this.getPageData.items:[]},fields:function(){return this.getPageData&&this.getPageData.fields?this.getPageData.fields:[]}}),watch:{getUser:function(){this.requestOrg({id:this.getUser.organization.id}),this.id_org=this.getUser.organization.id}},methods:f(f({},Object(o.b)(["requestProgram","requestOrg","requestPageData","requestUser"])),{},{setProgramValue:function(e,t){var a=this;if(this.id_org){var n=new FormData;n.append("value",e),n.append(e,t),b.a.post("/program/set-value/".concat(this.id_org),n,{headers:{"X-CSRF-Token":this.csrf}}).then((function(e){e.data.success||e.data.errors.forEach((function(e){a.setBanner("danger",e)}))}))}}}),mounted:function(){var e,t=this;return(e=r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.requestUser();case 2:return e.next=4,t.requestPageData({pageName:"main"});case 4:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){v(s,n,r,o,i,"next",e)}function i(e){v(s,n,r,o,i,"throw",e)}o(void 0)}))})()}},h=a("KHd+"),y=Object(h.a)(g,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"program_mi_body"}},[a("b-modal",{attrs:{scrollable:"",id:"extraBaner","cancel-disabled":""},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[a("b-button",{attrs:{variant:"success"},on:{click:function(t){e.extraBaner=!1}}},[e._v("ОК!")])]},proxy:!0}]),model:{value:e.extraBaner,callback:function(t){e.extraBaner=t},expression:"extraBaner"}},[a("div",{staticClass:"text-center"},[e._v("Уважаемые коллеги!")]),e._v(" "),a("p",[e._v("\n                  Департамент экономической политики Минобрнауки России рассмотрел представленные\n            подведомственными образовательными организациями высшего образования программы\n            модернизации инфраструктуры в части осуществления мероприятий по капитальному\n            ремонту объектов недвижимого имущества (далее – организации)\n            и сообщает, что организации могут начинать осуществление закупочных процедур по приоритетным\n            и резервным объектам со статусом «Рассмотрено ДЭП».\n        ")]),e._v(" "),a("p",[e._v("\n                  По вопросам работы в информационно-аналитической системе\n            «Мониторинг» организации могут связаться со службой технической поддержки\n            по телефону: 8-495-989-84-47 доб. 1 (многоканальный) или\n            по адресу электронной почты: ias@mirea.ru.\n        ")]),e._v(" "),a("p",[e._v("\n                  В части проведения мероприятий по антитеррористической защищенности объектов необходимо обращаться в Департамент корпоративного управления Минобрнауки России: Бочарова Елена Владимировна, консультант отдела оформления имущественных прав\n            и ведения реестра федерального имущества, 8-926-623-99-10, bocharovaev@minobrnauki.gov.ru\n\n        ")])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("h4",{directives:[{name:"show",rawName:"v-show",value:e.getOrg,expression:"getOrg"}]},[e._v(e._s(e.getOrg&&e.getOrg.name))]),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:e.getRegion,expression:"getRegion"}]},[e._v("Субъект РФ:\n                "),a("span",{staticClass:"text-success"},[e._v(e._s(e.getRegion&&e.getRegion.region))])]),e._v(" "),e.getPageData?a("b-table",{attrs:{id:"program_table",fields:e.fields,items:e.items,"per-page":e.perPage,"current-page":e.currentPage,small:"",bordered:""},scopedSlots:e._u([{key:"cell(value)",fn:function(t){return[t.index?a("span",[e._v(e._s(t.item.value))]):a("div",[a("b-form-input",{directives:[{name:"can",rawName:"v-can:faiv_user",arg:"faiv_user"}],staticStyle:{"min-width":"120px"},attrs:{type:"number"},on:{change:function(a){return e.setProgramValue("finance_volume",t.item.value)}},model:{value:t.item.value,callback:function(a){e.$set(t.item,"value",a)},expression:"data.item.value"}}),e._v(" "),a("span",{directives:[{name:"can",rawName:"v-can:user",arg:"user"}]},[e._v(e._s(t.item.value))])],1)]}}],null,!1,3228797749)}):a("h3",[a("span",{staticClass:"text-danger"},[e._v("Данные о вашей организации отсутствуют в системе")])]),e._v(" "),a("b-pagination",{directives:[{name:"show",rawName:"v-show",value:e.rows>e.perPage,expression:"rows > perPage"}],attrs:{"total-rows":e.rows,"per-page":e.perPage,"aria-controls":"my-table"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.getUser.isAdmin&&e.getPageData,expression:"getUser.isAdmin && getPageData"}],staticStyle:{float:"right"}},[a("b-button",{attrs:{href:"/program/view"}},[e._v("Заполнить программу модернизации")]),e._v(" "),a("b-button",{staticClass:"btn-info mt-2",attrs:{href:"/program/org"}},[e._v("Приступить к реализации программы модернизации")])],1)],1),e._v(" "),a("div",{staticClass:"col-2"}),e._v(" "),a("div",{staticClass:"col-4"},[a("v-userPanel"),e._v(" "),a("br"),e._v(" "),a("user-info-view")],1)])],1)}),[],!1,null,"20da8bf2",null);t.default=y.exports},dsre:function(e,t,a){"use strict";var n=a("h7D3");a.n(n).a},eAVo:function(e,t,a){var n=a("MoLg");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},eIbr:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.icon-hover {\n    transition: .6s;\n}\n.icon-hover:hover {\n    transform: scale(1.2);\n    color: red;\n}\n",""])},fOmC:function(e,t,a){"use strict";var n=a("I09t");a.n(n).a},h7D3:function(e,t,a){var n=a("/7vu");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},iUrh:function(e,t,a){var n=a("Emmt");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},ke0P:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.normal-font-weight-for-cell {\r\n    font-weight: normal !important;\n}\n.vertical-align-for-table-cell {\r\n    vertical-align: middle !important;\r\n    text-align: center !important;\n}\n.text-align-end-for-cell {\r\n    text-align: end !important;\n}\n.align-element-right {\r\n    float: right;\n}\r\n",""])},khDq:function(e,t,a){"use strict";a.r(t);var n=a("o0o1"),r=a.n(n),s=a("vDqi"),o=a.n(s),i=a("5scn"),l=a("aqyy"),c=a("X9p1"),d=a("Ed67"),u=a("IF94"),m=a("giZP"),b=a("R5cT"),v=a("GUe+"),p=a("g2Gq");function f(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function _(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){f(s,n,r,o,i,"next",e)}function i(e){f(s,n,r,o,i,"throw",e)}o(void 0)}))}}var g={directives:{"b-modal":i.a},components:{BModal:l.a,BAlert:c.a,BForm:d.a,BCard:u.a,BFormGroup:m.a,BFormInput:b.a,BButton:v.a,"b-select":p.a},mounted:function(){var e=this;return _(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getModels();case 2:return t.next=4,e.getRoles();case 4:case"end":return t.stop()}}),t)})))()},methods:{getModels:function(){var e=this;window.users_info.length&&window.users_info.forEach((function(t,a){a<4?(e.items[a].role=t.role,e.items[a].name=t.name,e.items[a].position=t.position,e.items[a].phone=t.phone,e.items[a].email=t.email):e.items.push({role:t.role,name:t.name,position:t.position,phone:t.phone,email:t.email,canSelect:!0})}))},getRoles:function(){var e=this;o.a.get("/api/user-info/roles").then((function(t){t.data.forEach((function(t){e.roles.push({value:t.id,text:t.role})}))}))},submit:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new FormData(document.getElementById("user_form"));a&&n.append("user_status","1"),o.a.post(this.$route.path,n,{headers:{"X-CSRF-Token":this.csrf}}).then((function(e){e.data.success?(t.showSuccess=!0,t.showError=!1):(t.showSuccess=!1,t.showError=!0)}))},submitAll:function(){var e=this;return _(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.submit(null,!0);case 2:window.location.href="/program/view";case 3:case"end":return t.stop()}}),t)})))()},add:function(){this.items.push({name:"",position:"",phone:"",email:"",role:1,canSelect:!0})},deleteItem:function(){this.items.length>4&&this.items.pop()}},data:function(){return{users_info:window.users_info||[],model:"UserInfo",roles:[],csrf:document.getElementsByName("csrf-token")[0].content,showSuccess:!1,showError:!1,items:[{name:"",position:"",phone:"",email:"",role:1,canSelect:!1},{name:"",position:"",phone:"",email:"",canSelect:!1,role:2},{name:"",position:"",phone:"",email:"",canSelect:!1,role:3},{name:"",position:"",phone:"",email:"",canSelect:!1,role:4}],formData:[]}}},h=a("KHd+"),y=Object(h.a)(g,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"user-info-form"}},[a("b-form",{attrs:{id:"user_form"}},[e._l(e.items,(function(t,n){return a("b-card",{key:n,staticStyle:{"margin-top":"10px"}},[a("b-form-group",{attrs:{id:"role-input-group",label:"Роль (поля обязательные к заполнению)","label-for":"role-input-select"}},[a("b-form-input",{attrs:{hidden:"",id:"role-input",name:e.model+"["+n+"][role]"},model:{value:t.role,callback:function(a){e.$set(t,"role",a)},expression:"item.role"}}),e._v(" "),a("b-select",{attrs:{disabled:!t.canSelect,id:"role-input-select",options:e.roles},model:{value:t.role,callback:function(a){e.$set(t,"role",a)},expression:"item.role"}})],1),e._v(" "),a("b-form-group",{attrs:{id:"name-input-group",label:"ФИО","label-for":"name-input"}},[a("b-form-input",{attrs:{id:"name-input",name:e.model+"["+n+"][name]"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}})],1),e._v(" "),a("b-form-group",{attrs:{id:"position-input-group",label:"Должность","label-for":"position-input"}},[a("b-form-input",{attrs:{id:"position-input",name:e.model+"["+n+"][position]"},model:{value:t.position,callback:function(a){e.$set(t,"position",a)},expression:"item.position"}})],1),e._v(" "),a("b-form-group",{attrs:{id:"phone-input-group",label:"Контактный мобильный телефон","label-for":"phone-input"}},[a("b-form-input",{attrs:{id:"phone-input",name:e.model+"["+n+"][phone]"},model:{value:t.phone,callback:function(a){e.$set(t,"phone",a)},expression:"item.phone"}})],1),e._v(" "),a("b-form-group",{attrs:{id:"email-input-group",label:"Почта","label-for":"email-input"}},[a("b-form-input",{attrs:{id:"email-input",name:e.model+"["+n+"][email]"},model:{value:t.email,callback:function(a){e.$set(t,"email",a)},expression:"item.email"}})],1)],1)})),e._v(" "),a("br"),e._v(" "),a("b-alert",{directives:[{name:"show",rawName:"v-show",value:e.showSuccess,expression:"showSuccess"}],attrs:{show:"",variant:"success"}},[e._v("\n            Данные сохранены успешно\n        ")]),e._v(" "),a("b-alert",{directives:[{name:"show",rawName:"v-show",value:e.showError,expression:"showError"}],attrs:{show:"",variant:"danger"}},[e._v("\n            Что то пошло не так\n        ")]),e._v(" "),a("b-button",{attrs:{variant:"success"},on:{click:e.submit}},[e._v("Сохранить")]),e._v(" "),a("b-button",{attrs:{variant:"success"},on:{click:e.add}},[e._v("Добавить эдемент")]),e._v(" "),a("b-button",{attrs:{variant:"danger"},on:{click:e.deleteItem}},[e._v("Удалить элемент")]),e._v(" "),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-approve",modifiers:{"modal-approve":!0}}],attrs:{variant:"primary"}},[e._v("Отправить данные")]),e._v(" "),a("b-modal",{attrs:{"cancel-title":"Отмена","ok-title":"Отправить",id:"modal-approve",title:"Отправить данные"},on:{ok:e.submitAll}},[a("p",{staticClass:"my-4"},[e._v("После этого действия вы больше не сможете изменять эти данные")])])],2)],1)}),[],!1,null,"10b22b41",null);t.default=y.exports},kzLW:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.toggle_button[data-v-d735cd86] {\n    display: block;\n    cursor: pointer;\n}\n",""])},lPAb:function(e,t,a){var n=a("Gd+A");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},mAdv:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.table-overflow-hidden {\n    overflow: hidden !important;\n    overflow-x: scroll !important;\n}\n.normal-font-weight-for-sell {\n    font-weight: normal !important;\n}\n.center-text-in-cell {\n    vertical-align: middle !important;\n    text-align: center !important;\n}\n.cursor-pointer {\n    cursor: pointer !important;\n}\n.a-decorating {\n    text-decoration: none !important;\n    color: darkgreen !important;\n}\n",""])},nbcP:function(e,t,a){"use strict";var n=a("lPAb");a.n(n).a},o0mV:function(e,t,a){var n=a("1RJk");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},pHQF:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.normal-font-weight-for-sell {\n    font-weight: normal !important;\n}\n.vertical-horizontal-align {\n    vertical-align: middle !important;\n    text-align: center;\n}\n:root {\n    --divider: lightgrey;\n}\n.labels-for-chart {\n    z-index: 1;\n    width: 1090px;\n    margin-left: 5px;\n    position: absolute;\n    top: 87px;\n    left: 5px;\n}\n.labels-for-chart > li {\n    margin-top: 10px;\n    border-bottom: 1px solid grey;\n}\n.charter1 {\n    z-index: 1;\n    position: absolute;\n    top: 52px;\n    left: 5px;\n    height: 320px;\n    width: 600px;\n    background-color: white;\n}\n.charter2 {\n    z-index: 1;\n    position: absolute;\n    top: 52px;\n    left: 530px;\n    height: 320px;\n    width: 200px;\n    background: linear-gradient(to right, white 60%, transparent 100%);\n}\nul {\n    -webkit-padding-start: 0px !important;\n            padding-inline-start: 0px !important;\n    list-style: none;\n}\na {\n    text-decoration: none;\n    color: inherit;\n}\nbody {\n    background: var(--body);\n    font-size: 16px;\n    font-family: sans-serif;\n}\n.chart-wrapper {\n    max-width: 1000px;\n    padding: 0 10px;\n    margin: 0 auto;\n    margin-left: 700px;\n}\n.chart-wrapper .chart-values {\n    position: relative;\n    display: flex;\n    margin-bottom: 20px;\n    font-weight: bold;\n}\n.chart-wrapper .chart-values li {\n    flex: 1;\n    min-width: 80px;\n    text-align: center;\n}\n.chart-wrapper .chart-values li:not(:last-child) {\n    position: relative;\n}\n.chart-wrapper .chart-values li:not(:last-child)::before {\n    content: '';\n    position: absolute;\n    right: 0;\n    height: 300px;\n    border-right: 1px solid var(--divider);\n}\n.chart-wrapper .chart-bars li {\n    position: relative;\n    color: var(--white);\n    margin-bottom: 15px;\n    font-size: 16px;\n    border-radius: 20px;\n    padding: 10px 20px;\n    width: 0;\n    opacity: 0;\n    transition: all 0.65s linear 0.2s;\n}\n\n\n/* Анимация стрелочек и стили самих стрелочек */\n.cell-center-for-items {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.scope-to-animate {\n    z-index: 999;\n    height: 2px;\n    width: 8px;\n    background: grey;\n    transition: 0.4s ease;\n}\n.scope-to-animate:first-child {\n    display: block;\n    position: absolute;\n    transform: rotate(45deg);\n    left: 25%;\n    bottom: 35%;\n}\n.scope-to-animate:nth-child(2) {\n    display: block;\n    position: absolute;\n    transform: rotate(-45deg);\n    left: 45%;\n    bottom: 35%;\n}\n.scope-to-animate:nth-child(3) {\n    display: block;\n    position: absolute;\n    transform: rotate(45deg);\n    left: 25%;\n    bottom: 54%;\n}\n.scope-to-animate:nth-child(4) {\n    display: block;\n    position: absolute;\n    transform: rotate(-45deg);\n    left: 45%;\n    bottom: 54%;\n}\n.label:hover .scope-to-animate:nth-child(1) {\n    transform: rotate(-135deg);\n    background: #5bc0de;\n}\n.label:hover .scope-to-animate:nth-child(2) {\n    transform: rotate(135deg);\n    background: #5bc0de;\n}\n.label:hover .scope-to-animate:nth-child(3) {\n    transform: rotate(225deg);\n    background: #5bc0de;\n}\n.label:hover .scope-to-animate:nth-child(4) {\n    transform: rotate(-225deg);\n    background: #5bc0de;\n}\n.hidden-file-input {\n    display: none;\n}\n.label {\n    position: relative;\n    width: 28px;\n}\n.arrow {\n    display: flex;\n    align-items: center;\n}\n.arrow input[type=\"file\"] {\n    outline: 0;\n    opacity: 0;\n    pointer-events: none;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n}\n.arrow .label {\n    height: 28px;\n    border: 1px solid grey;\n    border-radius: 5px;\n    display: block;\n    transition: border 300ms ease;\n    cursor: pointer;\n    text-align: center;\n}\n.arrow .label i {\n    display: block;\n    font-size: 42px;\n}\n.arrow .label i,\n.example-1 .label .title {\n    color: grey;\n    transition: 200ms color;\n}\n.arrow .label:hover {\n    border: 2px solid #5bc0de;\n}\n.arrow .label:hover i,\n.example-1 .label:hover .title {\n    color: #5bc0de;\n}\n",""])},pr8r:function(e,t,a){"use strict";var n=a("EOoP");a.n(n).a},"q+Kr":function(e,t){},qrIc:function(e,t,a){"use strict";var n=a("VcTf");a.n(n).a},"rPt+":function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.toggle_button[data-v-37cc2887] {\n    display: block;\n    cursor: pointer;\n}\n.card-body[data-v-37cc2887] {\n    overflow-y: auto;\n}\n.normal-text-for-cell[data-v-37cc2887] {\n    font-weight: normal;\n}\n",""])},teP7:function(e,t,a){"use strict";var n=a("iUrh");a.n(n).a},tev7:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.hover {\r\n    cursor: pointer;\n}\r\n",""])},ttdk:function(e,t,a){var n=a("LNSP");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,r);n.locals&&(e.exports=n.locals)},vUfo:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n#user_card_title[data-v-2ff1064e] {\r\n    font-size: 85%;\n}\r\n",""])},wfNH:function(e,t,a){"use strict";var n=a("aFWa");a.n(n).a},wxK1:function(e,t,a){"use strict";a.r(t);var n={name:"errorPage"},r=a("KHd+"),s=Object(r.a)(n,(function(){var e=this.$createElement;this._self._c;return this._m(0)}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title text-danger"},[e._v("Ваш браузер не удовлетворяет минимальным требованиям системы")]),e._v(" "),a("h6",{staticClass:"card-subtitle mb-2 text-muted"},[e._v("поддерживаемые браузеры")]),e._v(" "),a("ul",[a("li",[e._v("Google chrome версии 80 и выше.")]),e._v(" "),a("li",[e._v("Opera версии 66 и выше.")]),e._v(" "),a("li",[e._v("Microsoft Edge chromium на windows 10.")])])])])])}],!1,null,"7ea12666",null);t.default=s.exports},za17:function(e,t,a){"use strict";a.r(t);var n=a("o0o1"),r=a.n(n),s=a("vDqi"),o=a.n(s),i=a("Obrr"),l=a("X9p1"),c=a("WEOK"),d=a("IF94"),u=a("uIXr"),m=a("YZfj"),b=a("XhI9"),v=a("R5cT"),p=a("zMAm"),f=a("GUe+"),_=a("g2Gq"),g=a("Hrou"),h=a("C9gC"),y=a("Ki4g"),k=a("bPaI"),w=a("okd0"),x=a("JtJI");function C(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}var O={props:["state"],directives:{"b-toggle":i.e},components:{BAlert:l.a,BCollapse:c.a,BCard:d.a,BCardHeader:u.a,BCardBody:m.a,BInputGroup:b.a,BFormInput:v.a,BInputGroupAppend:p.a,BButton:f.a,BFormSelect:_.a,BTableSimple:g.a,BThead:h.a,BTr:y.a,BTh:k.a,BTbody:w.a,BPagination:x.a},data:function(){return{bannerInfo:[],selected:null,filters:{state:null,id:null,region:null,name:null,quantity:null,file_exist:null,p_status:null},options:{dku_status:[{value:"not",text:"В обработке"},{value:"approved",text:"Рассмотрено ДКУ"},{value:"rejected",text:"Резерв"}],dep_status:[{value:"not",text:"В обработке"},{value:"approved",text:"Согласовано ДЭП"},{value:"rejected",text:"Резерв"}],quantity:[{value:"up",text:"По возрастанию"},{value:"down",text:"По убыванию"}],file_exist:[{value:"1",text:"Выгружено"},{value:"0",text:"Не выгружено"}],p_status:[{value:"1",text:"Отправлена"},{value:"0",text:"Не отправлена"}],status:[{value:"1",text:"В обработке"},{value:"2",text:"Рекомендуется к согласованию"},{value:"3",text:"Не рекомендуется к согласованию"},{value:"4",text:"Возвращено на доработку"}]},csrf:document.getElementsByName("csrf-token")[0].content,items:[],currentPage:1,perPage:10,totalRows:1}},mounted:function(){var e,t=this;return(e=r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.filters.state=t.state,t.getTable();case 2:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){C(s,n,r,o,i,"next",e)}function i(e){C(s,n,r,o,i,"throw",e)}o(void 0)}))})()},methods:{getDkuStatus:function(e){return this.options.dku_status.find((function(t){return t.value==e})).text},getDepStatus:function(e){return this.options.dep_status.find((function(t){return t.value==e})).text},setBanner:function(e,t){var a=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2500;this.bannerInfo.unshift({show:!0,variant:e,message:t}),setTimeout((function(){a.bannerInfo.pop()}),n)},goToRef:function(e){window.location="/organization/list/".concat(e)},getTable:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=new FormData;a.append("form",JSON.stringify(this.filters)),o.a.post("/api/mgsu/main-table/".concat(t),a,{headers:{"X-CSRF-Token":this.csrf}}).then((function(t){e.items=t.data.rows,e.items.forEach((function(e){e.dku_atz=e.dku_atz?Number(e.dku_atz).toLocaleString():null})),e.totalRows=t.data.count.quantity}))},setDkuAtz:function(e){var t=this,a=new FormData;e.dku_atz=Number(e.dku_atz).toLocaleString(),a.append("dku_atz",e.dku_atz.replace(/\s/g,"").replace(",",".")),o.a.post("/api/set-status/dku/".concat(e.id),a,{headers:{"X-CSRF-Token":this.csrf}}).then((function(a){t.getTable(),t.setBanner("success","Данные внесены успешно: ".concat(e.name),3200)})).catch((function(){t.setBanner("danger","Что-то пошло не так! Обратитесь в служюу поддержки.")}))},setDkuStatus:function(e){var t=this,a=new FormData;a.append("dku_status",e.dku_status),o.a.post("/api/set-status/dku/".concat(e.id),a,{headers:{"X-CSRF-Token":this.csrf}}).then((function(a){t.getTable(),t.setBanner("success","Статус успешно изменен: ".concat(e.name),3200)})).catch((function(){t.setBanner("danger","Что-то пошло не так! Обратитесь в служюу поддержки.")}))},setDepStatus:function(e){var t=this,a=new FormData;a.append("dep_status",e.dep_status),o.a.post("/api/set-status/dep/".concat(e.id),a,{headers:{"X-CSRF-Token":this.csrf}}).then((function(a){t.getTable(),t.setBanner("success","Статус успешно изменен: ".concat(e.name),3200)})).catch((function(){t.setBanner("danger","Что-то пошло не так! Обратитесь в служюу поддержки.")}))}},watch:{currentPage:function(){var e=10*(parseInt(this.currentPage)-1);this.getTable(e)},filters:{handler:function(){this.getTable()},deep:!0}}},j=(a("pr8r"),a("KHd+")),P=Object(j.a)(O,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-3",modifiers:{"accordion-3":!0}}],staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",{staticClass:"toggle_button"},[a("b-icon",{staticClass:"mr-2 ml-1",attrs:{icon:"filter",scale:"1.5"}}),e._v("\n                Фильтры")],1)]),e._v(" "),a("b-collapse",{attrs:{id:"accordion-3",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("div",[a("b-input-group",{staticClass:"mb-2",attrs:{prepend:"ID"}},[a("b-form-input",{attrs:{type:"number","aria-label":"First name"},model:{value:e.filters.id,callback:function(t){e.$set(e.filters,"id",t)},expression:"filters.id"}}),e._v(" "),a("b-input-group-append",[a("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){e.filters.id=null}}},[a("b-icon",{attrs:{icon:"backspace",variant:"danger",scale:"1.2"}})],1)],1)],1),e._v(" "),a("b-input-group",{staticClass:"mb-2",attrs:{prepend:"Субъект"}},[a("b-form-input",{attrs:{"aria-label":"First name"},model:{value:e.filters.region,callback:function(t){e.$set(e.filters,"region",t)},expression:"filters.region"}}),e._v(" "),a("b-input-group-append",[a("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){e.filters.region=null}}},[a("b-icon",{attrs:{icon:"backspace",variant:"danger",scale:"1.2"}})],1)],1)],1),e._v(" "),a("b-input-group",{staticClass:"mb-2",attrs:{prepend:"Организация"}},[a("b-form-input",{attrs:{"aria-label":"First name"},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}}),e._v(" "),a("b-input-group-append",[a("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){e.filters.name=null}}},[a("b-icon",{attrs:{icon:"backspace",variant:"danger",scale:"1.2"}})],1)],1)],1),e._v(" "),a("b-input-group",{staticClass:"mb-2",attrs:{prepend:"Колличество объектов"}},[a("b-form-select",{attrs:{options:e.options.quantity},model:{value:e.filters.quantity,callback:function(t){e.$set(e.filters,"quantity",t)},expression:"filters.quantity"}}),e._v(" "),a("b-input-group-append",[a("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){e.filters.quantity=null}}},[a("b-icon",{attrs:{icon:"backspace",variant:"danger",scale:"1.2"}})],1)],1)],1),e._v(" "),a("b-input-group",{staticClass:"mb-2",attrs:{prepend:"Выгрузка PDF"}},[a("b-form-select",{attrs:{options:e.options.file_exist},model:{value:e.filters.file_exist,callback:function(t){e.$set(e.filters,"file_exist",t)},expression:"filters.file_exist"}}),e._v(" "),a("b-input-group-append",[a("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){e.filters.file_exist=null}}},[a("b-icon",{attrs:{icon:"backspace",variant:"danger",scale:"1.2"}})],1)],1)],1),e._v(" "),a("b-input-group",{staticClass:"mb-2",attrs:{prepend:"Выгрузка отправлена"}},[a("b-form-select",{attrs:{options:e.options.p_status},model:{value:e.filters.p_status,callback:function(t){e.$set(e.filters,"p_status",t)},expression:"filters.p_status"}}),e._v(" "),a("b-input-group-append",[a("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){e.filters.p_status=null}}},[a("b-icon",{attrs:{icon:"backspace",variant:"danger",scale:"1.2"}})],1)],1)],1)],1)])],1)],1),e._v(" "),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-12"},e._l(e.bannerInfo,(function(t,n){return a("b-alert",{key:n,attrs:{show:t.show,variant:t.variant,dismissible:"",fade:""}},[e._v(e._s(t.message))])})),1)]),e._v(" "),a("div",{staticClass:"table-overflow-hidden mt-1"},[a("b-table-simple",{attrs:{bordered:"",hover:""}},[a("b-thead",[a("b-tr",[a("b-th",[e._v("ID")]),e._v(" "),a("b-th",[e._v("Субъект")]),e._v(" "),a("b-th",[e._v("Образовательная организация высшего образования")]),e._v(" "),a("b-th",[e._v("Объектов добавлено")]),e._v(" "),a("b-th",[e._v("Выгрузка PDF")]),e._v(" "),a("b-th",[e._v("Выгрузка отправлена")]),e._v(" "),a("b-th",{directives:[{name:"can",rawName:"v-can:dku,dku_user",arg:"dku,dku_user"}]},[e._v("Статус программы (ДКУ)")]),e._v(" "),a("b-th",{directives:[{name:"can",rawName:"v-can:dep,dku,dku_user",arg:"dep,dku,dku_user"}]},[e._v("Статус программы (ДЭП)")]),e._v(" "),a("b-th",{directives:[{name:"can",rawName:"v-can:dku,dku_user",arg:"dku,dku_user"}]},[e._v("Сумма к выделению для финансирования мероприятий по АТЗ (Рублей)")])],1)],1),e._v(" "),a("b-tbody",e._l(e.items,(function(t,n){return a("b-tr",{key:n},[a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell"},[a("label",[e._v(e._s(t.id))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell"},[a("label",[e._v(e._s(t.region))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell cursor-pointer center-text-in-cell",on:{click:function(a){return e.goToRef(t.id)}}},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(t.name))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell"},[a("label",[e._v(e._s(t.quantity))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell"},["1"===t.file_exist?a("a",{staticClass:"a-decorating",attrs:{href:"/program/download-doc/"+t.id}},[a("b-icon",{attrs:{icon:"file-earmark-arrow-down",scale:"2",vriant:"success"}})],1):a("b-icon",{attrs:{icon:"alert-circle",scale:"2"}})],1),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell"},["1"===t.p_status?a("b-icon",{attrs:{icon:"check",variant:"success",scale:"2"}}):a("b-icon",{attrs:{icon:"x-octagon",variant:"danger",scale:"2"}})],1),e._v(" "),a("b-th",{directives:[{name:"can",rawName:"v-can:dku,dku_user",arg:"dku,dku_user"}],staticClass:"normal-font-weight-for-sell center-text-in-cell"},[a("b-form-select",{directives:[{name:"can",rawName:"v-can:dku",arg:"dku"}],attrs:{options:[{value:"not",text:"В обработке"},{value:"approved",text:"Рассмотрено ДКУ"},{value:"rejected",text:"Резерв"}]},on:{change:function(a){return e.setDkuStatus(t)}},model:{value:t.dku_status,callback:function(a){e.$set(t,"dku_status",a)},expression:"item.dku_status"}}),e._v(" "),a("span",{directives:[{name:"can",rawName:"v-can:dku_user",arg:"dku_user"}]},[e._v(e._s(e.getDkuStatus(t.dku_status)))])],1),e._v(" "),a("b-th",{directives:[{name:"can",rawName:"v-can:dep,dku,dku_user",arg:"dep,dku,dku_user"}],staticClass:"normal-font-weight-for-sell center-text-in-cell"},[a("b-form-select",{directives:[{name:"can",rawName:"v-can:dep",arg:"dep"}],attrs:{options:[{value:"not",text:"В обработке"},{value:"approved",text:"Согласовано ДЭП"},{value:"rejected",text:"Резерв"}]},on:{change:function(a){return e.setDepStatus(t)}},model:{value:t.dep_status,callback:function(a){e.$set(t,"dep_status",a)},expression:"item.dep_status"}}),e._v(" "),a("span",{directives:[{name:"can",rawName:"v-can:dku,dku_user",arg:"dku,dku_user"}]},[e._v(e._s(e.getDepStatus(t.dep_status)))])],1),e._v(" "),a("b-th",{directives:[{name:"can",rawName:"v-can:dku,dku_user",arg:"dku,dku_user"}],staticClass:"normal-font-weight-for-sell center-text-in-cell"},[a("b-form-input",{directives:[{name:"can",rawName:"v-can:dku",arg:"dku"}],on:{change:function(a){return e.setDkuAtz(t)}},model:{value:t.dku_atz,callback:function(a){e.$set(t,"dku_atz",a)},expression:"item.dku_atz"}}),e._v(" "),a("span",{directives:[{name:"can",rawName:"v-can:dku_user",arg:"dku_user"}]},[e._v(e._s(t.dku_atz))])],1)],1)})),1)],1),e._v(" "),a("b-pagination",{attrs:{"total-rows":e.totalRows,"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)}),[],!1,null,null,null).exports,D=a("6Ytq");function B(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(e){return void a(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function E(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){B(s,n,r,o,i,"next",e)}function i(e){B(s,n,r,o,i,"throw",e)}o(void 0)}))}}var S={directives:{"b-toggle":i.e},components:{BBadge:D.a,BButton:f.a,BInputGroupAppend:p.a,BFormInput:v.a,BInputGroup:b.a,BCardBody:m.a,BCollapse:c.a,BTableSimple:g.a,BTbody:w.a,BTr:y.a,BTh:k.a,BPagination:x.a,BThead:h.a,BCard:d.a,BCardHeader:u.a},props:["status","dep_status","dku_status","or_where"],data:function(){return{csrf:document.getElementsByName("csrf-token")[0].content,filters:{status:null,id_org:null,id:null,dep_status:null,dku_status:null,or_where:null},items:[],currentPage:1,totalRows:[],perPage:10}},mounted:function(){var e=this;return E(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.status;case 2:return t.next=4,e.getObjects();case 4:case"end":return t.stop()}}),t)})))()},watch:{currentPage:function(){var e=10*(parseInt(this.currentPage)-1);this.getObjects(e)},filters:{handler:function(){this.getObjects()},deep:!0}},methods:{getPriority:function(e){return 0==parseInt(e)?"Приоритетный":"Резервный"},goTo:function(e){window.location="/organization/obj/".concat(e)},getObjects:function(){var e=arguments,t=this;return E(r.a.mark((function a(){var n,s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:0,s=new FormData,t.filters.status=t.status,t.filters.dep_status=t.dep_status,t.filters.dku_status=t.dku_status,t.filters.or_where=t.or_where,s.append("form",JSON.stringify(t.filters)),a.abrupt("return",o.a.post("/api/mgsu/objects-table/".concat(n),s,{headers:{"X-CSRF-Token":t.csrf}}).then((function(e){t.items=e.data.items,t.totalRows[t.status]=e.data.count})));case 8:case"end":return a.stop()}}),a)})))()}}},F=Object(j.a)(S,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-3",modifiers:{"accordion-3":!0}}],staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("span",{staticClass:"toggle_button"},[a("b-icon",{staticClass:"mr-2 ml-1",attrs:{icon:"filter",scale:"1.5"}}),e._v("\n                Фильтры")],1)]),e._v(" "),a("b-collapse",{attrs:{id:"accordion-3",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("div",[a("b-input-group",{staticClass:"mb-2",attrs:{prepend:"ID Организации"}},[a("b-form-input",{attrs:{type:"number","aria-label":"First name"},model:{value:e.filters.id_org,callback:function(t){e.$set(e.filters,"id_org",t)},expression:"filters.id_org"}}),e._v(" "),a("b-input-group-append",[a("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){e.filters.id=null}}},[a("b-icon",{attrs:{icon:"backspace",variant:"danger",scale:"1.2"}})],1)],1)],1),e._v(" "),a("b-input-group",{staticClass:"mb-2",attrs:{prepend:"ID Объекта"}},[a("b-form-input",{attrs:{type:"number","aria-label":"First name"},model:{value:e.filters.id,callback:function(t){e.$set(e.filters,"id",t)},expression:"filters.id"}}),e._v(" "),a("b-input-group-append",[a("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){e.filters.id=null}}},[a("b-icon",{attrs:{icon:"backspace",variant:"danger",scale:"1.2"}})],1)],1)],1)],1)])],1)],1),e._v(" "),a("div",{staticClass:"table-overflow-hidden mt-3"},[a("b-table-simple",{attrs:{bordered:"",hover:""}},[a("b-thead",[a("b-tr",[a("b-th",[e._v("ID Организации")]),e._v(" "),a("b-th",[e._v("Название организации")]),e._v(" "),a("b-th",[e._v("ID Объекта")]),e._v(" "),a("b-th",[e._v("Приоритет")]),e._v(" "),a("b-th",[e._v("Тип")]),e._v(" "),a("b-th",[e._v("Название объекта")])],1)],1),e._v(" "),a("b-tbody",e._l(e.items,(function(t,n){return a("b-tr",{key:n,staticClass:"cursor-pointer",on:{click:function(a){return e.goTo(t.po_id)}}},[a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(t.o_id))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(t.o_name))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell cursor-pointer center-text-in-cell"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(t.po_id))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(e.getPriority(t.priority)))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(t.type))])]),e._v(" "),a("b-th",{staticClass:"normal-font-weight-for-sell center-text-in-cell"},[a("div",{staticClass:"d-flex justify-content-between"},[a("label",{staticClass:"cursor-pointer"},[e._v(e._s(t.po_name))]),e._v(" "),a("div",["root"==t.last_comment_role?a("b-badge",{attrs:{variant:"warning"}},[e._v("!")]):e._e()],1)])])],1)})),1)],1),e._v(" "),a("b-pagination",{attrs:{"total-rows":e.totalRows[e.status],"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)}),[],!1,null,null,null).exports,N=a("41Hj"),I=a("4jWJ"),T=a("+QIf"),z=a("YZAB"),$={components:{BBreadcrumb:I.a,BTabs:T.a,BTab:z.a,ShitTable:N.b,"v-all-organizations":P,"v-objects":F},data:function(){return{tab_show:window.show_comp}}},q=Object(j.a)($,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-breadcrumb",{attrs:{items:[{text:"Список организаций",href:"/organization/list"}]}}),e._v(" "),a("b-tabs",{attrs:{"content-class":"mt-3"}},[a("b-tab",{directives:[{name:"can",rawName:"v-can:root,mgsu,dep",arg:"root,mgsu,dep"}],attrs:{lazy:"","title-link-class":"text-info",title:"Сводная таблица"}},[a("shit-table")],1),e._v(" "),a("b-tab",{attrs:{lazy:"","title-link-class":"text-info",title:"Организации",active:""}},[a("v-all-organizations",{attrs:{state:"all"}})],1),e._v(" "),a("b-tab",{directives:[{name:"can",rawName:"v-can:root,mgsu,dep",arg:"root,mgsu,dep"}],attrs:{lazy:"","title-link-class":"text-secondary",title:"В обработке"}},[a("v-objects",{attrs:{status:"1"}})],1),e._v(" "),a("b-tab",{directives:[{name:"can",rawName:"v-can:root,mgsu,dep",arg:"root,mgsu,dep"}],attrs:{lazy:"","title-link-class":"text-warning",title:"Возвращено на доработку"}},[a("v-objects",{attrs:{status:"4"}})],1),e._v(" "),a("b-tab",{directives:[{name:"can",rawName:"v-can:root,mgsu,dep",arg:"root,mgsu,dep"}],attrs:{lazy:"","title-link-class":"text-success",title:"Рекомендуется к согласованию"}},[a("v-objects",{attrs:{status:"2"}})],1),e._v(" "),a("b-tab",{directives:[{name:"can",rawName:"v-can:root,mgsu,dep",arg:"root,mgsu,dep"}],attrs:{lazy:"","title-link-class":"text-danger",title:"Не рекомендуется к согласованию"}},[a("v-objects",{attrs:{status:"3"}})],1),e._v(" "),a("b-tab",{directives:[{name:"can",rawName:"v-can:root,mgsu,dep",arg:"root,mgsu,dep"}],attrs:{lazy:"","title-link-class":"text-success",title:"Рассмотрено ДЭП"}},[a("v-objects",{attrs:{status:"2",dep_status:"approved"}})],1),e._v(" "),a("b-tab",{directives:[{name:"can",rawName:"v-can:root,mgsu,dep",arg:"root,mgsu,dep"}],attrs:{lazy:"","title-link-class":"text-warning",title:"Резерв"}},[a("v-objects",{attrs:{status:"2",dep_status:"rejected",dku_status:"rejected",or_where:"true"}})],1),e._v(" "),a("b-tab",{directives:[{name:"can",rawName:"v-can:root,mgsu,dep",arg:"root,mgsu,dep"}],attrs:{lazy:"","title-link-class":"text-info",title:"Организации иных ФОИВ"}},[a("v-all-organizations",{attrs:{state:"other"}})],1),e._v(" "),a("b-tab",{directives:[{name:"can",rawName:"v-can:root,mgsu,dep",arg:"root,mgsu,dep"}],attrs:{lazy:"","title-link-class":"text-dark",title:"Объекты на реализации"}},[a("v-objects",{attrs:{status:"5"}})],1)],1),e._v(" "),a("a",{directives:[{name:"can",rawName:"v-can:root,mgsu,dep",arg:"root,mgsu,dep"}],staticClass:"btn btn-warning mt-3",attrs:{href:"/organization/export/2"}},[e._v("Статистика по статусам")]),e._v(" "),a("a",{directives:[{name:"can",rawName:"v-can:dku,dku_user",arg:"dku,dku_user"}],staticClass:"btn btn-warning mt-3",attrs:{href:"/program/dku-export"}},[e._v("Статистика по статусам")]),e._v(" "),a("a",{directives:[{name:"can",rawName:"v-can:root,mgsu,dep",arg:"root,mgsu,dep"}],staticClass:"btn btn-warning mt-3",attrs:{href:"/organization/export/1"}},[e._v("Статистика по бюджетам (Организация)")]),e._v(" "),a("a",{directives:[{name:"can",rawName:"v-can:root,mgsu,dep",arg:"root,mgsu,dep"}],staticClass:"btn btn-warning mt-3",attrs:{href:"/program-objects/export"}},[e._v("Статистика по бюджетам (объект)")])],1)}),[],!1,null,null,null);t.default=q.exports}},[[0,1,2]]]);